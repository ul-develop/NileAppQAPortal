(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[26],{1096:function(e,t,n){"use strict";n.r(t);var a=n(285),r=n(22),i=n(0),c=n(15),s=n.n(c),o=n(706),l=n(143),d=n(506),j=n(202),u=n(149),b=n(29),O=n(500),f=n(30),h=n(629),g=n(620),p=n(594),x=n(912),m=n(633),v=n(737),S=n.n(v),y=n(866),C=n(2),N=Object(O.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:{backgroundColor:Object(f.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),I=function(e){var t=N(),n=e.onSearch,a=e.onTriggerSearch,c=e.statuses,s=e.search,o=e.setSearch,l=e.selectedStatuses,d=e.setSelectedStatuses,j=Object(i.useState)(!1),u=Object(r.a)(j,2),b=u[0],O=u[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{className:t.root,children:Object(C.jsx)(y.a,{onSearch:n,onTriggerSearch:a,statuses:c,search:s,setSearch:o,selectedStatuses:l,setSelectedStatuses:d,openFilter:b})}),Object(C.jsx)(g.a,{container:!0,alignItems:"center",justifyContent:"flex-end",children:Object(C.jsx)(p.a,{sx:{display:{xs:"block",lg:"none"}},children:Object(C.jsx)(x.a,{title:"Filter",children:Object(C.jsx)(m.a,{sx:{width:"48px",height:"48px"},onClick:function(){return O(!b)},children:Object(C.jsx)(S.a,{})})})})})]})},k=n(804),w=n(98),P=n(751),R=function(){var e=Object(w.e)(),t=Object(o.a)(Object(l.d)(j.a.getOffers),{variables:{PageIndex:0,PageSize:b.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),n=t.loading,a=t.error,c=t.data,O=t.fetchMore,f=Object(o.a)(Object(l.d)(j.a.listOfferSteps)),h=f.loading,g=f.error,p=f.data,x=Object(i.useState)(!1),m=Object(r.a)(x,2),v=m[0],S=m[1],y=Object(i.useState)(""),N=Object(r.a)(y,2),R=N[0],z=N[1],L=Object(i.useState)([]),B=Object(r.a)(L,2),T=B[0],F=B[1],A=Object(d.a)(Object(l.d)(j.a.getOffers)),M=Object(r.a)(A,2),W=M[0],D=M[1],q=D.loading,E=D.data,J=Object(i.useState)([]),H=Object(r.a)(J,2),Q=H[0],V=H[1],Y=Object(i.useState)(!1),_=Object(r.a)(Y,2),G=_[0],K=_[1],U=Object(i.useState)(0),X=Object(r.a)(U,2),Z=X[0],$=X[1];Object(i.useEffect)((function(){var e=v?E:c,t=s()(e,"getOffers.Count",0),n=s()(e,"getOffers.Total",0);K(t<n),$(s()(e,"getOffers.PageIndex")||0),V(s()(e,"getOffers.Items")||[])}),[c,E,v]);var ee=n||q;if((ee||h)&&!c)return Object(C.jsx)(u.a,{});(a||g)&&e({message:s()(a,"message","Something went wrong"),alertSeverity:"error"});var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(k.a)({search:R,selectedStatuses:T}),n=t.query,a=t.statusIds;n&&W({variables:{PageIndex:e,PageSize:b.a.pagination.limit,Query:n.trim(),StepIds:a}}),S(Boolean(n))},ne=s()(p,["listOfferSteps"],[]).map((function(e){return{Id:s()(e,"id"),Name:s()(e,"messages.advisor")}}));return Object(C.jsxs)(C.Fragment,{children:[q&&Object(C.jsx)(u.a,{}),Object(C.jsx)(I,{onSearch:te,onTriggerSearch:S,statuses:ne,search:R,setSearch:z,selectedStatuses:T,setSelectedStatuses:F}),Object(C.jsx)(P.a,{offers:Q,isLoading:ee,hasMore:G,loadMore:function(){v?te(Z+1):O({variables:{PageIndex:Z+1,PageSize:b.a.pagination.limit}})}})]})},z=n(665),L=n(352),B=n(666);t.default=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(z.a,{navigation:Object(B.c)(L.a),icon:!0}),Object(C.jsx)(a.a,{title:"Offers List",children:Object(C.jsx)(R,{})})]})}},665:function(e,t,n){"use strict";var a=n(6),r=n(27),i=n(22),c=n(148),s=n(0),o=n(57),l=n(500),d=n(510),j=n(511),u=n(513),b=n(620),O=n(512),f=n(750),h=n(671),g=n.n(h),p=n(672),x=n.n(p),m=n(662),v=n.n(m),S=n(65),y=n(124),C=n(2),N=["card","divider","icon","icons","maxItems","navigation","rightAlign","title","titleBottom"],I=Object(l.a)((function(e){return{link:{display:"flex",color:e.palette.grey[900],textDecoration:"none",alignContent:"center",alignItems:"center"},activeLink:{display:"flex",textDecoration:"none",alignContent:"center",alignItems:"center",color:e.palette.grey[500]},icon:{marginRight:e.spacing(.75),marginTop:"-".concat(e.spacing(.25)),width:"1rem",height:"1rem",color:e.palette.secondary.main},separator:{width:16,marginLeft:8,marginRight:8},content:{padding:"16px !important"},noPadding:{padding:"16px !important",paddingLeft:"0 !important"},card:{marginBottom:e.spacing(y.b),border:"1px solid",borderColor:"dark"===e.palette.mode?e.palette.background.default:e.palette.primary[200]+75},root:{background:"transparent",boxShadow:"none",border:"none"},titleTop:{marginBottom:e.spacing(1)},titleBottom:{marginTop:e.spacing(1)},divider:{borderColor:e.palette.primary.main,marginBottom:e.spacing(y.b)}}}));t.a=function(e){var t=e.card,n=e.divider,l=e.icon,h=e.icons,p=e.maxItems,m=e.navigation,y=e.rightAlign,k=e.title,w=e.titleBottom,P=Object(c.a)(e,N),R=I(),z=Object(s.useState)([]),L=Object(i.a)(z,2),B=L[0],T=L[1],F=Object(s.useState)(),A=Object(i.a)(F,2),M=A[0],W=A[1];Object(s.useEffect)((function(){var e;B.length||null===m||void 0===m||null===(e=m.items)||void 0===e||e.map((function(e,t){return e.type&&"group"===e.type&&D(e,t),!1}))}),[]);var D=function e(t,n){t.children&&t.children.filter((function(t){return t.type&&"collapse"===t.type?(T((function(e){return[].concat(Object(r.a)(e),[t])})),e(t)):t.type&&"item"===t.type&&document.location.hash.includes("#".concat(t.url))&&W(t),!1}))},q=R.card;!1===t&&(q=R.root);var E,J=R.content;!1===t&&(J=R.noPadding);var H,Q=Object(C.jsx)(d.a,{}),V="",Y=B.map((function(e){if("collapse"!==e.type)return Object(C.jsx)(C.Fragment,{});var t=e.icon?e.icon:g.a;return Object(C.jsxs)(d.a,{component:o.c,to:e.url||"#",variant:"subtitle1",className:R.link,children:[h&&Object(C.jsx)(t,{className:R.icon}),e.title]},e.id)}));return M&&"item"===M.type&&(V=M.title,H=M.icon?M.icon:g.a,E=Object(C.jsxs)(d.a,{variant:"subtitle1",className:R.activeLink,children:[h&&Object(C.jsx)(H,{className:R.icon}),V]}),!1!==M.breadcrumbs&&(Q=Object(C.jsxs)(j.a,Object(a.a)(Object(a.a)({className:q},P),{},{children:[Object(C.jsx)(u.a,{className:J,children:Object(C.jsxs)(b.a,{container:!0,direction:y?"row":"column",justifyContent:y?"space-between":"flex-start",alignItems:y?"center":"flex-start",spacing:1,children:[k&&!w&&Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(f.a,{classes:{separator:R.separator},"aria-label":"breadcrumb",maxItems:p||8,separator:Object(C.jsx)(S.b,{stroke:1.5,size:"1rem"}),children:[Object(C.jsxs)(d.a,{component:o.c,to:"/",color:"inherit",variant:"subtitle1",className:R.link,children:[h&&Object(C.jsx)(v.a,{className:R.icon}),l&&Object(C.jsx)(x.a,{className:R.icon,style:{marginRight:0}}),!l&&"Dashboard"]}),Y,E]})}),k&&w&&Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})})]})}),!1===t&&!1!==n&&Object(C.jsx)(O.a,{className:R.divider})]})))),Q}},666:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var a=n(6),r=n(138),i=n(2),c=function(e,t){var n=e.id,r=e.url,i=t.id,c=t.url;return Object(a.a)(Object(a.a)({},s({title:"property",id:n,url:r})),{},{type:"collapse",children:[s({title:"offer",id:i,url:c})]})},s=function(e){var t=e.url,n=e.id,a=e.title;return{id:n,title:Object(i.jsx)(r.a,{id:a,values:{id:n}}),url:t,type:"item"}},o=function(e,t){return{items:[{type:"group",children:[Object(a.a)(Object(a.a)({},e),{},{children:t?[t]:e.children})]}]}}},679:function(e,t,n){"use strict";var a=n(632),r=n(620),i=n(858),c=n(65),s=n(854),o=n(500),l=n(2),d=Object(s.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(a.a),j=Object(o.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,a=e.loading,s=j();return Object(l.jsx)(r.a,{container:!0,className:s.toolbar,justifyContent:"center",children:Object(l.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||a,children:a?Object(l.jsx)(i.a,{size:24}):Object(l.jsx)(c.a,{})})})}},699:function(e,t,n){"use strict";var a=n(500),r=n(1103),i=n(1095),c=n(720),s=n(633),o=n(65),l=n(2),d=Object(a.a)((function(e){return{searchControl:{paddingRight:"16px",paddingLeft:"16px","& input":{background:"transparent !important",paddingLeft:"5px !important"}},startAdornment:{fontSize:"1rem",color:e.palette.grey[500]},resetButton:{width:"22px",height:"22px"},formControl:{width:"100%"}}}));t.a=function(e){var t=e.search,n=e.setSearch,a=d();return Object(l.jsx)(r.a,{variant:"outlined",className:a.formControl,children:Object(l.jsx)(i.a,{className:a.searchControl,name:"search",value:t,onChange:function(e){n(e.target.value)},placeholder:"Search",startAdornment:Object(l.jsx)(c.a,{position:"start",children:Object(l.jsx)(o.j,{stroke:1.5,size:"1rem",className:a.startAdornment})}),endAdornment:t?Object(l.jsx)(s.a,{type:"button",size:"small",className:a.resetButton,onClick:function(){n("")},children:Object(l.jsx)(o.m,{stroke:1.5,size:"1rem"})}):Object(l.jsx)(l.Fragment,{}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})}},751:function(e,t,n){"use strict";n(0);var a=n(56),r=n.n(a),i=n(769),c=n(770),s=n(771),o=n(767),l=n(768),d=n(633),j=n(620),u=n(614),b=n(707),O=n.n(b),f=n(500),h=n(54),g=n(6),p=n(766),x=n(855),m=n(782),v=n(116),S=n(174),y=n(2),C=Object(f.a)((function(){return{sortSpan:Object(g.a)({},m.a),cell:{whiteSpace:"pre"}}})),N=function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,r=C(),i=function(e){return n&&n.id===e.id};return Object(y.jsx)(p.a,{children:Object(y.jsxs)(o.a,{children:[v.j.map((function(e){return Object(y.jsx)(l.a,{align:"left",padding:e.disablePadding?"none":"normal",sortDirection:i(e)?t:void 0,className:r.cell,children:a?Object(y.jsxs)(x.a,{active:i(e),direction:i(e)?t:S.a.ASC,onClick:function(){return a&&a(e)},children:[e.label,i(e)?Object(y.jsx)("span",{className:r.sortSpan,children:t===S.a.DESC?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)})),Object(y.jsx)(l.a,{align:"center",sx:{pr:3},children:"Action"})]})})},I=n(679),k=n(20),w=n(28),P=Object(f.a)((function(){return{table:{minWidth:"750px"}}}));t.a=function(e){var t=e.offers,n=e.isLoading,a=e.hasMore,b=e.loadMore,f=e.propertyId,g=e.order,p=e.orderBy,x=e.onRequestSort,m=P(),v=Object(h.h)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(i.a,{children:Object(y.jsxs)(c.a,{className:m.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(y.jsx)(N,{order:g,orderBy:p,onRequestSort:x}),Object(y.jsx)(s.a,{children:t.map((function(e){if("number"===typeof e)return null;var t=Object(k.o)(e),n=t.offerId,a=t.offerNo,r=t.buyerName,i=t.agentName,c=t.price,s=t.funding,j=t.loanType,u=t.downPayment,b=t.inspectionContingency,g=t.saleOfHomeContingency,p=t.financeContingency,x=t.appraisalContingency,m=t.closingPeriod,S=t.status;return Object(y.jsxs)(o.a,{hover:!0,tabIndex:-1,children:[Object(y.jsx)(l.a,{align:"left",children:a}),Object(y.jsx)(l.a,{align:"left",children:r}),Object(y.jsx)(l.a,{align:"left",children:i}),Object(y.jsx)(l.a,{align:"left",children:c}),Object(y.jsx)(l.a,{align:"left",children:s}),Object(y.jsx)(l.a,{align:"left",children:j}),Object(y.jsx)(l.a,{align:"left",children:u}),Object(y.jsx)(l.a,{align:"left",children:p}),Object(y.jsx)(l.a,{align:"left",children:b}),Object(y.jsx)(l.a,{align:"left",children:x}),Object(y.jsx)(l.a,{align:"left",children:g}),Object(y.jsx)(l.a,{align:"left",children:m}),Object(y.jsx)(l.a,{align:"left",children:S}),Object(y.jsx)(l.a,{align:"center",sx:{pr:3},children:Object(y.jsx)(d.a,{color:"primary",onClick:function(){return function(e,t){var n=null!==f&&void 0!==f?f:t,a=Object(h.f)(w.c.PROPERTY_OFFER,{propertyId:n,offerId:e});v.push(a)}(e.OfferId,e.PropertyId)},children:Object(y.jsx)(O.a,{sx:{fontSize:"1.3rem"}})})})]},n)}))})]})}),r()(t)&&!n&&Object(y.jsx)(j.a,{item:!0,xs:12,children:Object(y.jsx)(u.a,{icon:!1,severity:"info",children:"No Records found"})}),a&&b&&Object(y.jsx)(I.a,{onLoadMore:b,loading:n})]})}},804:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(15),r=n.n(a),i=n(56),c=n.n(i),s=function(e){var t=e.search,n=e.selectedStatuses.map((function(e){return r()(e,"Id")}));return{query:c()(n)||t?t:"*",statusIds:c()(n)?void 0:n}}},866:function(e,t,n){"use strict";n(0);var a=n(620),r=n(632),i=n(56),c=n.n(i),s=n(500),o=n(699),l=n(6),d=n(1103),j=n(910),u=n(694),b=n(15),O=n.n(b),f=n(152),h=n.n(f),g=n(2),p=Object(s.a)((function(){return{formControl:{width:"100%"}}})),x=function(e){var t=e.selectedStatuses,n=e.setSelectedStatuses,a=e.statuses,r=p();return Object(g.jsx)(d.a,{variant:"outlined",className:r.formControl,children:Object(g.jsx)(j.a,{value:t,onChange:function(e,t){n(h()(t,"Id"))},fullWidth:!0,multiple:!0,limitTags:1,options:a,getOptionLabel:function(e){return O()(e,"Name","")},defaultValue:[],renderInput:function(e){return Object(g.jsx)(u.a,Object(l.a)(Object(l.a)({},e),{},{label:"Status",variant:"outlined",multiline:!1}))}})})},m=Object(s.a)((function(){return{form:{width:"100%"}}}));t.a=function(e){var t=e.onSearch,n=e.onTriggerSearch,i=e.statuses,s=e.search,l=e.setSearch,d=e.selectedStatuses,j=e.setSelectedStatuses,u=e.openFilter,b=void 0===u||u,O=m(),f={display:{xs:b?"block":"none",lg:"block"}};return Object(g.jsx)("form",{onSubmit:function(e){e.preventDefault(),t()},className:O.form,children:Object(g.jsxs)(a.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(a.a,{item:!0,xs:12,lg:4,children:Object(g.jsx)(o.a,{search:s,setSearch:l})}),!c()(i)&&Object(g.jsx)(a.a,{item:!0,xs:12,lg:6,sx:f,children:Object(g.jsx)(x,{selectedStatuses:d,setSelectedStatuses:j,statuses:i})}),Object(g.jsx)(a.a,{item:!0,xs:12,lg:1,sx:f,children:Object(g.jsx)(r.a,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,children:"Search"})}),Object(g.jsx)(a.a,{item:!0,xs:12,lg:1,sx:f,children:Object(g.jsx)(r.a,{type:"button",variant:"outlined",size:"large",fullWidth:!0,onClick:function(){l(""),j([]),n(!1)},children:"Reset"})})]})})}}}]);
//# sourceMappingURL=26.51ba898a.chunk.js.map