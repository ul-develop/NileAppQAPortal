(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[26],{1097:function(e,t,n){"use strict";n.r(t);var a=n(288),r=n(20),i=n(0),c=n(11),s=n.n(c),o=n(769),l=n(146),d=n(512),j=n(140),u=n(151),b=n(29),O=n(506),f=n(30),h=n(633),g=n(624),p=n(598),x=n(828),m=n(638),v=n(789),S=n.n(v),y=n(890),C=n(2),N=Object(O.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:{backgroundColor:Object(f.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),I=function(e){var t=N(),n=e.onSearch,a=e.onTriggerSearch,c=e.statuses,s=e.search,o=e.setSearch,l=e.selectedStatuses,d=e.setSelectedStatuses,j=Object(i.useState)(!1),u=Object(r.a)(j,2),b=u[0],O=u[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{className:t.root,children:Object(C.jsx)(y.a,{onSearch:n,onTriggerSearch:a,statuses:c,search:s,setSearch:o,selectedStatuses:l,setSelectedStatuses:d,openFilter:b})}),Object(C.jsx)(g.a,{container:!0,alignItems:"center",justifyContent:"flex-end",children:Object(C.jsx)(p.a,{sx:{display:{xs:"block",lg:"none"}},children:Object(C.jsx)(x.a,{title:"Filter",children:Object(C.jsx)(m.a,{sx:{width:"48px",height:"48px"},onClick:function(){return O(!b)},children:Object(C.jsx)(S.a,{})})})})})]})},k=n(880),w=n(98),P=n(716),R=function(){var e=Object(w.f)(),t=Object(o.a)(Object(l.d)(j.a.getOffers),{variables:{PageIndex:0,PageSize:b.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),n=t.loading,a=t.error,c=t.data,O=t.fetchMore,f=Object(o.a)(Object(l.d)(j.a.listOfferSteps)),h=f.loading,g=f.error,p=f.data,x=Object(i.useState)(!1),m=Object(r.a)(x,2),v=m[0],S=m[1],y=Object(i.useState)(""),N=Object(r.a)(y,2),R=N[0],z=N[1],L=Object(i.useState)([]),B=Object(r.a)(L,2),T=B[0],F=B[1],A=Object(d.a)(Object(l.d)(j.a.getOffers)),M=Object(r.a)(A,2),W=M[0],D=M[1],q=D.loading,E=D.data,J=Object(i.useState)([]),H=Object(r.a)(J,2),Q=H[0],V=H[1],Y=Object(i.useState)(!1),_=Object(r.a)(Y,2),G=_[0],K=_[1],U=Object(i.useState)(0),X=Object(r.a)(U,2),Z=X[0],$=X[1];Object(i.useEffect)((function(){var e=v?E:c,t=s()(e,"getOffers.Count",0),n=s()(e,"getOffers.Total",0);K(t<n),$(s()(e,"getOffers.PageIndex")||0),V(s()(e,"getOffers.Items")||[])}),[c,E,v]);var ee=n||q;if((ee||h)&&!c)return Object(C.jsx)(u.a,{});(a||g)&&e({message:s()(a,"message","Something went wrong"),alertSeverity:"error"});var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(k.a)({search:R,selectedStatuses:T}),n=t.query,a=t.statusIds;n&&W({variables:{PageIndex:e,PageSize:b.a.pagination.limit,Query:n.trim(),StepIds:a}}),S(Boolean(n))},ne=s()(p,["listOfferSteps"],[]).map((function(e){return{Id:s()(e,"id"),Name:s()(e,"messages.advisor")}}));return Object(C.jsxs)(C.Fragment,{children:[q&&Object(C.jsx)(u.a,{}),Object(C.jsx)(I,{onSearch:te,onTriggerSearch:S,statuses:ne,search:R,setSearch:z,selectedStatuses:T,setSelectedStatuses:F}),Object(C.jsx)(P.a,{offers:Q,isLoading:ee,hasMore:G,loadMore:function(){v?te(Z+1):O({variables:{PageIndex:Z+1,PageSize:b.a.pagination.limit}})}})]})},z=n(669),L=n(355),B=n(671);t.default=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(z.a,{navigation:Object(B.c)(L.a),icon:!0}),Object(C.jsx)(a.a,{title:"Offers List",children:Object(C.jsx)(R,{})})]})}},669:function(e,t,n){"use strict";var a=n(6),r=n(26),i=n(20),c=n(153),s=n(0),o=n(57),l=n(506),d=n(516),j=n(517),u=n(519),b=n(624),O=n(518),f=n(764),h=n(677),g=n.n(h),p=n(678),x=n.n(p),m=n(670),v=n.n(m),S=n(65),y=n(125),C=n(2),N=["card","divider","icon","icons","maxItems","navigation","rightAlign","title","titleBottom"],I=Object(l.a)((function(e){return{link:{display:"flex",color:e.palette.grey[900],textDecoration:"none",alignContent:"center",alignItems:"center"},activeLink:{display:"flex",textDecoration:"none",alignContent:"center",alignItems:"center",color:e.palette.grey[500]},icon:{marginRight:e.spacing(.75),marginTop:"-".concat(e.spacing(.25)),width:"1rem",height:"1rem",color:e.palette.secondary.main},separator:{width:16,marginLeft:8,marginRight:8},content:{padding:"16px !important"},noPadding:{padding:"16px !important",paddingLeft:"0 !important"},card:{marginBottom:e.spacing(y.b),border:"1px solid",borderColor:"dark"===e.palette.mode?e.palette.background.default:e.palette.primary[200]+75},root:{background:"transparent",boxShadow:"none",border:"none"},titleTop:{marginBottom:e.spacing(1)},titleBottom:{marginTop:e.spacing(1)},divider:{borderColor:e.palette.primary.main,marginBottom:e.spacing(y.b)}}}));t.a=function(e){var t=e.card,n=e.divider,l=e.icon,h=e.icons,p=e.maxItems,m=e.navigation,y=e.rightAlign,k=e.title,w=e.titleBottom,P=Object(c.a)(e,N),R=I(),z=Object(s.useState)([]),L=Object(i.a)(z,2),B=L[0],T=L[1],F=Object(s.useState)(),A=Object(i.a)(F,2),M=A[0],W=A[1];Object(s.useEffect)((function(){var e;B.length||null===m||void 0===m||null===(e=m.items)||void 0===e||e.map((function(e,t){return e.type&&"group"===e.type&&D(e,t),!1}))}),[]);var D=function e(t,n){t.children&&t.children.filter((function(t){return t.type&&"collapse"===t.type?(T((function(e){return[].concat(Object(r.a)(e),[t])})),e(t)):t.type&&"item"===t.type&&document.location.hash.includes("#".concat(t.url))&&W(t),!1}))},q=R.card;!1===t&&(q=R.root);var E,J=R.content;!1===t&&(J=R.noPadding);var H,Q=Object(C.jsx)(d.a,{}),V="",Y=B.map((function(e){if("collapse"!==e.type)return Object(C.jsx)(C.Fragment,{});var t=e.icon?e.icon:g.a;return Object(C.jsxs)(d.a,{component:o.c,to:e.url||"#",variant:"subtitle1",className:R.link,children:[h&&Object(C.jsx)(t,{className:R.icon}),e.title]},e.id)}));return M&&"item"===M.type&&(V=M.title,H=M.icon?M.icon:g.a,E=Object(C.jsxs)(d.a,{variant:"subtitle1",className:R.activeLink,children:[h&&Object(C.jsx)(H,{className:R.icon}),V]}),!1!==M.breadcrumbs&&(Q=Object(C.jsxs)(j.a,Object(a.a)(Object(a.a)({className:q},P),{},{children:[Object(C.jsx)(u.a,{className:J,children:Object(C.jsxs)(b.a,{container:!0,direction:y?"row":"column",justifyContent:y?"space-between":"flex-start",alignItems:y?"center":"flex-start",spacing:1,children:[k&&!w&&Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(f.a,{classes:{separator:R.separator},"aria-label":"breadcrumb",maxItems:p||8,separator:Object(C.jsx)(S.b,{stroke:1.5,size:"1rem"}),children:[Object(C.jsxs)(d.a,{component:o.c,to:"/",color:"inherit",variant:"subtitle1",className:R.link,children:[h&&Object(C.jsx)(v.a,{className:R.icon}),l&&Object(C.jsx)(x.a,{className:R.icon,style:{marginRight:0}}),!l&&"Dashboard"]}),Y,E]})}),k&&w&&Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})})]})}),!1===t&&!1!==n&&Object(C.jsx)(O.a,{className:R.divider})]})))),Q}},671:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var a=n(6),r=n(139),i=n(2),c=function(e,t){var n=e.id,r=e.url,i=t.id,c=t.url;return Object(a.a)(Object(a.a)({},s({title:"property",id:n,url:r})),{},{type:"collapse",children:[s({title:"offer",id:i,url:c})]})},s=function(e){var t=e.url,n=e.id,a=e.title;return{id:n,title:Object(i.jsx)(r.a,{id:a,values:{id:n}}),url:t,type:"item"}},o=function(e,t){return{items:[{type:"group",children:[Object(a.a)(Object(a.a)({},e),{},{children:t?[t]:e.children})]}]}}},673:function(e,t,n){"use strict";var a=n(637),r=n(624),i=n(827),c=n(65),s=n(823),o=n(506),l=n(2),d=Object(s.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(a.a),j=Object(o.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,a=e.loading,s=j();return Object(l.jsx)(r.a,{container:!0,className:s.toolbar,justifyContent:"center",children:Object(l.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||a,children:a?Object(l.jsx)(i.a,{size:24}):Object(l.jsx)(c.a,{})})})}},687:function(e,t,n){"use strict";var a=n(506),r=n(1104),i=n(1096),c=n(751),s=n(638),o=n(65),l=n(2),d=Object(a.a)((function(e){return{searchControl:{paddingRight:"16px",paddingLeft:"16px","& input":{background:"transparent !important",paddingLeft:"5px !important"}},startAdornment:{fontSize:"1rem",color:e.palette.grey[500]},resetButton:{width:"22px",height:"22px"},formControl:{width:"100%"}}}));t.a=function(e){var t=e.search,n=e.setSearch,a=d();return Object(l.jsx)(r.a,{variant:"outlined",className:a.formControl,children:Object(l.jsx)(i.a,{className:a.searchControl,name:"search",value:t,onChange:function(e){n(e.target.value)},placeholder:"Search",startAdornment:Object(l.jsx)(c.a,{position:"start",children:Object(l.jsx)(o.j,{stroke:1.5,size:"1rem",className:a.startAdornment})}),endAdornment:t?Object(l.jsx)(s.a,{type:"button",size:"small",className:a.resetButton,onClick:function(){n("")},children:Object(l.jsx)(o.m,{stroke:1.5,size:"1rem"})}):Object(l.jsx)(l.Fragment,{}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})}},716:function(e,t,n){"use strict";n(0);var a=n(43),r=n.n(a),i=n(830),c=n(831),s=n(832),o=n(825),l=n(826),d=n(638),j=n(624),u=n(618),b=n(693),O=n.n(b),f=n(506),h=n(55),g=n(57),p=n(6),x=n(824),m=n(772),v=n(768),S=n(116),y=n(176),C=n(2),N=Object(f.a)((function(){return{sortSpan:Object(p.a)({},v.a),cell:{whiteSpace:"pre"}}})),I=function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,r=N(),i=function(e){return n&&n.id===e.id};return Object(C.jsx)(x.a,{children:Object(C.jsxs)(o.a,{children:[S.j.map((function(e){return Object(C.jsx)(l.a,{align:"left",padding:e.disablePadding?"none":"normal",sortDirection:i(e)?t:void 0,className:r.cell,children:a?Object(C.jsxs)(m.a,{active:i(e),direction:i(e)?t:y.a.ASC,onClick:function(){return a&&a(e)},children:[e.label,i(e)?Object(C.jsx)("span",{className:r.sortSpan,children:t===y.a.DESC?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)})),Object(C.jsx)(l.a,{align:"center",sx:{pr:3},children:"Action"})]})})},k=n(673),w=n(21),P=n(28),R=Object(f.a)((function(){return{table:{minWidth:"750px"}}}));t.a=function(e){var t=e.offers,n=e.isLoading,a=e.hasMore,b=e.loadMore,f=e.propertyId,p=e.order,x=e.orderBy,m=e.onRequestSort,v=R();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(i.a,{children:Object(C.jsxs)(c.a,{className:v.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(C.jsx)(I,{order:p,orderBy:x,onRequestSort:m}),Object(C.jsx)(s.a,{children:t.map((function(e){if("number"===typeof e)return null;var t=Object(w.s)(e),n=t.offerId,a=t.offerNo,r=t.buyerName,i=t.agentName,c=t.price,s=t.funding,j=t.loanType,u=t.downPayment,b=t.inspectionContingency,p=t.saleOfHomeContingency,x=t.financeContingency,m=t.appraisalContingency,v=t.closingPeriod,S=t.status,y=function(e,t){var n=null!==f&&void 0!==f?f:t;return Object(h.f)(P.c.PROPERTY_OFFER,{propertyId:n,offerId:e})}(e.OfferId,e.PropertyId);return Object(C.jsxs)(o.a,{hover:!0,tabIndex:-1,children:[Object(C.jsx)(l.a,{align:"left",children:a}),Object(C.jsx)(l.a,{align:"left",children:r}),Object(C.jsx)(l.a,{align:"left",children:i}),Object(C.jsx)(l.a,{align:"left",children:c}),Object(C.jsx)(l.a,{align:"left",children:s}),Object(C.jsx)(l.a,{align:"left",children:j}),Object(C.jsx)(l.a,{align:"left",children:u}),Object(C.jsx)(l.a,{align:"left",children:x}),Object(C.jsx)(l.a,{align:"left",children:b}),Object(C.jsx)(l.a,{align:"left",children:m}),Object(C.jsx)(l.a,{align:"left",children:p}),Object(C.jsx)(l.a,{align:"left",children:v}),Object(C.jsx)(l.a,{align:"left",children:S}),Object(C.jsx)(l.a,{align:"center",sx:{pr:3},children:Object(C.jsx)(g.c,{to:y,children:Object(C.jsx)(d.a,{color:"primary",children:Object(C.jsx)(O.a,{sx:{fontSize:"1.3rem"}})})})})]},n)}))})]})}),r()(t)&&!n&&Object(C.jsx)(j.a,{item:!0,xs:12,children:Object(C.jsx)(u.a,{icon:!1,severity:"info",children:"No Records found"})}),a&&b&&Object(C.jsx)(k.a,{onLoadMore:b,loading:n})]})}},880:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(11),r=n.n(a),i=n(43),c=n.n(i),s=function(e){var t=e.search,n=e.selectedStatuses.map((function(e){return r()(e,"Id")}));return{query:c()(n)||t?t:"*",statusIds:c()(n)?void 0:n}}},890:function(e,t,n){"use strict";n(0);var a=n(624),r=n(637),i=n(43),c=n.n(i),s=n(506),o=n(687),l=n(6),d=n(1104),j=n(821),u=n(715),b=n(11),O=n.n(b),f=n(155),h=n.n(f),g=n(2),p=Object(s.a)((function(){return{formControl:{width:"100%"}}})),x=function(e){var t=e.selectedStatuses,n=e.setSelectedStatuses,a=e.statuses,r=p();return Object(g.jsx)(d.a,{variant:"outlined",className:r.formControl,children:Object(g.jsx)(j.a,{value:t,onChange:function(e,t){n(h()(t,"Id"))},fullWidth:!0,multiple:!0,limitTags:1,options:a,getOptionLabel:function(e){return O()(e,"Name","")},defaultValue:[],renderInput:function(e){return Object(g.jsx)(u.a,Object(l.a)(Object(l.a)({},e),{},{label:"Status",variant:"outlined",multiline:!1}))}})})},m=Object(s.a)((function(){return{form:{width:"100%"}}}));t.a=function(e){var t=e.onSearch,n=e.onTriggerSearch,i=e.statuses,s=e.search,l=e.setSearch,d=e.selectedStatuses,j=e.setSelectedStatuses,u=e.openFilter,b=void 0===u||u,O=m(),f={display:{xs:b?"block":"none",lg:"block"}};return Object(g.jsx)("form",{onSubmit:function(e){e.preventDefault(),t()},className:O.form,children:Object(g.jsxs)(a.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(a.a,{item:!0,xs:12,lg:4,children:Object(g.jsx)(o.a,{search:s,setSearch:l})}),!c()(i)&&Object(g.jsx)(a.a,{item:!0,xs:12,lg:6,sx:f,children:Object(g.jsx)(x,{selectedStatuses:d,setSelectedStatuses:j,statuses:i})}),Object(g.jsx)(a.a,{item:!0,xs:12,lg:1,sx:f,children:Object(g.jsx)(r.a,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,children:"Search"})}),Object(g.jsx)(a.a,{item:!0,xs:12,lg:1,sx:f,children:Object(g.jsx)(r.a,{type:"button",variant:"outlined",size:"large",fullWidth:!0,onClick:function(){l(""),j([]),n(!1)},children:"Reset"})})]})})}}}]);
//# sourceMappingURL=26.14a4ae6b.chunk.js.map