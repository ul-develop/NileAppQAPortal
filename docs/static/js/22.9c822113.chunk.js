(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[22],{1077:function(e,t,r){"use strict";r.r(t);var n=r(53),a=r.n(n),o=r(92),i=r(21),s=(r(0),r(15)),c=r.n(s),l=r(727),u=r(147),d=r(702),p=r(658),b=r(56),h=r(66),j=r.n(h),m=r(308),f=r(216),v=r(153),O=r(765),x=r(766),g=r(101),y=r(28),w=r(156),N=r(22),R=r(2);t.default=function(){var e=Object(g.e)(),t=Object(b.h)(),r=Object(l.a)(Object(u.d)(f.a.users_UserGroups)),n=r.loading,s=r.error,h=r.data,M=Object(d.a)(Object(u.d)(f.a.users_CreateUser),{update:w.b,onCompleted:function(r){e({message:"User has created",alertSeverity:"success"});var n=c()(r,["users_CreateUser","UserId"]),a=Object(b.f)(y.c.USERS_EDIT,{id:n});t.push(a)},onError:function(t){var r=c()(t,"message","Something went wrong");e({message:r})}}),C=Object(i.a)(M,1)[0],P=c()(h,"users_UserGroups");if(n)return Object(R.jsx)(v.a,{});if(s){var F=c()(s,"message","Something went wrong");return e({message:F}),Object(R.jsx)(R.Fragment,{})}var I=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n,o,i,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.firstName,o=t.lastName,i=t.phone,s=t.userGroup,c={Email:r,FirstName:n,LastName:o,Phone:j()(i)?void 0:Object(N.c)(i),UserGroup:s},e.next=4,C({variables:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)(m.a,{title:"Add new user",sx:{mb:3},children:Object(R.jsx)(p.b,{initialValues:{firstName:"",lastName:"",email:"",phone:"",userGroup:""},onSubmit:I,validationSchema:x.a,children:function(e){var t=e.handleSubmit;return Object(R.jsx)("form",{noValidate:!0,onSubmit:t,children:Object(R.jsx)(O.a,{isDisableEmail:!1,isGroupDisable:!1,groups:P,isAddNew:!0})})}})})}},660:function(e,t,r){"use strict";var n=r(6),a=r(152),o=r(59),i=r(533),s=r(405),c=r(532),l=r(534),u=r(535),d=r(2),p=["children","content","contentClass","darkTitle","secondary","sx","title"],b=function(e){var t=e.children,r=e.content,b=e.contentClass,h=e.darkTitle,j=e.secondary,m=e.sx,f=void 0===m?{}:m,v=e.title,O=Object(a.a)(e,p),x=Object(o.a)();return Object(d.jsxs)(i.a,Object(n.a)(Object(n.a)({sx:Object(n.a)({border:"1px solid",borderColor:"dark"===x.palette.mode?x.palette.dark.light+15:x.palette.primary.light,":hover":{boxShadow:"dark"===x.palette.mode?"0 2px 14px 0 rgb(33 150 243 / 10%)":"0 2px 14px 0 rgb(32 40 45 / 8%)"}},f)},O),{},{children:[!h&&v&&Object(d.jsx)(s.a,{sx:{p:2.5},title:Object(d.jsx)(c.a,{variant:"h5",children:v}),action:j}),h&&v&&Object(d.jsx)(s.a,{sx:{p:2.5},title:Object(d.jsx)(c.a,{variant:"h4",children:v}),action:j}),v&&Object(d.jsx)(l.a,{sx:{opacity:1,borderColor:"dark"===x.palette.mode?x.palette.dark.light+15:x.palette.primary.light}}),r&&Object(d.jsx)(u.a,{sx:{p:2.5},className:b||"",children:t}),!r&&t]}))};b.defaultProps={content:!0},t.a=b},661:function(e,t,r){"use strict";var n=r(21),a=r(0),o=r.n(a),i=r(922),s=r(632),c=r(2),l=o.a.forwardRef((function(e,t){var r,a,o=e.children,l=e.type,u=e.direction,d=e.offset,p=e.scale;switch(u){case"up":case"left":r=d,a=0;break;default:r=0,a=d}var b=Object(i.a)(r,a),h=Object(n.a)(b,2),j=h[0],m=h[1],f=Object(i.a)(r,a),v=Object(n.a)(f,2),O=v[0],x=v[1];switch(l){case"rotate":return Object(c.jsx)(s.a.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:o});case"slide":return"up"===u||"down"===u?Object(c.jsx)(s.a.div,{ref:t,animate:{y:void 0!==O?O:""},onHoverEnd:function(){return x()},onHoverStart:function(){return x()},children:o}):Object(c.jsx)(s.a.div,{ref:t,animate:{x:void 0!==j?j:""},onHoverEnd:function(){return m()},onHoverStart:function(){return m()},children:o});default:return Object(c.jsx)(s.a.div,{ref:t,whileHover:{scale:null===p||void 0===p?void 0:p.hover},whileTap:{scale:null===p||void 0===p?void 0:p.tap},children:o})}}));l.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.a=l},665:function(e,t,r){"use strict";var n=r(152),a=r(6),o=r(16),i=r(1098),s=r(2),c=["children","horizontal"],l=Object(o.a)((function(e){return Object(s.jsx)(i.a,Object(a.a)({},e))}),{shouldForwardProp:function(e){return"horizontal"!==e}})((function(e){var t=e.theme,r=e.horizontal;return{color:t.palette.text.primary,fontWeight:500,marginBottom:r?0:8}})),u=function(e){var t=e.children,r=e.horizontal,o=Object(n.a)(e,c);return Object(s.jsx)(l,Object(a.a)(Object(a.a)({horizontal:r},o),{},{children:t}))};u.defaultProps={horizontal:!1},t.a=u},688:function(e,t,r){"use strict";var n=r(14),a=r(13),o=r(3),i=r(0),s=(r(8),r(89)),c=r(100),l=r(525),u=r(399),d=r(16),p=r(20),b=r(2);function h(e,t){var r=i.Children.toArray(e).filter(Boolean);return r.reduce((function(e,n,a){return e.push(n),a<r.length-1&&e.push(i.cloneElement(t,{key:"separator-".concat(a)})),e}),[])}function j(e){var t,r=e.values,n=e.base,a=Object.keys(n);return 0===a.length?r:a.reduce((function(e,n){return e[n]="object"===typeof r?null!=r[n]?r[n]:r[t]:r,t=n,e}),{})}var m=Object(d.a)("div",{},{name:"Stack"})((function(e){var t=e.styleProps,r=e.theme,a=Object(o.a)({display:"flex"},Object(s.b)({theme:r},t.direction,(function(e){return{flexDirection:e}})));if(t.spacing){var i=Object(c.a)(r),l=Object.keys(r.breakpoints.values).reduce((function(e,r){return null==t.spacing[r]&&null==t.direction[r]||(e[r]=!0),e}),{}),d=j({values:t.direction,base:l}),p=j({values:t.spacing,base:l});a=Object(u.a)(a,Object(s.b)({theme:r},p,(function(e,r){return{"& > :not(style) + :not(style)":Object(n.a)({margin:0},"margin".concat((a=r?d[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[a])),Object(c.d)(i,e))};var a})))}return a})),f=i.forwardRef((function(e,t){var r=Object(p.a)({props:e,name:"MuiStack"}),n=Object(l.a)(r),i=n.component,s=void 0===i?"div":i,c=n.direction,u=void 0===c?"column":c,d=n.spacing,j=void 0===d?0:d,f=n.divider,v=n.children,O=Object(a.a)(n,["component","direction","spacing","divider","children"]),x={direction:u,spacing:j};return Object(b.jsx)(m,Object(o.a)({as:s,styleProps:x,ref:t},O,{children:f?h(v,f):v}))}));t.a=f},702:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(1),a=r(0),o=r(37),i=r(155),s=r(93),c=r(314),l=r(294),u=function(e){function t(t){var r=t.options,n=t.context,a=t.result,o=t.setResult,s=e.call(this,r,n)||this;return s.runMutation=function(e){void 0===e&&(e={}),s.onMutationStart();var t=s.generateNewMutationId();return s.mutate(e).then((function(e){return s.onMutationCompleted(e,t),e})).catch((function(e){var r=s.getOptions().onError;if(s.onMutationError(e,t),r)return r(e),{data:void 0,errors:e};throw e}))},s.verifyDocumentType(r.mutation,i.a.Mutation),s.result=a,s.setResult=o,s.mostRecentMutationId=0,s}return Object(n.c)(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,i.a.Mutation),[this.runMutation,Object(n.a)(Object(n.a)({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){return this.refreshClient().client.mutate(Object(l.b)(this.getOptions(),e))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var r=this.getOptions(),n=r.onCompleted,a=r.ignoreResults,o=e.data,i=e.errors,c=i&&i.length>0?new s.a({graphQLErrors:i}):void 0;this.isMostRecentMutation(t)&&!a&&this.updateResult({called:!0,loading:!1,data:o,error:c}),n&&n(o)},t.prototype.onMutationError=function(e,t){this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0})},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){if(this.isMounted&&(!this.previousResult||!Object(o.a)(this.previousResult,e)))return this.setResult(e),this.previousResult=e,e},t}(c.a),d=r(387);function p(e,t){var r=Object(a.useContext)(Object(d.a)()),o=Object(a.useState)({called:!1,loading:!1}),i=o[0],s=o[1],c=t?Object(n.a)(Object(n.a)({},t),{mutation:e}):{mutation:e},l=Object(a.useRef)();var p=(l.current||(l.current=new u({options:c,context:r,result:i,setResult:s})),l.current);return p.setOptions(c),p.context=r,Object(a.useEffect)((function(){return p.afterExecute()})),p.execute(i)}},713:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(14),a=r(1046),o=r(531),i=r(18),s=r(733),c=r.n(s),l=(r(734),r(2)),u=Object(o.a)((function(e){return{wrapper:{background:e.palette.grey[50],borderRadius:"12px",border:"1px solid rgba(0, 0, 0, 0.23)","&& .selected-flag, &&& .selected-flag.open":{width:"40px",borderRadius:"12px 0 0 12px",borderWidth:"0 1px 0 0"},"&& .flag-dropdown, && .flag-dropdown.open":{borderRadius:"12px 0 0 12px",borderWidth:"0 1px 0 0"}},phoneInput:{"&&&":{padding:"14.5px 14px 14.5px 48px",height:"auto",width:"100%",outline:"none",border:0,background:"transparent",fontSize:"0.875rem",lineHeight:"20px",color:e.palette.grey[900],fontWeight:500,fontFamily:e.typography.fontFamily}},error:{borderColor:e.palette.error.main},helper:{fontSize:"0.75rem",margin:"3px 14px 0"}}})),d=function(e){var t=u(),r=e.name,o=e.value,s=e.onChange,d=e.onBlur,p=e.error,b=e.country,h=void 0===b?"":b,j=e.placeholder,m=void 0===j?"":j;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{tabIndex:-1,className:Object(i.a)("MuiOutlinedInput-input",t.wrapper,Object(n.a)({},t.error,p)),children:Object(l.jsx)(c.a,{country:h.toLowerCase(),placeholder:m,value:o,onChange:s,inputProps:{className:Object(i.a)("form-control",t.phoneInput),onBlur:d,name:r}})}),p?Object(l.jsx)(a.a,{className:t.helper,error:!0,children:p}):null]})}},714:function(e,t,r){"use strict";var n=r(3),a=r(13),o=r(0),i=(r(8),r(18)),s=r(614),c=r(16),l=r(20),u=r(1106),d=r(1107),p=r(1101),b=r(1098),h=r(1108),j=r(1046),m=r(1092),f=r(523),v=r(615);function O(e){return Object(f.a)("MuiTextField",e)}Object(v.a)("MuiTextField",["root"]);var x=r(2),g={standard:u.a,filled:d.a,outlined:p.a},y=Object(c.a)(h.a,{},{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),w=o.forwardRef((function(e,t){var r=Object(l.a)({props:e,name:"MuiTextField"}),c=r.autoComplete,u=r.autoFocus,d=void 0!==u&&u,p=r.children,h=r.className,f=r.color,v=void 0===f?"primary":f,w=r.defaultValue,N=r.disabled,R=void 0!==N&&N,M=r.error,C=void 0!==M&&M,P=r.FormHelperTextProps,F=r.fullWidth,I=void 0!==F&&F,S=r.helperText,k=r.id,E=r.InputLabelProps,T=r.inputProps,G=r.InputProps,B=r.inputRef,q=r.label,U=r.maxRows,W=r.minRows,D=r.multiline,H=void 0!==D&&D,L=r.name,z=r.onBlur,A=r.onChange,V=r.onFocus,_=r.placeholder,J=r.required,Q=void 0!==J&&J,K=r.rows,X=r.select,Y=void 0!==X&&X,Z=r.SelectProps,$=r.type,ee=r.value,te=r.variant,re=void 0===te?"outlined":te,ne=Object(a.a)(r,["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"]),ae=Object(n.a)({},r,{autoFocus:d,color:v,disabled:R,error:C,fullWidth:I,multiline:H,required:Q,select:Y,variant:re}),oe=function(e){var t=e.classes;return Object(s.a)({root:["root"]},O,t)}(ae);var ie={};if("outlined"===re&&(E&&"undefined"!==typeof E.shrink&&(ie.notched=E.shrink),q)){var se,ce=null!==(se=null===E||void 0===E?void 0:E.required)&&void 0!==se?se:Q;ie.label=Object(x.jsxs)(o.Fragment,{children:[q,ce&&"\xa0*"]})}Y&&(Z&&Z.native||(ie.id=void 0),ie["aria-describedby"]=void 0);var le=S&&k?"".concat(k,"-helper-text"):void 0,ue=q&&k?"".concat(k,"-label"):void 0,de=g[re],pe=Object(x.jsx)(de,Object(n.a)({"aria-describedby":le,autoComplete:c,autoFocus:d,defaultValue:w,fullWidth:I,multiline:H,name:L,rows:K,maxRows:U,minRows:W,type:$,value:ee,id:k,inputRef:B,onBlur:z,onChange:A,onFocus:V,placeholder:_,inputProps:T},ie,G));return Object(x.jsxs)(y,Object(n.a)({className:Object(i.a)(oe.root,h),disabled:R,error:C,fullWidth:I,ref:t,required:Q,color:v,variant:re,styleProps:ae},ne,{children:[q&&Object(x.jsx)(b.a,Object(n.a)({htmlFor:k,id:ue},E,{children:q})),Y?Object(x.jsx)(m.a,Object(n.a)({"aria-describedby":le,id:k,labelId:ue,value:ee,input:pe},Z,{children:p})):pe,S&&Object(x.jsx)(j.a,Object(n.a)({id:le},P,{children:S}))]}))}));t.a=w},727:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(317);function a(e,t){return Object(n.a)(e,t,!1)}},749:function(e,t,r){"use strict";var n=r(14),a=r(13),o=r(3),i=r(0),s=(r(8),r(18)),c=r(614),l=r(16),u=r(20),d=r(523),p=r(615);function b(e){return Object(d.a)("MuiMenuItem",e)}Object(p.a)("MuiMenuItem",["root","gutters","selected","dense"]);var h=r(544),j=r(2),m=Object(l.a)(h.a,{shouldForwardProp:function(e){return Object(l.b)(e)||"classes"===e}},{name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var r=e.styleProps;return Object(o.a)({},Object(h.c)(e,t),r.dense&&t.dense)}})((function(e){var t=e.theme,r=e.styleProps;return Object(o.a)({},t.typography.body1,Object(n.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",whiteSpace:"nowrap"},t.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&Object(o.a)({},t.typography.body2,{minHeight:"auto"}))})),f=i.forwardRef((function(e,t){var r,n=Object(u.a)({props:e,name:"MuiMenuItem"}),i=n.className,l=n.component,d=void 0===l?"li":l,p=n.dense,f=void 0!==p&&p,v=n.disableGutters,O=void 0!==v&&v,x=n.ListItemClasses,g=n.role,y=void 0===g?"menuitem":g,w=n.selected,N=n.tabIndex,R=Object(a.a)(n,["className","component","dense","disableGutters","ListItemClasses","role","selected","tabIndex"]),M={dense:f},C=function(e){var t=e.selected,r=e.dense,n=e.classes,a={root:["root",t&&"selected",r&&"dense"]};return Object(c.a)(a,b,n)}(n);return n.disabled||(r=void 0!==N?N:-1),Object(j.jsx)(h.b,Object(o.a)({components:{Root:m},componentsProps:{root:{styleProps:M}},button:!0,role:y,tabIndex:r,component:d,selected:w,disableGutters:O,className:Object(s.a)(C.root,i),ref:t},R,{classes:x}))}));t.a=f},765:function(e,t,r){"use strict";r(0);var n=r(643),a=r(714),o=r(1092),i=r(749),s=r(688),c=r(655),l=r(658),u=r(15),d=r.n(u),p=r(661),b=r(128),h=r(31),j=r(713),m=r(665),f=r(660),v=r(2);t.a=function(e){var t=e.isGroupDisable,r=e.groups,u=e.isAddNew,O=e.isDisableEmail,x=void 0===O||O,g=Object(l.d)(),y=g.values,w=g.handleChange,N=g.handleBlur,R=g.touched,M=g.errors,C=g.setFieldValue,P=g.isSubmitting,F=u?"Add New User":"Edit Account Details",I=u?"Save":"Update";return Object(v.jsx)(n.a,{container:!0,spacing:b.b,children:Object(v.jsx)(n.a,{item:!0,sm:6,md:8,children:Object(v.jsxs)(f.a,{title:F,children:[Object(v.jsxs)(n.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"First Name"}),Object(v.jsx)(a.a,{value:y.firstName,fullWidth:!0,placeholder:"First Name",onChange:w,onBlur:N,error:R.firstName&&Boolean(M.firstName),helperText:R.firstName&&M.firstName,name:"firstName",variant:"outlined"})]}),Object(v.jsxs)(n.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"Last Name"}),Object(v.jsx)(a.a,{id:"lastName",value:y.lastName,fullWidth:!0,placeholder:"Last Name",onChange:w,onBlur:N,error:R.lastName&&Boolean(M.lastName),helperText:R.lastName&&M.lastName,name:"lastName"})]}),Object(v.jsxs)(n.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"Email"}),Object(v.jsx)(a.a,{id:"email",value:y.email,fullWidth:!0,placeholder:"Email",onChange:w,onBlur:N,error:R.email&&Boolean(M.email),helperText:R.email&&M.email,name:"email",disabled:x})]}),Object(v.jsxs)(n.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"Phone"}),Object(v.jsx)(j.a,{country:h.a.locate.countryCode,placeholder:"",value:y.phone,onChange:function(e){return C("phone",e)},onBlur:N,name:"phone",error:R.phone&&M.phone})]}),Object(v.jsxs)(n.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"User Group"}),Object(v.jsxs)(o.a,{value:y.userGroup,labelId:"userGroup",id:"userGroup",onChange:w,disabled:t,onBlur:N,name:"userGroup",displayEmpty:!0,error:R.userGroup&&Boolean(M.userGroup),children:[Object(v.jsx)(i.a,{value:"",disabled:!0,children:Object(v.jsx)("em",{children:"None"})}),r.map((function(e){var t=d()(e,"GroupName"),r=d()(e,"Description");return Object(v.jsx)(i.a,{value:t,children:r},t)}))]})]}),Object(v.jsx)(n.a,{item:!0,xs:12,children:Object(v.jsx)(s.a,{direction:"row",justifyContent:"flex-end",children:Object(v.jsx)(p.a,{children:Object(v.jsx)(c.a,{color:"primary",variant:"contained",type:"submit",disabled:P,children:I})})})})]})})})}},766:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(670),a=r(22),o="First Name is required",i="Last Name is required",s="User Group is required",c=n.c().shape({email:n.e().required("Email is required").email("Please enter a valid email address."),firstName:n.e().required(o),lastName:n.e().required(i),userGroup:n.e().required(s),phone:n.e().test("Phone Number Test","Please enter a valid phone number",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(a.r)(e)}))})}}]);
//# sourceMappingURL=22.9c822113.chunk.js.map