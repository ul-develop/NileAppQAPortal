(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[13],{1054:function(e,t,r){"use strict";r.r(t);var a,n,i=r(75),c=r.n(i),o=r(28),l=r(114),s=r(87),d=r(53),m=r(821),u=r(1078),j=r(1059),p=r(1038),h=r(835),b=r(861),O=r(862),x=r(1062),f=r(149),g=r(843),v=r.n(g),y=r(837),T=r.n(y),S=r(52),I=r(302),F=r(846),w=r(42),C=r(911),k=r(194),q=r(844),B=r(852),V=r(102),z=r(305),J=r(910),N=r(1);t.default=function(){var e=Object(d.b)(),t=Object(S.h)();function r(){sessionStorage.setItem("template",this.text)}var i=Object(x.a)(Object(f.a)(a||(a=Object(s.a)(["\n\t\t\t","\n\t\t"])),q.b)),g=i.loading,y=i.error,A=i.data;if(g)return Object(N.jsx)(k.a,{});if(y)return e({type:w.i,open:!0,message:"Something went wrong",variant:"alert",alertSeverity:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),Object(N.jsx)(N.Fragment,{});if(v()(A))return Object(N.jsx)(N.Fragment,{});var W=T()(A,"listFormCategories"),D=function(){var r=Object(l.a)(c.a.mark((function r(a,i){var l,d,m,u,j,p,h,b,O,x,g,v,y;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=i.setStatus,d=i.setSubmitting,m=a.formTypeId,u=a.title,j=m.split(","),p=Object(o.a)(j,2),h=p[0],b=p[1],O=JSON.stringify(sessionStorage.getItem("template")),r.prev=4,r.next=7,z.a.mutate({mutation:Object(f.a)(n||(n=Object(s.a)(["\n\t\t\t\t\t","\n\t\t\t\t"])),B.a),variables:{Form:{CategoryId:h,FormTypeId:b,Title:u,Template:O}}});case 7:x=r.sent,e({type:w.i,open:!0,message:"Form has created",variant:"alert",alertSeverity:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),g=T()(x,["data","createForm","FormId"]),v=Object(S.f)("/form/:id",{id:g}),t.push(v),r.next=20;break;case 14:r.prev=14,r.t0=r.catch(4),y=T()(r.t0,"message","Something went wrong"),l({success:!1}),d(!1),e({type:w.i,open:!0,message:y,variant:"alert",alertSeverity:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 20:case"end":return r.stop()}}),r,null,[[4,14]])})));return function(e,t){return r.apply(this,arguments)}}();return Object(N.jsx)(m.a,{container:!0,spacing:V.b,children:Object(N.jsx)(m.a,{item:!0,xs:12,children:Object(N.jsx)(I.a,{title:"Add New Form",children:Object(N.jsx)(b.a,{initialValues:{title:"",formTypeId:""},validationSchema:O.a().shape({title:O.c().required("Title is require"),formTypeId:O.c().required("Form Type is require")}),onSubmit:D,children:function(e){var t=e.errors,a=e.handleChange,n=e.handleBlur,i=e.handleSubmit,c=e.touched,o=e.values,l=e.isSubmitting;return Object(N.jsx)("form",{noValidate:!0,onSubmit:i,children:Object(N.jsxs)(m.a,{container:!0,spacing:2,alignItems:"center",children:[Object(N.jsxs)(m.a,{item:!0,xs:12,lg:6,children:[Object(N.jsx)(J.a,{children:"Title"}),Object(N.jsx)(u.a,{defaultValue:o.title,fullWidth:!0,placeholder:"Title",onChange:a,onBlur:n,error:c.title&&Boolean(t.title),helperText:c.title&&t.title,name:"title"})]}),Object(N.jsxs)(m.a,{item:!0,xs:12,lg:6,children:[Object(N.jsx)(J.a,{htmlFor:"formTypeId",children:"Form Type"}),Object(N.jsx)(j.a,{native:!0,id:"formTypeId",defaultValue:o.formTypeId,onChange:a,error:c.formTypeId&&Boolean(t.formTypeId),name:"formTypeId",children:W.map((function(e){var t=e.Title,r=e.FormTypes,a=e.id;return Object(N.jsx)("optgroup",{label:t,children:r.map((function(e){var t=e.Name,r=e.id,n="".concat(a,",").concat(r);return Object(N.jsx)("option",{value:n,children:t},n)}))},a)}))})]}),Object(N.jsx)(m.a,{item:!0,xs:12,lg:12,children:Object(N.jsx)(C.a,{value:"",name:"Template",saveSurveyFunc:r})}),Object(N.jsx)(m.a,{item:!0,xs:12,children:Object(N.jsx)(p.a,{direction:"row",justifyContent:"flex-end",children:Object(N.jsx)(F.a,{children:Object(N.jsx)(h.a,{color:"primary",variant:"contained",type:"submit",disabled:l,children:"Add"})})})})]})})}})})})})}}}]);
//# sourceMappingURL=13.18610da4.chunk.js.map