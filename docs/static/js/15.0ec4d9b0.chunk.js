(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[15],{1101:function(e,t,n){"use strict";n.r(t);var r=n(308),a=n(22),i=n(0),o=n(96),c=n.n(o),s=n(122),l=n.n(s),d=n(57),u=n(828),b=n(1112),j=n(1113),p=n(1114),f=n(1108),O=n(1109),h=n(1099),m=n(845),x=n(831),g=n(883),v=n.n(g),y=n(723),P=n(955),S=n(155),T=n(818),k=n(55),C=n(857),w=n(863),I=n(196),A=n(13),N=n(1070),R=n(1105),F=n(1090),L=n(1),D=[{id:"OfferNo",numeric:!1,disablePadding:!1,label:"No"},{id:"PropertyData.FullAddress",numeric:!1,disablePadding:!1,label:"Property Address"},{id:"PropertyData.OwnerNames",numeric:!1,disablePadding:!1,label:"Sellers"},{id:"CounterOffer.SellerCounter.OfferPrice",numeric:!0,disablePadding:!1,label:"Offer Price"},{id:"Funding.PurchaseType",numeric:!1,disablePadding:!1,label:"Funding"},{id:"Funding.LoanType",numeric:!1,disablePadding:!1,label:"Loan Type"},{id:"Funding.DownPayment",numeric:!1,disablePadding:!1,label:"Down Payment"},{id:"Step.messages.advisor",numeric:!1,disablePadding:!1,label:"Status"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"}],$=Object(y.a)((function(){return{sortSpan:Object(A.a)({},F.a)}})),z=function(e){var t=$(),n=e.onSelectAllClick,r=e.order,a=e.orderBy,i=e.numSelected,o=e.rowCount,c=e.onRequestSort;return Object(L.jsx)(N.a,{children:Object(L.jsxs)(f.a,{children:[Object(L.jsx)(O.a,{padding:"checkbox",sx:{pl:3},children:Object(L.jsx)(h.a,{color:"primary",indeterminate:i>0&&i<o,checked:o>0&&i===o,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),D.map((function(e){return Object(L.jsx)(O.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id?r:void 0,className:(i=e.id,t[i]||""),children:Object(L.jsxs)(R.a,{active:a===e.id,direction:a===e.id?r:"asc",onClick:(n=e.id,function(e){c(e,n)}),children:[e.label,a===e.id?Object(L.jsx)("span",{className:t.sortSpan,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id);var n,i})),Object(L.jsx)(O.a,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})},E=n(864),M=n(47),B=n(145),U=n(879),q=n(880),H=n(12),V=n(29),J=n(16),W=n(840),Z=n(731),_=n(809),G=n(1106),K=n(944),Q=n(69),X=n(856),Y=Object(y.a)((function(e){var t;return{searchControl:(t={paddingRight:"16px",paddingLeft:"16px","& input":{background:"transparent !important",paddingLeft:"5px !important"}},Object(H.a)(t,e.breakpoints.down("lg"),{width:"250px"}),Object(H.a)(t,e.breakpoints.down("md"),{width:"100%",marginLeft:"4px",background:"dark"===e.palette.mode?e.palette.dark[800]:"#fff"}),t),startAdornment:{fontSize:"1rem",color:e.palette.grey[500]},resetButton:{width:"22px",height:"22px"}}})),ee=function(e){var t=e.onSearch,n=e.onTriggerSearch,r=Object(i.useState)(""),o=Object(a.a)(r,2),c=o[0],s=o[1],l=Y();return Object(L.jsx)(X.b,{initialValues:{search:""},onSubmit:function(e){var r=e.search;r&&t(r),n(Boolean(r))},children:function(e){var t=e.handleSubmit,r=e.handleChange,a=e.handleReset;return Object(L.jsx)("form",{onSubmit:t,children:Object(L.jsx)(G.a,{className:l.searchControl,name:"search",value:c,onChange:function(e){s(e.target.value),r(e)},placeholder:"Search",startAdornment:Object(L.jsx)(K.a,{position:"start",children:Object(L.jsx)(Q.j,{stroke:1.5,size:"1rem",className:l.startAdornment})}),endAdornment:Object(L.jsx)(m.a,{type:"button",size:"small",className:l.resetButton,onClick:function(){s(""),n(!1),a()},children:c&&Object(L.jsx)(Q.k,{stroke:1.5,size:"1rem"})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})}})},te=Object(y.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),height:"83px"},highlight:{backgroundColor:Object(V.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),ne=function(e){var t=te(),n=e.numSelected,r=e.searchHandler,a=e.triggerSearch;return Object(L.jsx)(W.a,{className:Object(J.a)(t.root,Object(H.a)({},t.highlight,n>0)),children:n>0?Object(L.jsxs)(Z.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(L.jsx)(_.a,{sx:{display:{xs:"none",md:"block"}},component:"div",children:Object(L.jsx)(ee,{onSearch:r,onTriggerSearch:a})})})},re=n(865),ae=Object(y.a)((function(){return{table:{minWidth:"750px"}}})),ie=function(){var e=Object(P.a)(Object(S.a)(C.a.listOffers),{variables:{limit:M.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),t=e.loading,n=e.error,r=e.data,o=e.fetchMore,s=Object(i.useState)(!1),g=Object(a.a)(s,2),y=g[0],A=g[1],N=Object(T.a)(Object(S.a)(C.a.searchOffers)),R=Object(a.a)(N,2),F=R[0],D=R[1],$=D.loading,H=D.data,V=Object(i.useState)([]),J=Object(a.a)(V,2),W=J[0],Z=J[1];Object(i.useEffect)((function(){var e=[];y&&!$&&(e=c()(H,"searchOffers",[])),y||(e=c()(r,"listOffers.items",[])),Z(e)}),[r,H,y,$]);var _=c()(r,"listOffers.nextToken",void 0),G=Object(d.a)(),K=ae(),Q=Object(k.h)(),X=Object(B.b)("CreatedAt"),Y=X.order,ee=X.orderBy,te=X.handleRequestSort,ie=Object(B.c)("OfferId"),oe=ie.selected,ce=ie.isSelected,se=ie.handleSelect,le=ie.handleSelectAll;if(t&&!r)return Object(L.jsx)(I.a,{});if(n&&l()(r))return Object(L.jsx)(u.a,{severity:"error",sx:{color:G.palette.error.main},children:"Something went wrong!"});return Object(L.jsxs)(L.Fragment,{children:[$&&Object(L.jsx)(I.a,{}),Object(L.jsx)(ne,{numSelected:oe.length,searchHandler:function(e){return F({variables:{SearchText:e}})},triggerSearch:A}),Object(L.jsx)(b.a,{children:Object(L.jsxs)(j.a,{className:K.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(L.jsx)(z,{numSelected:oe.length,order:Y,orderBy:ee,onSelectAllClick:function(e){le(e.target.checked,W)},onRequestSort:te,rowCount:W.length}),Object(L.jsx)(p.a,{children:Object(w.b)(W,Object(w.a)(Y,ee)).map((function(e,t){var n,r,a,i,o,c,s;if("number"===typeof e)return null;var l=ce(e.OfferId),d="enhanced-table-checkbox-".concat(t);return Object(L.jsxs)(f.a,{hover:!0,onClick:function(){return se(e.OfferId)},role:"checkbox","aria-checked":l,tabIndex:-1,selected:l,children:[Object(L.jsx)(O.a,{sx:{pl:3},padding:"checkbox",children:Object(L.jsx)(h.a,{color:"primary",checked:l,inputProps:{"aria-labelledby":d}})}),Object(L.jsx)(O.a,{component:"th",id:d,children:e.OfferNo}),Object(L.jsx)(O.a,{align:"left",children:null===(n=e.PropertyData)||void 0===n?void 0:n.FullAddress}),Object(L.jsx)(O.a,{align:"left",children:null===(r=e.PropertyData)||void 0===r?void 0:r.OwnerNames}),Object(L.jsx)(O.a,{align:"left",children:Object(U.a)(e)}),Object(L.jsx)(O.a,{align:"left",children:null===(a=e.Funding)||void 0===a?void 0:a.PurchaseType}),Object(L.jsx)(O.a,{align:"left",children:null===(i=e.Funding)||void 0===i?void 0:i.LoanType}),Object(L.jsx)(O.a,{align:"left",children:Object(q.a)(null===(o=e.Funding)||void 0===o?void 0:o.DownPayment)}),Object(L.jsx)(O.a,{sx:{pr:3},align:"left",children:null===(c=e.Step)||void 0===c||null===(s=c.messages)||void 0===s?void 0:s.advisor}),Object(L.jsx)(O.a,{align:"left",children:Object(re.a)(e.CreatedAt)}),Object(L.jsx)(O.a,{align:"center",sx:{pr:3},children:Object(L.jsx)(m.a,{color:"primary",onClick:function(){return t=e.OfferId,void Q.push("/offer/".concat(t));var t},children:Object(L.jsx)(v.a,{sx:{fontSize:"1.3rem"}})})})]},e.OfferId)}))})]})}),l()(W)&&!$&&Object(L.jsx)(x.a,{item:!0,xs:12,children:Object(L.jsx)(u.a,{icon:!1,severity:"info",children:"No Records found"})}),!y&&Object(L.jsx)(E.a,{onLoadMore:function(){o({variables:{limit:M.a.pagination.limit,nextToken:_}})},disabled:!_,loading:t})]})};t.default=function(){return Object(L.jsx)(r.a,{title:"Offers List",children:Object(L.jsx)(ie,{})})}},857:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"onUpdatePropertyReportStatus",(function(){return s}));var a={};n.r(a),n.d(a,"listOffers",(function(){return l})),n.d(a,"listProperties",(function(){return d})),n.d(a,"listForms",(function(){return u}));var i=n(13),o=n(846),c=n(847),s="\n  subscription OnUpdatePropertyReportStatus($PropertyId: ID!) {\n    onUpdatePropertyReportStatus(PropertyId: $PropertyId) {\n      DTPropertyId\n      PropertyId\n      TaxReportTaxResourceMessage\n      TaxReportTaxResourceStatus\n      TaxReportTaxResourceUpdatedAt\n      TaxReportTotalViewMessage\n      TaxReportTotalViewStatus\n      TaxReportTotalViewUpdatedAt\n    }\n  }\n",l="\n  query ListOffers($limit: Int, $nextToken: String) {\n    listOffers(limit: $limit, nextToken: $nextToken) {\n      items {\n        Funding {\n          PurchaseType\n          LoanType\n          DownPayment\n        }\n        OfferNo\n        OfferId\n        PropertyData {\n          FullAddress\n          OwnerNames\n        }\n        CounterOffer {\n          SellerCounter {\n            OfferPrice\n          }\n          BuyerCounter {\n            OfferPrice\n          }\n        }\n        Step {\n          messages {\n            advisor\n            buyer\n            seller\n          },\n          id\n          name\n        }\n        CreatedAt\n        UpdatedAt\n      }\n      nextToken\n    }\n  }\n",d="\n  query ListProperties($limit: Int, $nextToken: String) {\n    listProperties(limit: $limit, nextToken: $nextToken) {\n      items {\n        CreatedAt\n        DTPropertyId\n        PropertyData {\n          City\n          County\n          FullAddress\n          OwnerNames\n          State\n          StreetAddress\n          Zip\n        }\n        PropertyId\n        PropertyNo\n      }\n      nextToken\n    }\n  }\n",u="\n  query ListForms($limit: Int, $nextToken: String) {\n    listForms(limit: $limit, nextToken: $nextToken) {\n      items {\n        CategoryId\n        CreatedAt\n        FormId\n        FormStatus\n        FormTypeId\n        Title\n        UpdatedAt\n      }\n      nextToken\n    }\n  }\n",b=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},o),c),r),a);t.a=b},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(96),a=n.n(r),i=function(e,t,n){return a()(t,n)<a()(e,n)?-1:a()(t,n)>a()(e,n)?1:0},o=function(e,t){return"desc"===e?function(e,n){return i(e,n,t)}:function(e,n){return-i(e,n,t)}},c=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}},864:function(e,t,n){"use strict";var r=n(844),a=n(831),i=n(1110),o=n(69),c=n(1104),s=n(723),l=n(1),d=Object(c.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(r.a),u=Object(s.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,r=e.loading,c=u();return Object(l.jsx)(a.a,{container:!0,className:c.toolbar,justifyContent:"center",children:Object(l.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||r,children:r?Object(l.jsx)(i.a,{size:24}):Object(l.jsx)(o.a,{})})})}},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),a=function(e){return"".concat(e?new Intl.DateTimeFormat(r.a.locate.country,{timeZone:r.a.locate.timezone}).format(new Date(e)):"")}},879:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var r=n(96),a=n.n(r),i=n(122),o=n.n(i),c=n(47),s=n(880),l=c.a.offerSteps,d=function(e){var t;return(t=+a()(e,["Step","id"])===l.counteredBySeller?a()(e,["CounterOffer","SellerCounter","OfferPrice"]):a()(e,["CounterOffer","BuyerCounter","OfferPrice"]))?Object(s.a)(t):""},u=function(e,t){return!o()(a()(e,t))}},880:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),a=function(e){return"".concat(e?new Intl.NumberFormat(r.a.locate.country,{style:"currency",currency:r.a.locate.currency}).format(e):"")}},944:function(e,t,n){"use strict";var r=n(12),a=n(11),i=n(3),o=n(0),c=(n(21),n(16)),s=n(460),l=n(806),d=n(15),u=n(731),b=n(849),j=n(14),p=n(724),f=n(807);function O(e){return Object(p.a)("MuiInputAdornment",e)}var h=Object(f.a)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),m=n(20),x=n(1),g=Object(j.a)("div",{},{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.styleProps;return Object(s.a)(Object(i.a)({},t["position".concat(Object(d.a)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]),t.root||{})}})((function(e){var t=e.theme,n=e.styleProps;return Object(i.a)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===n.variant&&Object(r.a)({},"&.".concat(h.positionStart,"&:not(.").concat(h.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),v=o.forwardRef((function(e,t){var n=Object(m.a)({props:e,name:"MuiInputAdornment"}),r=n.children,s=n.className,j=n.component,p=void 0===j?"div":j,f=n.disablePointerEvents,h=void 0!==f&&f,v=n.disableTypography,y=void 0!==v&&v,P=n.position,S=n.variant,T=Object(a.a)(n,["children","className","component","disablePointerEvents","disableTypography","position","variant"]),k=Object(b.b)()||{},C=S;S&&k.variant,k&&!C&&(C=k.variant);var w=Object(i.a)({},n,{hiddenLabel:k.hiddenLabel,size:k.size,disablePointerEvents:h,position:P,variant:C}),I=function(e){var t=e.classes,n=e.disablePointerEvents,r=e.hiddenLabel,a=e.position,i=e.size,o=e.variant,c={root:["root",n&&"disablePointerEvents",a&&"position".concat(Object(d.a)(a)),o,r&&"hiddenLabel",i&&"size".concat(Object(d.a)(i))]};return Object(l.a)(c,O,t)}(w);return Object(x.jsx)(b.a.Provider,{value:null,children:Object(x.jsx)(g,Object(i.a)({as:p,styleProps:w,className:Object(c.a)(I.root,s),ref:t},T,{children:"string"!==typeof r||y?Object(x.jsxs)(o.Fragment,{children:["start"===P?Object(x.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,r]}):Object(x.jsx)(u.a,{color:"text.secondary",children:r})}))})}));t.a=v}}]);
//# sourceMappingURL=15.0ec4d9b0.chunk.js.map