(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[21],{693:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),a=function(e){return"".concat(e?new Intl.DateTimeFormat(r.a.locate.country,{timeZone:r.a.locate.timezone}).format(new Date(e)):"")}},700:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(97),a=n.n(r),c=function(e,t,n){return a()(t,n)<a()(e,n)?-1:a()(t,n)>a()(e,n)?1:0},i=function(e,t){return"desc"===e?function(e,n){return c(e,n,t)}:function(e,n){return-c(e,n,t)}},o=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}},701:function(e,t,n){"use strict";var r=n(680),a=n(667),c=n(951),i=n(69),o=n(945),l=n(557),s=n(1),d=Object(o.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(r.a),u=Object(l.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,r=e.loading,o=u();return Object(s.jsx)(a.a,{container:!0,className:o.toolbar,justifyContent:"center",children:Object(s.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||r,children:r?Object(s.jsx)(c.a,{size:24}):Object(s.jsx)(i.a,{})})})}},941:function(e,t,n){"use strict";n.r(t);var r=n(276),a=n(51),c=n.n(a),i=n(90),o=n(23),l=n(15),s=n(795),d=n(797),u=n(156),b=n(718),j=n(557),f=n(57),m=n(663),h=n(952),O=n(953),p=n(954),x=n(949),g=n(950),v=n(940),y=n(681),C=n(930),k=n(127),F=n.n(k),S=n(97),w=n.n(S),T=n(55),I=n(60),N=n(723),A=n.n(N),D=(n(0),n(47)),P=n(192),R=n(282),z=n(948),B=n(946),L=n(1),q=[{id:"Title",numeric:!1,label:"Title",align:"left",disablePadding:!1},{id:"Category",numeric:!1,label:"Category",align:"left",disablePadding:!1},{id:"FormType",numeric:!1,label:"Form Type",align:"left"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"},{id:"UpdatedAt",numeric:!1,label:"Updated Date",align:"left"}],M=Object(j.a)((function(){return{sortSpan:Object(l.a)({},C.a)}})),U=function(e){var t=M(),n=e.onSelectAllClick,r=e.order,a=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(L.jsx)(z.a,{children:Object(L.jsxs)(x.a,{children:[Object(L.jsx)(g.a,{padding:"checkbox",sx:{pl:3},children:Object(L.jsx)(v.a,{color:"primary",indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),q.map((function(e){return Object(L.jsx)(g.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id?r:void 0,children:Object(L.jsxs)(B.a,{active:a===e.id,direction:a===e.id?r:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,a===e.id?Object(L.jsx)("span",{className:t.sortSpan,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),Object(L.jsx)(g.a,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})},J=n(700),W=n(701),Y=n(281),Z=n(693),E=n(150),G=n(16),H=n(28),K=n(19),Q=n(676),V=n(667),X=n(565),$=n(912),_=n(749),ee=n(722),te=n.n(ee),ne=n(796),re=n.n(ne),ae=Object(j.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},highlight:{backgroundColor:Object(H.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),ce=function(e){var t=ae(),n=e.numSelected,r=e.onDelete,a=e.onCreate;return Object(L.jsx)(Q.a,{className:Object(K.a)(t.root,Object(G.a)({},t.highlight,n>0)),children:Object(L.jsxs)(V.a,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[Object(L.jsx)(V.a,{item:!0,xs:12,sm:6,children:n>0&&Object(L.jsxs)(X.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]})}),Object(L.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(L.jsx)(V.a,{container:!0,justifyContent:"flex-end",alignItems:"center",children:n>0?Object(L.jsx)($.a,{title:"Delete",children:Object(L.jsx)(y.a,{onClick:r,children:Object(L.jsx)(re.a,{})})}):Object(L.jsx)($.a,{title:"Create",children:Object(L.jsx)(_.a,{color:"primary","aria-label":"add",sx:{boxShadow:"none",ml:1,width:"48px",height:"48px"},onClick:a,children:Object(L.jsx)(te.a,{})})})})})]})})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=w()(t,"id"),r=w()(t,"Name",n);return Object(l.a)(Object(l.a)({},e),{},Object(G.a)({},n,r))}),{})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=w()(t,"id"),r=w()(t,"Title",n);return Object(l.a)(Object(l.a)({},e),{},Object(G.a)({},n,{categoryName:r,formTypes:ie(w()(t,"FormTypes",[]))}))}),{})},le=Object(j.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},sortSpan:Object(l.a)({},C.a)}})),se=function(){var e=Object(d.a)(Object(u.d)(R.a.listForms),{variables:{limit:D.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),t=e.loading,n=e.error,r=e.data,a=e.fetchMore,j=Object(d.a)(Object(u.d)(R.a.listFormCategories)).data,C=Object(b.a)(Object(u.d)(Y.deleteForm),{}),k=Object(o.a)(C,2),S=k[0],N=k[1],z=N.loading,B=N.error,q=w()(r,["listForms","items"],[]),M=w()(r,"listForms.nextToken",void 0),G=Object(f.a)(),H=le(),K=Object(E.b)("CreatedAt"),Q=K.order,V=K.orderBy,X=K.handleRequestSort,$=Object(E.c)("FormId"),_=$.selected,ee=$.isSelected,te=$.handleSelect,ne=$.handleSelectAll,re=$.clearSelected,ae=Object(T.h)();if((t||z)&&!r)return Object(L.jsx)(P.a,{});if(n||F()(r)||B)return Object(L.jsx)(m.a,{severity:"error",sx:{color:G.palette.error.main},children:"Something went wrong!"});var ie=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:t=!1,n=!1,e.prev=4,a=c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.value,e.next=3,S({variables:{FormId:t},update:function(e){e.modify({fields:{listForms:function(e,n){var r=n.readField,a=e.items.filter((function(e){return t!==r("FormId",e)}));return Object(l.a)(Object(l.a)({},e),{},{items:a})}}})}});case 3:case"end":return e.stop()}}),e)})),i=Object(s.a)(_);case 7:return e.next=9,i.next();case 9:if(!(t=!(o=e.sent).done)){e.next=14;break}return e.delegateYield(a(),"t0",11);case 11:t=!1,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(4),n=!0,r=e.t1;case 20:if(e.prev=20,e.prev=21,!t||null==i.return){e.next=25;break}return e.next=25,i.return();case 25:if(e.prev=25,!n){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(20);case 30:re();case 31:case"end":return e.stop()}}),e,null,[[4,16,20,30],[21,,25,29]])})));return function(){return e.apply(this,arguments)}}(),se=function(e){var t=oe(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return e.map((function(e){var n=w()(e,"CategoryId"),r=w()(e,"FormTypeId");return Object(l.a)(Object(l.a)({},e),{},{CategoryName:w()(t,[n,"categoryName"]),FormTypeName:w()(t,[n,"formTypes",r])})}))}(q,w()(j,["listFormCategories"],[])),de=Object(J.b)(se,Object(J.a)(Q,V));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ce,{numSelected:_.length,onDelete:ie,onCreate:function(){var e=Object(T.f)("/form-add");ae.push(e)}}),Object(L.jsx)(h.a,{children:Object(L.jsxs)(O.a,{className:H.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(L.jsx)(U,{numSelected:_.length,order:Q,orderBy:V,onSelectAllClick:function(e){ne(e.target.checked,q)},onRequestSort:X,rowCount:q.length}),Object(L.jsx)(p.a,{children:de.map((function(e,t){if("number"===typeof e)return null;var n=Object(T.f)("/form/:id",{id:e.FormId}),r=ee(e.FormId),a="enhanced-table-checkbox-".concat(t);return Object(L.jsxs)(x.a,{hover:!0,onClick:function(){return te(e.FormId)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(L.jsx)(g.a,{sx:{pl:3},padding:"checkbox",children:Object(L.jsx)(v.a,{color:"primary",checked:r,inputProps:{"aria-labelledby":a}})}),Object(L.jsx)(g.a,{align:"left",children:e.Title}),Object(L.jsxs)(g.a,{align:"left",children:[e.CategoryName||e.CategoryId," "]}),Object(L.jsx)(g.a,{align:"left",children:e.FormTypeName||e.FormTypeId}),Object(L.jsx)(g.a,{align:"left",children:Object(Z.a)(e.CreatedAt)}),Object(L.jsx)(g.a,{align:"left",children:Object(Z.a)(e.UpdatedAt)}),Object(L.jsx)(g.a,{align:"left",sx:{pr:3},children:Object(L.jsx)(I.c,{to:n,children:Object(L.jsx)(y.a,{color:"primary",children:Object(L.jsx)(A.a,{sx:{fontSize:"1.3rem"}})})})})]},e.FormId)}))})]})}),Object(L.jsx)(W.a,{onLoadMore:function(){a({variables:{limit:D.a.pagination.limit,nextToken:M}})},disabled:!M,loading:t})]})};t.default=function(){return Object(L.jsx)(r.a,{title:"Forms List",children:Object(L.jsx)(se,{})})}}}]);
//# sourceMappingURL=21.bade1af7.chunk.js.map