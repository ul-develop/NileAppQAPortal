(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[20],{1103:function(e,t,n){"use strict";n.r(t);var r=n(308),a=(n(0),n(96)),i=n.n(a),c=n(122),o=n.n(c),s=n(57),l=n(828),d=n(1112),u=n(1113),p=n(1114),b=n(1108),j=n(1109),x=n(1099),f=n(845),O=n(883),h=n.n(O),m=n(723),y=n(955),g=n(155),P=n(55),C=n(857),S=n(863),T=n(196),k=n(13),v=n(1070),A=n(1105),I=n(1090),w=n(1),D=[{id:"PropertyNo",numeric:!1,disablePadding:!1,label:"Property No"},{id:"PropertyData.StreetAddress",numeric:!1,disablePadding:!1,label:"Street Address"},{id:"PropertyData.County",numeric:!1,disablePadding:!1,label:"County"},{id:"PropertyData.State",numeric:!1,disablePadding:!1,label:"State"},{id:"PropertyData.Zip",numeric:!1,disablePadding:!1,label:"Zip"},{id:"PropertyData.City",numeric:!1,disablePadding:!1,label:"City"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"}],R=Object(m.a)((function(){return{sortSpan:Object(k.a)({},I.a)}})),N=function(e){var t=R(),n=e.onSelectAllClick,r=e.order,a=e.orderBy,i=e.numSelected,c=e.rowCount,o=e.onRequestSort;return Object(w.jsx)(v.a,{children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)(j.a,{padding:"checkbox",sx:{pl:3},children:Object(w.jsx)(x.a,{color:"primary",indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),D.map((function(e){return Object(w.jsx)(j.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id?r:void 0,children:Object(w.jsxs)(A.a,{active:a===e.id,direction:a===e.id?r:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,a===e.id?Object(w.jsx)("span",{className:t.sortSpan,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),Object(w.jsx)(j.a,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})},$=n(864),F=n(47),L=n(145),U=n(12),q=n(29),z=n(16),M=n(840),Z=n(831),B=n(731),V=n(1111),J=n(942),W=n(909),E=n.n(W),G=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},highlight:{backgroundColor:Object(q.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),H=function(e){var t=G(),n=e.numSelected,r=e.onCreate;return Object(w.jsx)(M.a,{className:Object(z.a)(t.root,Object(U.a)({},t.highlight,n>0)),children:Object(w.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[Object(w.jsx)(Z.a,{item:!0,xs:12,sm:6,children:n>0&&Object(w.jsxs)(B.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]})}),Object(w.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(w.jsx)(Z.a,{container:!0,justifyContent:"flex-end",alignItems:"center",children:Object(w.jsx)(V.a,{title:"Create",children:Object(w.jsx)(J.a,{color:"primary","aria-label":"add",sx:{boxShadow:"none",ml:1,width:"48px",height:"48px"},onClick:r,children:Object(w.jsx)(E.a,{})})})})})]})})},K=n(865),Q=Object(m.a)((function(){return{table:{minWidth:"750px"}}})),X=function(){var e=Object(y.a)(Object(g.a)(C.a.listProperties),{variables:{limit:F.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),t=e.loading,n=e.error,r=e.data,a=e.fetchMore,c=i()(r,"listProperties.items",[]),O=i()(r,"listProperties.nextToken",void 0),m=Object(s.a)(),k=Q(),v=Object(P.h)(),A=Object(L.b)("CreatedAt"),I=A.order,D=A.orderBy,R=A.handleRequestSort,U=Object(L.c)("PropertyId"),q=U.selected,z=U.isSelected,M=U.handleSelect,Z=U.handleSelectAll;if(t&&!r)return Object(w.jsx)(T.a,{});if(n||o()(r))return Object(w.jsx)(l.a,{severity:"error",sx:{color:m.palette.error.main},children:"Something went wrong!"});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(H,{numSelected:q.length,onCreate:function(){var e=Object(P.f)("/property-add");v.push(e)}}),Object(w.jsx)(d.a,{children:Object(w.jsxs)(u.a,{className:k.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(w.jsx)(N,{numSelected:q.length,order:I,orderBy:D,onSelectAllClick:function(e){Z(e.target.checked,c)},onRequestSort:R,rowCount:c.length}),Object(w.jsx)(p.a,{children:Object(S.b)(c,Object(S.a)(I,D)).map((function(e,t){if("number"===typeof e)return null;var n=z(e.PropertyId),r="enhanced-table-checkbox-".concat(t),a=function(e){var t=i()(e,"PropertyData",{});return{streetAddress:i()(t,"StreetAddress",""),county:i()(t,"County",""),zip:i()(t,"Zip",""),city:i()(t,"City",""),state:i()(t,"State",""),propertyNo:i()(e,"PropertyNo",""),createdAt:i()(e,"CreatedAt","")}}(e),c=a.streetAddress,o=a.county,s=a.zip,l=a.city,d=a.state,u=a.propertyNo,p=a.createdAt;return Object(w.jsxs)(b.a,{hover:!0,onClick:function(){return M(e.PropertyId)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(w.jsx)(j.a,{sx:{pl:3},padding:"checkbox",children:Object(w.jsx)(x.a,{color:"primary",checked:n,inputProps:{"aria-labelledby":r}})}),Object(w.jsx)(j.a,{align:"left",children:u}),Object(w.jsx)(j.a,{align:"left",children:c}),Object(w.jsx)(j.a,{align:"left",children:o}),Object(w.jsx)(j.a,{align:"left",children:d}),Object(w.jsx)(j.a,{align:"left",children:s}),Object(w.jsx)(j.a,{align:"left",children:l}),Object(w.jsx)(j.a,{align:"left",children:Object(K.a)(p)}),Object(w.jsx)(j.a,{align:"center",sx:{pr:3},children:Object(w.jsx)(f.a,{color:"primary",onClick:function(){return t=e.PropertyId,void v.push("/property/".concat(t));var t},children:Object(w.jsx)(h.a,{sx:{fontSize:"1.3rem"}})})})]},e.PropertyId)}))})]})}),Object(w.jsx)($.a,{onLoadMore:function(){a({variables:{limit:F.a.pagination.limit,nextToken:O}})},disabled:!O,loading:t})]})};t.default=function(){return Object(w.jsx)(r.a,{title:"Properties List",children:Object(w.jsx)(X,{})})}},857:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"onUpdatePropertyReportStatus",(function(){return s}));var a={};n.r(a),n.d(a,"listOffers",(function(){return l})),n.d(a,"listProperties",(function(){return d})),n.d(a,"listForms",(function(){return u}));var i=n(13),c=n(846),o=n(847),s="\n  subscription OnUpdatePropertyReportStatus($PropertyId: ID!) {\n    onUpdatePropertyReportStatus(PropertyId: $PropertyId) {\n      DTPropertyId\n      PropertyId\n      TaxReportTaxResourceMessage\n      TaxReportTaxResourceStatus\n      TaxReportTaxResourceUpdatedAt\n      TaxReportTotalViewMessage\n      TaxReportTotalViewStatus\n      TaxReportTotalViewUpdatedAt\n    }\n  }\n",l="\n  query ListOffers($limit: Int, $nextToken: String) {\n    listOffers(limit: $limit, nextToken: $nextToken) {\n      items {\n        Funding {\n          PurchaseType\n          LoanType\n          DownPayment\n        }\n        OfferNo\n        OfferId\n        PropertyData {\n          FullAddress\n          OwnerNames\n        }\n        CounterOffer {\n          SellerCounter {\n            OfferPrice\n          }\n          BuyerCounter {\n            OfferPrice\n          }\n        }\n        Step {\n          messages {\n            advisor\n            buyer\n            seller\n          },\n          id\n          name\n        }\n        CreatedAt\n        UpdatedAt\n      }\n      nextToken\n    }\n  }\n",d="\n  query ListProperties($limit: Int, $nextToken: String) {\n    listProperties(limit: $limit, nextToken: $nextToken) {\n      items {\n        CreatedAt\n        DTPropertyId\n        PropertyData {\n          City\n          County\n          FullAddress\n          OwnerNames\n          State\n          StreetAddress\n          Zip\n        }\n        PropertyId\n        PropertyNo\n      }\n      nextToken\n    }\n  }\n",u="\n  query ListForms($limit: Int, $nextToken: String) {\n    listForms(limit: $limit, nextToken: $nextToken) {\n      items {\n        CategoryId\n        CreatedAt\n        FormId\n        FormStatus\n        FormTypeId\n        Title\n        UpdatedAt\n      }\n      nextToken\n    }\n  }\n",p=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},c),o),r),a);t.a=p},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(96),a=n.n(r),i=function(e,t,n){return a()(t,n)<a()(e,n)?-1:a()(t,n)>a()(e,n)?1:0},c=function(e,t){return"desc"===e?function(e,n){return i(e,n,t)}:function(e,n){return-i(e,n,t)}},o=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}},864:function(e,t,n){"use strict";var r=n(844),a=n(831),i=n(1110),c=n(69),o=n(1104),s=n(723),l=n(1),d=Object(o.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(r.a),u=Object(s.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,r=e.loading,o=u();return Object(l.jsx)(a.a,{container:!0,className:o.toolbar,justifyContent:"center",children:Object(l.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||r,children:r?Object(l.jsx)(i.a,{size:24}):Object(l.jsx)(c.a,{})})})}},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),a=function(e){return"".concat(e?new Intl.DateTimeFormat(r.a.locate.country,{timeZone:r.a.locate.timezone}).format(new Date(e)):"")}}}]);
//# sourceMappingURL=20.4e0e0bb7.chunk.js.map