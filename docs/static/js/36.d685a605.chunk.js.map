{"version":3,"sources":["views/pages/property/FormPage.tsx"],"names":["PropertyFormPage","useParams","propertyId","formId","useQuery","gql","graphqlSchema","getPropertyFormData","variables","PropertyId","FormId","loading","error","data","theme","useTheme","propertyForm","_get","template","formValue","formProperty","title","_isEmpty","severity","sx","color","palette","main","mb","mode","SURVEYJS_MODE","display","formTemplate","formData"],"mappings":"oHAAA,4IAmDeA,UAxCU,WACxB,MACCC,cADOC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,OAEpB,EAAiCC,YAChCC,YAAIC,IAAcC,qBAClB,CACCC,UAAW,CAAEC,WAAYP,EAAYQ,OAAQP,KAHvCQ,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,MAAOC,EAAxB,EAAwBA,KAMlBC,EAAQC,cACRC,EAAeC,IAAKJ,EAAM,mCAAoC,IAC9DK,EAAWD,IAAKD,EAAc,CAAC,OAAQ,aACvCG,EAAYF,IAAKD,EAAc,CAAC,WAAY,cAC5CI,EAAeH,IAAKD,EAAc,CAAC,iBACnCK,EAAQJ,IAAKD,EAAc,CAAC,OAAQ,UAE1C,OAAIL,EAAgB,cAAC,IAAD,IAEhBC,GAASU,IAASN,GAEpB,cAAC,IAAD,CAAOO,SAAS,QAAQC,GAAI,CAAEC,MAAOX,EAAMY,QAAQd,MAAMe,MAAzD,4BAOD,cAAC,IAAD,CAAUN,MAAOA,EAAOG,GAAI,CAAEI,GAAI,GAAlC,UACGN,IAASJ,IACV,cAAC,IAAD,CACCW,KAAMC,IAAcC,QACpBC,aAAcd,EACde,SAAUd,EACVC,aAAcA","file":"static/js/36.d685a605.chunk.js","sourcesContent":["import { useParams } from 'react-router-dom';\nimport { gql, useQuery } from '@apollo/client';\nimport _isEmpty from 'lodash.isempty';\nimport { Alert, useTheme } from '@material-ui/core';\nimport _get from 'lodash.get';\nimport Loader from '../../../ui-component/Loader';\nimport graphqlSchema from '../../../graphql';\nimport Engine from '../../application/components/FormBuilder/Engine';\nimport { SURVEYJS_MODE } from '../../application/components/FormBuilder/Constants';\nimport MainCard from '../../../ui-component/cards/MainCard';\n\nconst PropertyFormPage = () => {\n\tconst { propertyId, formId } =\n\t\tuseParams<{ propertyId: string; formId: string }>();\n\tconst { loading, error, data } = useQuery(\n\t\tgql(graphqlSchema.getPropertyFormData),\n\t\t{\n\t\t\tvariables: { PropertyId: propertyId, FormId: formId },\n\t\t}\n\t);\n\tconst theme = useTheme();\n\tconst propertyForm = _get(data, 'formdata_GetPropertyFormDataItem', {});\n\tconst template = _get(propertyForm, ['Form', 'Template']);\n\tconst formValue = _get(propertyForm, ['FormData', 'DataValue']);\n\tconst formProperty = _get(propertyForm, ['FormProperty']);\n\tconst title = _get(propertyForm, ['Form', 'Title']);\n\n\tif (loading) return <Loader />;\n\n\tif (error && _isEmpty(propertyForm)) {\n\t\treturn (\n\t\t\t<Alert severity='error' sx={{ color: theme.palette.error.main }}>\n\t\t\t\tForm not found\n\t\t\t</Alert>\n\t\t);\n\t}\n\n\treturn (\n\t\t<MainCard title={title} sx={{ mb: 3 }}>\n\t\t\t{!_isEmpty(template) && (\n\t\t\t\t<Engine\n\t\t\t\t\tmode={SURVEYJS_MODE.display}\n\t\t\t\t\tformTemplate={template}\n\t\t\t\t\tformData={formValue}\n\t\t\t\t\tformProperty={formProperty}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</MainCard>\n\t);\n};\n\nexport default PropertyFormPage;\n"],"sourceRoot":""}