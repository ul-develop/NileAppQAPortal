{"version":3,"sources":["views/application/components/LoadMore/index.tsx","helpers/searchFilter.ts","views/application/components/SearchField/index.tsx","views/application/components/StatusSelector/index.tsx","views/application/components/SearchFilter/index.tsx","views/application/offer/ListHeader.tsx","views/application/offer/OfferToolbar.tsx","views/application/offer/OfferList.tsx","views/pages/offer/ListPage.tsx"],"names":["LoadMoreButton","withStyles","root","borderRadius","minWidth","padding","Button","useStyles","makeStyles","toolbar","LoadMore","onLoadMore","disabled","loading","classes","container","className","justifyContent","type","onClick","size","getValidSearchQuery","search","validStatues","selectedStatuses","map","status","_get","query","_isEmpty","statusIds","undefined","theme","searchControl","paddingRight","paddingLeft","background","breakpoints","down","width","marginLeft","palette","mode","dark","startAdornment","fontSize","color","grey","resetButton","height","formControl","SearchField","setSearch","handleReset","onTriggerSearch","FormControl","variant","OutlinedInput","name","value","onChange","e","target","placeholder","InputAdornment","position","stroke","endAdornment","IconButton","inputProps","StatusSelector","setSelectedStatuses","statuses","Autocomplete","event","newValues","_uniqBy","fullWidth","multiple","limitTags","options","getOptionLabel","option","defaultValue","renderInput","params","TextField","label","multiline","form","SearchFilter","onSearch","onSubmit","preventDefault","Grid","direction","alignItems","spacing","item","xs","lg","headCells","id","numeric","disablePadding","align","ListHeader","TableHead","TableRow","headCell","TableCell","sx","pr","useToolbarStyles","highlight","backgroundColor","alpha","primary","main","action","activatedOpacity","title","flex","OfferToolbar","props","Toolbar","table","OfferList","history","useHistory","showSnackBar","useSnackBar","useQuery","gql","graphql","getOffers","variables","PageIndex","PageSize","config","pagination","limit","fetchPolicy","notifyOnNetworkStatusChange","error","data","fetchMore","listOfferSteps","loadingStatuses","statusesError","statusesData","useState","doSearch","setDoSearch","useLazyQuery","executeSearch","isSearching","searchData","rows","setRows","hasMore","setHasMore","page","setPage","useEffect","newData","newCount","newTotal","isLoading","Loader","message","alertSeverity","searchHandler","pageIndex","Query","StepIds","Boolean","Id","Name","TableContainer","Table","TableBody","row","hover","tabIndex","component","OfferNo","getOfferPrice","Funding","PurchaseType","LoanType","formatCurrency","DownPayment","Step","messages","advisor","formatDate","CreatedAt","OfferId","push","Alert","icon","severity","ListPage","MainCard"],"mappings":"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","file":"static/js/21.6ae353a8.chunk.js","sourcesContent":["import { Grid, Button, CircularProgress } from '@material-ui/core';\nimport { IconChevronDown } from '@tabler/icons';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nconst LoadMoreButton = withStyles({\n\troot: {\n\t\tborderRadius: '50%',\n\t\tminWidth: '0',\n\t\tpadding: '12px',\n\t},\n})(Button);\n\ntype Props = {\n\tonLoadMore: Function;\n\tloading: boolean;\n\tdisabled?: boolean;\n};\n\nconst useStyles = makeStyles(() => ({\n\ttoolbar: {\n\t\tpadding: '24px 16px 2px',\n\t},\n}));\n\nconst LoadMore = ({ onLoadMore, disabled, loading }: Props) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Grid container className={classes.toolbar} justifyContent='center'>\n\t\t\t<LoadMoreButton\n\t\t\t\ttype='button'\n\t\t\t\tonClick={() => onLoadMore()}\n\t\t\t\tdisabled={disabled || loading}\n\t\t\t>\n\t\t\t\t{loading ? <CircularProgress size={24} /> : <IconChevronDown />}\n\t\t\t</LoadMoreButton>\n\t\t</Grid>\n\t);\n};\n\nexport default LoadMore;\n","import _get from 'lodash.get';\nimport _isEmpty from 'lodash.isempty';\n\ntype SearchQuery = {\n\tsearch: string;\n\tselectedStatuses: Array<Object>;\n};\n\nexport const getValidSearchQuery = ({\n\tsearch,\n\tselectedStatuses,\n}: SearchQuery) => {\n\tconst validStatues = selectedStatuses.map(status => _get(status, 'Id'));\n\tconst searchText = !_isEmpty(validStatues) && !search ? '*' : search;\n\treturn {\n\t\tquery: searchText,\n\t\tstatusIds: _isEmpty(validStatues) ? undefined : validStatues,\n\t};\n};\n","import { makeStyles } from '@material-ui/core/styles';\nimport {\n\tInputAdornment,\n\tOutlinedInput,\n\tIconButton,\n\tFormControl,\n} from '@material-ui/core';\nimport { IconSearch, IconX } from '@tabler/icons';\n\nconst useStyles = makeStyles(theme => ({\n\tsearchControl: {\n\t\tpaddingRight: '16px',\n\t\tpaddingLeft: '16px',\n\t\t'& input': {\n\t\t\tbackground: 'transparent !important',\n\t\t\tpaddingLeft: '5px !important',\n\t\t},\n\t\t[theme.breakpoints.down('lg')]: {\n\t\t\twidth: '250px',\n\t\t},\n\t\t[theme.breakpoints.down('md')]: {\n\t\t\twidth: '100%',\n\t\t\tmarginLeft: '4px',\n\t\t\tbackground: theme.palette.mode === 'dark' ? theme.palette.dark[800] : '#fff',\n\t\t},\n\t},\n\tstartAdornment: {\n\t\tfontSize: '1rem',\n\t\tcolor: theme.palette.grey[500],\n\t},\n\tresetButton: {\n\t\twidth: '22px',\n\t\theight: '22px',\n\t},\n\tformControl: {\n\t\twidth: '100%',\n\t},\n}));\n\nexport type Props = {\n\tsearch: string;\n\tsetSearch: (t: string) => void;\n\thandleReset: () => void;\n\tonTriggerSearch: (b: boolean) => void;\n};\n\nconst SearchField = ({\n\tsearch,\n\tsetSearch,\n\thandleReset,\n\tonTriggerSearch,\n}: Props) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<FormControl variant='outlined' className={classes.formControl}>\n\t\t\t<OutlinedInput\n\t\t\t\tclassName={classes.searchControl}\n\t\t\t\tname='search'\n\t\t\t\tvalue={search}\n\t\t\t\tonChange={e => {\n\t\t\t\t\tsetSearch(e.target.value);\n\t\t\t\t}}\n\t\t\t\tplaceholder='Search'\n\t\t\t\tstartAdornment={\n\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t<IconSearch stroke={1.5} size='1rem' className={classes.startAdornment} />\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t\tendAdornment={\n\t\t\t\t\tsearch ? (\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tclassName={classes.resetButton}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetSearch('');\n\t\t\t\t\t\t\t\tonTriggerSearch(false);\n\t\t\t\t\t\t\t\thandleReset();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<IconX stroke={1.5} size='1rem' />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\taria-describedby='search-helper-text'\n\t\t\t\tinputProps={{\n\t\t\t\t\t'aria-label': 'weight',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</FormControl>\n\t);\n};\n\nexport default SearchField;\n","import { FormControl, Autocomplete, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _get from 'lodash.get';\nimport _uniqBy from 'lodash.uniqby';\n\nconst TAG_LIMITATION = 1;\n\nexport type Props = {\n\tstatuses: Array<Object>;\n\tselectedStatuses: Array<number | string>;\n\tsetSelectedStatuses: Function;\n};\n\nconst useStyles = makeStyles(() => ({\n\tformControl: {\n\t\twidth: '100%',\n\t},\n}));\n\nconst StatusSelector = ({\n\tselectedStatuses,\n\tsetSelectedStatuses,\n\tstatuses,\n}: Props) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<FormControl variant='outlined' className={classes.formControl}>\n\t\t\t<Autocomplete\n\t\t\t\tvalue={selectedStatuses}\n\t\t\t\tonChange={(event, newValues) => {\n\t\t\t\t\tsetSelectedStatuses(_uniqBy(newValues, 'Id'));\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmultiple\n\t\t\t\tlimitTags={TAG_LIMITATION}\n\t\t\t\toptions={statuses}\n\t\t\t\tgetOptionLabel={option => _get(option, 'Name', '')}\n\t\t\t\tdefaultValue={[]}\n\t\t\t\trenderInput={params => (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t{...params}\n\t\t\t\t\t\tlabel='Status'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tmultiline={false}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</FormControl>\n\t);\n};\n\nexport default StatusSelector;\n","import React from 'react';\nimport { Button, Grid } from '@material-ui/core';\nimport _isEmpty from 'lodash.isempty';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchField from '../SearchField';\nimport type { Props as SearchFieldProps } from '../SearchField';\nimport StatusSelector from '../StatusSelector';\nimport type { Props as StatusSelectorProps } from '../StatusSelector';\n\nexport type Props = Omit<SearchFieldProps, 'handleReset'> &\n\tStatusSelectorProps & { onSearch: Function };\n\nconst useStyles = makeStyles(() => ({\n\tform: {\n\t\twidth: '100%',\n\t},\n}));\n\nconst SearchFilter = ({\n\tonSearch,\n\tonTriggerSearch,\n\tstatuses,\n\tsearch,\n\tsetSearch,\n\tselectedStatuses,\n\tsetSelectedStatuses,\n}: Props) => {\n\tconst classes = useStyles();\n\n\tconst onSubmit = (e: React.SyntheticEvent) => {\n\t\te.preventDefault();\n\t\tonSearch();\n\t};\n\n\treturn (\n\t\t<form onSubmit={onSubmit} className={classes.form}>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tdirection='row'\n\t\t\t\tjustifyContent='flex-start'\n\t\t\t\talignItems='center'\n\t\t\t\tspacing={1}\n\t\t\t>\n\t\t\t\t<Grid item xs={12} lg={4}>\n\t\t\t\t\t<SearchField\n\t\t\t\t\t\tsearch={search}\n\t\t\t\t\t\tsetSearch={setSearch}\n\t\t\t\t\t\thandleReset={() => {\n\t\t\t\t\t\t\tsetSearch('');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTriggerSearch={onTriggerSearch}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t{!_isEmpty(statuses) && (\n\t\t\t\t\t<Grid item xs={12} lg={7}>\n\t\t\t\t\t\t<StatusSelector\n\t\t\t\t\t\t\tselectedStatuses={selectedStatuses}\n\t\t\t\t\t\t\tsetSelectedStatuses={setSelectedStatuses}\n\t\t\t\t\t\t\tstatuses={statuses}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12} lg={1}>\n\t\t\t\t\t<Button type='submit' variant='contained' color='primary' size='large'>\n\t\t\t\t\t\tSearch\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</form>\n\t);\n};\n\nexport default SearchFilter;\n","import { TableCell, TableHead, TableRow } from '@material-ui/core';\nimport { HeadCell } from '../../../types';\n\nconst headCells: HeadCell[] = [\n\t{\n\t\tid: 'OfferNo',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'No',\n\t},\n\t{\n\t\tid: 'PropertyData.FullAddress',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Property Address',\n\t},\n\t{\n\t\tid: 'PropertyData.OwnerNames',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Sellers',\n\t},\n\t{\n\t\tid: 'CounterOffer.SellerCounter.OfferPrice',\n\t\tnumeric: true,\n\t\tdisablePadding: false,\n\t\tlabel: 'Offer Price',\n\t},\n\t{\n\t\tid: 'Funding.PurchaseType',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Funding',\n\t},\n\t{\n\t\tid: 'Funding.LoanType',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Loan Type',\n\t},\n\t{\n\t\tid: 'Funding.DownPayment',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Down Payment',\n\t},\n\t{\n\t\tid: 'Step.messages.advisor',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Status',\n\t},\n\t{\n\t\tid: 'CreatedAt',\n\t\tnumeric: false,\n\t\tlabel: 'Created Date',\n\t\talign: 'left',\n\t},\n];\n\nconst ListHeader = () => (\n\t<TableHead>\n\t\t<TableRow>\n\t\t\t{headCells.map(headCell => (\n\t\t\t\t<TableCell\n\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\talign='left'\n\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'normal'}\n\t\t\t\t>\n\t\t\t\t\t{headCell.label}\n\t\t\t\t</TableCell>\n\t\t\t))}\n\t\t\t<TableCell align='center' sx={{ pr: 3 }}>\n\t\t\t\tAction\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t</TableHead>\n);\n\nexport default ListHeader;\n","import { alpha, makeStyles } from '@material-ui/core/styles';\nimport { Toolbar } from '@material-ui/core';\nimport SearchFilter from '../components/SearchFilter';\nimport type { Props } from '../components/SearchFilter';\n\nconst useToolbarStyles = makeStyles(theme => ({\n\troot: {\n\t\tpaddingLeft: theme.spacing(2),\n\t\tpaddingRight: theme.spacing(1),\n\t\theight: '83px',\n\t},\n\thighlight: {\n\t\tbackgroundColor: alpha(\n\t\t\ttheme.palette.primary.main,\n\t\t\ttheme.palette.action.activatedOpacity\n\t\t),\n\t},\n\ttitle: {\n\t\tflex: '1 1 100%',\n\t},\n}));\n\nconst OfferToolbar = (props: Props) => {\n\tconst classes = useToolbarStyles();\n\tconst {\n\t\tonSearch,\n\t\tonTriggerSearch,\n\t\tstatuses,\n\t\tsearch,\n\t\tsetSearch,\n\t\tselectedStatuses,\n\t\tsetSelectedStatuses,\n\t} = props;\n\n\treturn (\n\t\t<Toolbar className={classes.root}>\n\t\t\t<SearchFilter\n\t\t\t\tonSearch={onSearch}\n\t\t\t\tonTriggerSearch={onTriggerSearch}\n\t\t\t\tstatuses={statuses}\n\t\t\t\tsearch={search}\n\t\t\t\tsetSearch={setSearch}\n\t\t\t\tselectedStatuses={selectedStatuses}\n\t\t\t\tsetSelectedStatuses={setSelectedStatuses}\n\t\t\t/>\n\t\t</Toolbar>\n\t);\n};\n\nexport default OfferToolbar;\n","import { useEffect, useState } from 'react';\nimport _get from 'lodash.get';\nimport _isEmpty from 'lodash.isempty';\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableRow,\n\tAlert,\n\tIconButton,\n\tGrid,\n} from '@material-ui/core';\nimport EditTwoToneIcon from '@material-ui/icons/EditTwoTone';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useQuery, useLazyQuery, gql } from '@apollo/client';\nimport { useHistory } from 'react-router';\nimport { TOffer } from '../../../types';\nimport graphql from '../../../graphql';\n\nimport Loader from '../../../ui-component/Loader';\nimport Header from './ListHeader';\nimport LoadMore from '../components/LoadMore';\nimport config from '../../../config';\nimport { getOfferPrice } from '../../../helpers/offer';\nimport { formatCurrency } from '../../../helpers/currency';\nimport OfferToolbar from './OfferToolbar';\nimport { formatDate } from '../../../helpers/date';\nimport { getValidSearchQuery } from '../../../helpers/searchFilter';\nimport { useSnackBar } from '../../../hooks';\n\nconst useStyles = makeStyles(() => ({\n\ttable: {\n\t\tminWidth: '750px',\n\t},\n}));\n\nconst OfferList = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst showSnackBar = useSnackBar();\n\n\tconst { loading, error, data, fetchMore } = useQuery(gql(graphql.getOffers), {\n\t\tvariables: { PageIndex: 0, PageSize: config.pagination.limit },\n\t\tfetchPolicy: 'cache-first',\n\t\tnotifyOnNetworkStatusChange: true,\n\t});\n\n\tconst {\n\t\tloading: loadingStatuses,\n\t\terror: statusesError,\n\t\tdata: statusesData,\n\t} = useQuery(gql(graphql.listOfferSteps));\n\n\tconst [doSearch, setDoSearch] = useState(false);\n\tconst [search, setSearch] = useState('');\n\tconst [selectedStatuses, setSelectedStatuses] = useState([]);\n\tconst [executeSearch, { loading: isSearching, data: searchData }] =\n\t\tuseLazyQuery(gql(graphql.getOffers));\n\n\tconst [rows, setRows] = useState<TOffer[]>([]);\n\tconst [hasMore, setHasMore] = useState<boolean>(false);\n\tconst [page, setPage] = useState<number>(0);\n\n\tconst getData = () => {\n\t\tif (isSearching) return {};\n\t\tif (doSearch) return searchData;\n\t\treturn data;\n\t};\n\n\tuseEffect(() => {\n\t\tconst newData = getData();\n\t\tconst newCount = _get(newData, 'getOffers.Count', 0);\n\t\tconst newTotal = _get(newData, 'getOffers.Total', 0);\n\t\tsetHasMore(newCount < newTotal);\n\t\tsetPage(_get(newData, 'getOffers.PageIndex') || 0);\n\t\tsetRows(_get(newData, 'getOffers.Items') || []);\n\t}, [data, searchData, doSearch, isSearching]);\n\n\tconst isLoading = loading || isSearching;\n\n\tif ((isLoading || loadingStatuses) && !data) return <Loader />;\n\n\tif (error || statusesError) {\n\t\tshowSnackBar({\n\t\t\tmessage: _get(error, 'message', 'Something went wrong'),\n\t\t\talertSeverity: 'error',\n\t\t});\n\t}\n\n\tconst editOffer = (id: string) => {\n\t\thistory.push(`/offer/${id}`);\n\t};\n\n\tconst searchHandler = (pageIndex = 0) => {\n\t\tconst { query, statusIds } = getValidSearchQuery({\n\t\t\tsearch,\n\t\t\tselectedStatuses,\n\t\t});\n\t\tif (query) {\n\t\t\texecuteSearch({\n\t\t\t\tvariables: {\n\t\t\t\t\tPageIndex: pageIndex,\n\t\t\t\t\tPageSize: config.pagination.limit,\n\t\t\t\t\tQuery: query,\n\t\t\t\t\tStepIds: statusIds,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tsetDoSearch(Boolean(query));\n\t};\n\n\tconst loadMore = () => {\n\t\tif (doSearch) {\n\t\t\tsearchHandler(page + 1);\n\t\t\treturn;\n\t\t}\n\t\tfetchMore({\n\t\t\tvariables: { PageIndex: page + 1, PageSize: config.pagination.limit },\n\t\t});\n\t};\n\n\tconst statuses = _get(statusesData, ['listOfferSteps'], []).map(\n\t\t(status: Object) => ({\n\t\t\tId: _get(status, 'id'),\n\t\t\tName: _get(status, 'messages.advisor'),\n\t\t})\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{isSearching && <Loader />}\n\t\t\t<OfferToolbar\n\t\t\t\tonSearch={searchHandler}\n\t\t\t\tonTriggerSearch={setDoSearch}\n\t\t\t\tstatuses={statuses}\n\t\t\t\tsearch={search}\n\t\t\t\tsetSearch={setSearch}\n\t\t\t\tselectedStatuses={selectedStatuses}\n\t\t\t\tsetSelectedStatuses={setSelectedStatuses}\n\t\t\t/>\n\t\t\t<TableContainer>\n\t\t\t\t<Table className={classes.table} aria-labelledby='tableTitle' size='small'>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.map(row => {\n\t\t\t\t\t\t\tif (typeof row === 'number') return null;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} key={row.OfferId}>\n\t\t\t\t\t\t\t\t\t<TableCell component='th'>{row.OfferNo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>\n\t\t\t\t\t\t\t\t\t\t{_get(row, 'PropertyData.FullAddress', '')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>\n\t\t\t\t\t\t\t\t\t\t{_get(row, 'PropertyData.OwnerNames', '')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>{getOfferPrice(row)}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>{row.Funding?.PurchaseType}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>{row.Funding?.LoanType}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>\n\t\t\t\t\t\t\t\t\t\t{formatCurrency(row.Funding?.DownPayment)}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell sx={{ pr: 3 }} align='left'>\n\t\t\t\t\t\t\t\t\t\t{row.Step?.messages?.advisor}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>{formatDate(row.CreatedAt)}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='center' sx={{ pr: 3 }}>\n\t\t\t\t\t\t\t\t\t\t<IconButton color='primary' onClick={() => editOffer(row.OfferId)}>\n\t\t\t\t\t\t\t\t\t\t\t<EditTwoToneIcon sx={{ fontSize: '1.3rem' }} />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t{_isEmpty(rows) && !isLoading && (\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Alert icon={false} severity='info'>\n\t\t\t\t\t\tNo Records found\n\t\t\t\t\t</Alert>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{hasMore && <LoadMore onLoadMore={loadMore} loading={isLoading} />}\n\t\t</>\n\t);\n};\n\nexport default OfferList;\n","// material-ui\nimport MainCard from '../../../ui-component/cards/MainCard';\n\n// project imports\nimport OfferList from '../../application/offer/OfferList';\n\nconst ListPage = () => (\n\t<MainCard title='Offers List'>\n\t\t<OfferList />\n\t</MainCard>\n);\n\nexport default ListPage;\n"],"sourceRoot":""}