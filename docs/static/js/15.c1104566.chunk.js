(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[15],{1101:function(e,t,n){"use strict";n.r(t);var r=n(308),a=n(22),i=n(0),c=n(96),o=n.n(c),l=n(122),s=n.n(l),d=n(57),u=n(831),b=n(1112),j=n(1113),f=n(1114),h=n(1108),O=n(1109),p=n(1099),m=n(848),g=n(834),x=n(883),v=n.n(x),y=n(726),S=n(955),P=n(155),k=n(821),C=n(55),w=n(312),N=n(863),A=n(196),L=n(12),T=n(1070),I=n(1105),z=n(1090),F=n(1),D=[{id:"OfferNo",numeric:!1,disablePadding:!1,label:"No"},{id:"PropertyData.FullAddress",numeric:!1,disablePadding:!1,label:"Property Address"},{id:"PropertyData.OwnerNames",numeric:!1,disablePadding:!1,label:"Sellers"},{id:"CounterOffer.SellerCounter.OfferPrice",numeric:!0,disablePadding:!1,label:"Offer Price"},{id:"Funding.PurchaseType",numeric:!1,disablePadding:!1,label:"Funding"},{id:"Funding.LoanType",numeric:!1,disablePadding:!1,label:"Loan Type"},{id:"Funding.DownPayment",numeric:!1,disablePadding:!1,label:"Down Payment"},{id:"Step.messages.advisor",numeric:!1,disablePadding:!1,label:"Status"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"}],E=Object(y.a)((function(){return{sortSpan:Object(L.a)({},z.a)}})),R=function(e){var t=E(),n=e.onSelectAllClick,r=e.order,a=e.orderBy,i=e.numSelected,c=e.rowCount,o=e.onRequestSort;return Object(F.jsx)(T.a,{children:Object(F.jsxs)(h.a,{children:[Object(F.jsx)(O.a,{padding:"checkbox",sx:{pl:3},children:Object(F.jsx)(p.a,{color:"primary",indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),D.map((function(e){return Object(F.jsx)(O.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id?r:void 0,className:(i=e.id,t[i]||""),children:Object(F.jsxs)(I.a,{active:a===e.id,direction:a===e.id?r:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,a===e.id?Object(F.jsx)("span",{className:t.sortSpan,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id);var n,i})),Object(F.jsx)(O.a,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})},B=n(864),M=n(47),H=n(145),q=n(879),J=n(880),W=n(13),_=n(29),V=n(16),Z=n(843),G=n(734),K=n(812),Q=n(1106),U=n(944),X=n(69),Y=n(857),$=Object(y.a)((function(e){var t;return{searchControl:(t={paddingRight:"16px",paddingLeft:"16px","& input":{background:"transparent !important",paddingLeft:"5px !important"}},Object(W.a)(t,e.breakpoints.down("lg"),{width:"250px"}),Object(W.a)(t,e.breakpoints.down("md"),{width:"100%",marginLeft:"4px",background:"dark"===e.palette.mode?e.palette.dark[800]:"#fff"}),t),startAdornment:{fontSize:"1rem",color:e.palette.grey[500]},resetButton:{width:"22px",height:"22px"}}})),ee=function(e){var t=e.onSearch,n=e.onTriggerSearch,r=Object(i.useState)(""),c=Object(a.a)(r,2),o=c[0],l=c[1],s=$();return Object(F.jsx)(Y.b,{initialValues:{search:""},onSubmit:function(e){var r=e.search;r&&t(r),n(Boolean(r))},children:function(e){var t=e.handleSubmit,r=e.handleChange,a=e.handleReset;return Object(F.jsx)("form",{onSubmit:t,children:Object(F.jsx)(Q.a,{className:s.searchControl,name:"search",value:o,onChange:function(e){l(e.target.value),r(e)},placeholder:"Search",startAdornment:Object(F.jsx)(U.a,{position:"start",children:Object(F.jsx)(X.j,{stroke:1.5,size:"1rem",className:s.startAdornment})}),endAdornment:Object(F.jsx)(m.a,{type:"button",size:"small",className:s.resetButton,onClick:function(){l(""),n(!1),a()},children:o&&Object(F.jsx)(X.k,{stroke:1.5,size:"1rem"})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})}})},te=Object(y.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),height:"83px"},highlight:{backgroundColor:Object(_.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),ne=function(e){var t=te(),n=e.numSelected,r=e.searchHandler,a=e.triggerSearch;return Object(F.jsx)(Z.a,{className:Object(V.a)(t.root,Object(W.a)({},t.highlight,n>0)),children:n>0?Object(F.jsxs)(G.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(F.jsx)(K.a,{sx:{display:{xs:"none",md:"block"}},component:"div",children:Object(F.jsx)(ee,{onSearch:r,onTriggerSearch:a})})})},re=n(865),ae=Object(y.a)((function(){return{table:{minWidth:"750px"}}})),ie=function(){var e=Object(S.a)(Object(P.a)(w.a.listOffers),{variables:{limit:M.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),t=e.loading,n=e.error,r=e.data,c=e.fetchMore,l=Object(i.useState)(!1),x=Object(a.a)(l,2),y=x[0],L=x[1],T=Object(k.a)(Object(P.a)(w.a.searchOffers)),I=Object(a.a)(T,2),z=I[0],D=I[1],E=D.loading,W=D.data,_=Object(i.useState)([]),V=Object(a.a)(_,2),Z=V[0],G=V[1];Object(i.useEffect)((function(){var e=[];y&&!E&&(e=o()(W,"searchOffers",[])),y||(e=o()(r,"listOffers.items",[])),G(e)}),[r,W,y,E]);var K=o()(r,"listOffers.nextToken",void 0),Q=Object(d.a)(),U=ae(),X=Object(C.h)(),Y=Object(H.b)("CreatedAt"),$=Y.order,ee=Y.orderBy,te=Y.handleRequestSort,ie=Object(H.c)("OfferId"),ce=ie.selected,oe=ie.isSelected,le=ie.handleSelect,se=ie.handleSelectAll;if(t&&!r)return Object(F.jsx)(A.a,{});if(n&&s()(r))return Object(F.jsx)(u.a,{severity:"error",sx:{color:Q.palette.error.main},children:"Something went wrong!"});return Object(F.jsxs)(F.Fragment,{children:[E&&Object(F.jsx)(A.a,{}),Object(F.jsx)(ne,{numSelected:ce.length,searchHandler:function(e){return z({variables:{SearchText:e}})},triggerSearch:L}),Object(F.jsx)(b.a,{children:Object(F.jsxs)(j.a,{className:U.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(F.jsx)(R,{numSelected:ce.length,order:$,orderBy:ee,onSelectAllClick:function(e){se(e.target.checked,Z)},onRequestSort:te,rowCount:Z.length}),Object(F.jsx)(f.a,{children:Object(N.b)(Z,Object(N.a)($,ee)).map((function(e,t){var n,r,a,i,c,o,l;if("number"===typeof e)return null;var s=oe(e.OfferId),d="enhanced-table-checkbox-".concat(t);return Object(F.jsxs)(h.a,{hover:!0,onClick:function(){return le(e.OfferId)},role:"checkbox","aria-checked":s,tabIndex:-1,selected:s,children:[Object(F.jsx)(O.a,{sx:{pl:3},padding:"checkbox",children:Object(F.jsx)(p.a,{color:"primary",checked:s,inputProps:{"aria-labelledby":d}})}),Object(F.jsx)(O.a,{component:"th",id:d,children:e.OfferNo}),Object(F.jsx)(O.a,{align:"left",children:null===(n=e.PropertyData)||void 0===n?void 0:n.FullAddress}),Object(F.jsx)(O.a,{align:"left",children:null===(r=e.PropertyData)||void 0===r?void 0:r.OwnerNames}),Object(F.jsx)(O.a,{align:"left",children:Object(q.a)(e)}),Object(F.jsx)(O.a,{align:"left",children:null===(a=e.Funding)||void 0===a?void 0:a.PurchaseType}),Object(F.jsx)(O.a,{align:"left",children:null===(i=e.Funding)||void 0===i?void 0:i.LoanType}),Object(F.jsx)(O.a,{align:"left",children:Object(J.a)(null===(c=e.Funding)||void 0===c?void 0:c.DownPayment)}),Object(F.jsx)(O.a,{sx:{pr:3},align:"left",children:null===(o=e.Step)||void 0===o||null===(l=o.messages)||void 0===l?void 0:l.advisor}),Object(F.jsx)(O.a,{align:"left",children:Object(re.a)(e.CreatedAt)}),Object(F.jsx)(O.a,{align:"center",sx:{pr:3},children:Object(F.jsx)(m.a,{color:"primary",onClick:function(){return t=e.OfferId,void X.push("/offer/".concat(t));var t},children:Object(F.jsx)(v.a,{sx:{fontSize:"1.3rem"}})})})]},e.OfferId)}))})]})}),s()(Z)&&!E&&Object(F.jsx)(g.a,{item:!0,xs:12,children:Object(F.jsx)(u.a,{icon:!1,severity:"info",children:"No Records found"})}),!y&&Object(F.jsx)(B.a,{onLoadMore:function(){c({variables:{limit:M.a.pagination.limit,nextToken:K}})},disabled:!K,loading:t})]})};t.default=function(){return Object(F.jsx)(r.a,{title:"Offers List",children:Object(F.jsx)(ie,{})})}},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(96),a=n.n(r),i=function(e,t,n){return a()(t,n)<a()(e,n)?-1:a()(t,n)>a()(e,n)?1:0},c=function(e,t){return"desc"===e?function(e,n){return i(e,n,t)}:function(e,n){return-i(e,n,t)}},o=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}},864:function(e,t,n){"use strict";var r=n(847),a=n(834),i=n(1110),c=n(69),o=n(1104),l=n(726),s=n(1),d=Object(o.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(r.a),u=Object(l.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,r=e.loading,o=u();return Object(s.jsx)(a.a,{container:!0,className:o.toolbar,justifyContent:"center",children:Object(s.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||r,children:r?Object(s.jsx)(i.a,{size:24}):Object(s.jsx)(c.a,{})})})}},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),a=function(e){return"".concat(e?new Intl.DateTimeFormat(r.a.locate.country,{timeZone:r.a.locate.timezone}).format(new Date(e)):"")}},879:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var r=n(96),a=n.n(r),i=n(122),c=n.n(i),o=n(47),l=n(880),s=o.a.offerSteps,d=function(e){var t;return(t=+a()(e,["Step","id"])===s.counteredBySeller?a()(e,["CounterOffer","SellerCounter","OfferPrice"]):a()(e,["CounterOffer","BuyerCounter","OfferPrice"]))?Object(l.a)(t):""},u=function(e,t){return!c()(a()(e,t))}},880:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),a=function(e){return"".concat(e?new Intl.NumberFormat(r.a.locate.country,{style:"currency",currency:r.a.locate.currency}).format(e):"")}},944:function(e,t,n){"use strict";var r=n(13),a=n(11),i=n(3),c=n(0),o=(n(21),n(16)),l=n(463),s=n(809),d=n(15),u=n(734),b=n(850),j=n(14),f=n(727),h=n(810);function O(e){return Object(f.a)("MuiInputAdornment",e)}var p=Object(h.a)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),m=n(20),g=n(1),x=Object(j.a)("div",{},{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.styleProps;return Object(l.a)(Object(i.a)({},t["position".concat(Object(d.a)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]),t.root||{})}})((function(e){var t=e.theme,n=e.styleProps;return Object(i.a)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===n.variant&&Object(r.a)({},"&.".concat(p.positionStart,"&:not(.").concat(p.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),v=c.forwardRef((function(e,t){var n=Object(m.a)({props:e,name:"MuiInputAdornment"}),r=n.children,l=n.className,j=n.component,f=void 0===j?"div":j,h=n.disablePointerEvents,p=void 0!==h&&h,v=n.disableTypography,y=void 0!==v&&v,S=n.position,P=n.variant,k=Object(a.a)(n,["children","className","component","disablePointerEvents","disableTypography","position","variant"]),C=Object(b.b)()||{},w=P;P&&C.variant,C&&!w&&(w=C.variant);var N=Object(i.a)({},n,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:p,position:S,variant:w}),A=function(e){var t=e.classes,n=e.disablePointerEvents,r=e.hiddenLabel,a=e.position,i=e.size,c=e.variant,o={root:["root",n&&"disablePointerEvents",a&&"position".concat(Object(d.a)(a)),c,r&&"hiddenLabel",i&&"size".concat(Object(d.a)(i))]};return Object(s.a)(o,O,t)}(N);return Object(g.jsx)(b.a.Provider,{value:null,children:Object(g.jsx)(x,Object(i.a)({as:f,styleProps:N,className:Object(o.a)(A.root,l),ref:t},k,{children:"string"!==typeof r||y?Object(g.jsxs)(c.Fragment,{children:["start"===S?Object(g.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,r]}):Object(g.jsx)(u.a,{color:"text.secondary",children:r})}))})}));t.a=v}}]);
//# sourceMappingURL=15.c1104566.chunk.js.map