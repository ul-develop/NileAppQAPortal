(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[31],{1186:function(e,t,n){"use strict";n.r(t);var r=n(300),a=n(52),i=n.n(a),c=n(95),o=n(23),l=n(8),s=n(1005),d=n(786),j=n(151),b=n(930),u=n(590),m=n(60),p=n(701),h=n(931),O=n(932),x=n(933),f=n(927),g=n(928),v=n(989),y=n(720),k=n(1165),C=n(107),F=n.n(C),N=n(19),S=n.n(N),w=n(56),I=n(59),T=n(799),A=n.n(T),D=(n(0),n(38)),B=n(157),R=n(211),L=n(926),P=n(1192),M=n(2),z=[{id:"Title",numeric:!1,label:"Title",align:"left",disablePadding:!1},{id:"Category",numeric:!1,label:"Category",align:"left",disablePadding:!1},{id:"FormType",numeric:!1,label:"Form Type",align:"left"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"},{id:"UpdatedAt",numeric:!1,label:"Updated Date",align:"left"}],W=Object(u.a)((function(){return{sortSpan:Object(l.a)({},k.a)}})),q=function(e){var t=W(),n=e.onSelectAllClick,r=e.order,a=e.orderBy,i=e.numSelected,c=e.rowCount,o=e.onRequestSort,l=void 0===o?function(){}:o;return Object(M.jsx)(L.a,{children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)(g.a,{padding:"checkbox",sx:{pl:3},children:Object(M.jsx)(v.a,{color:"primary",indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),z.map((function(e){return Object(M.jsx)(g.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id?r:void 0,children:Object(M.jsxs)(P.a,{active:a===e.id,direction:a===e.id?r:"asc",onClick:(n=e.id,function(e){l(e,n)}),children:[e.label,a===e.id?Object(M.jsx)("span",{className:t.sortSpan,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),Object(M.jsx)(g.a,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})},U=function(e,t,n){return S()(t,n)<S()(e,n)?-1:S()(t,n)>S()(e,n)?1:0},J=n(767),E=n(310),Y=n(308),_=n(103),G=n(14),H=n(29),K=n(17),Q=n(716),V=n(707),X=n(600),Z=n(994),$=n(856),ee=n(866),te=n.n(ee),ne=n(865),re=n.n(ne),ae=Object(u.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},highlight:{backgroundColor:Object(H.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),ie=function(e){var t=ae(),n=e.numSelected,r=e.onDelete,a=e.onCreate;return Object(M.jsx)(Q.a,{className:Object(K.a)(t.root,Object(G.a)({},t.highlight,n>0)),children:Object(M.jsxs)(V.a,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[Object(M.jsx)(V.a,{item:!0,xs:12,sm:6,children:n>0&&Object(M.jsxs)(X.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]})}),Object(M.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(V.a,{container:!0,justifyContent:"flex-end",alignItems:"center",children:n>0?Object(M.jsx)(Z.a,{title:"Delete",children:Object(M.jsx)(y.a,{onClick:r,children:Object(M.jsx)(re.a,{})})}):Object(M.jsx)(Z.a,{title:"Create",children:Object(M.jsx)($.a,{color:"primary","aria-label":"add",sx:{boxShadow:"none",ml:1,width:"48px",height:"48px"},onClick:a,children:Object(M.jsx)(te.a,{})})})})})]})})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=S()(t,"id"),r=S()(t,"Name",n);return Object(l.a)(Object(l.a)({},e),{},Object(G.a)({},n,r))}),{})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=S()(t,"id"),r=S()(t,"Title",n);return Object(l.a)(Object(l.a)({},e),{},Object(G.a)({},n,{categoryName:r,formTypes:ce(S()(t,"FormTypes",[]))}))}),{})},le=n(28),se=Object(u.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},sortSpan:Object(l.a)({},k.a)}})),de=function(){var e=Object(d.a)(Object(j.d)(R.a.listForms),{variables:{limit:D.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),t=e.loading,n=e.error,r=e.data,a=e.fetchMore,u=Object(d.a)(Object(j.d)(R.a.listFormCategories)).data,k=Object(b.a)(Object(j.d)(E.deleteForm),{}),C=Object(o.a)(k,2),N=C[0],T=C[1],L=T.loading,P=T.error,z=S()(r,["listForms","items"],[]),W=S()(r,"listForms.nextToken",void 0),G=Object(m.a)(),H=se(),K=Object(_.b)("CreatedAt"),Q=K.order,V=K.orderBy,X=K.handleRequestSort,Z=Object(_.d)("FormId"),$=Z.selected,ee=Z.isSelected,te=Z.handleSelect,ne=Z.handleSelectAll,re=Z.clearSelected,ae=Object(w.h)();if((t||L)&&!r)return Object(M.jsx)(B.a,{});if(n||F()(r)||P)return Object(M.jsx)(p.a,{severity:"error",sx:{color:G.palette.error.main},children:"Something went wrong!"});var ce=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,r,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=2;break}return e.abrupt("return");case 2:t=!1,n=!1,e.prev=4,a=i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.value,e.next=3,N({variables:{FormId:t},update:function(e){e.modify({fields:{listForms:function(e,n){var r=n.readField,a=e.items.filter((function(e){return t!==r("FormId",e)}));return Object(l.a)(Object(l.a)({},e),{},{items:a})}}})}});case 3:case"end":return e.stop()}}),e)})),c=Object(s.a)($);case 7:return e.next=9,c.next();case 9:if(!(t=!(o=e.sent).done)){e.next=14;break}return e.delegateYield(a(),"t0",11);case 11:t=!1,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(4),n=!0,r=e.t1;case 20:if(e.prev=20,e.prev=21,!t||null==c.return){e.next=25;break}return e.next=25,c.return();case 25:if(e.prev=25,!n){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(20);case 30:re();case 31:case"end":return e.stop()}}),e,null,[[4,16,20,30],[21,,25,29]])})));return function(){return e.apply(this,arguments)}}(),de=function(e){var t=oe(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return e.map((function(e){var n=S()(e,"CategoryId"),r=S()(e,"FormTypeId");return Object(l.a)(Object(l.a)({},e),{},{CategoryName:S()(t,[n,"categoryName"]),FormTypeName:S()(t,[n,"formTypes",r])})}))}(z,S()(u,["listFormCategories"],[])),je=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}(de,function(e,t){return"desc"===e?function(e,n){return U(e,n,t)}:function(e,n){return-U(e,n,t)}}(Q,V));return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ie,{numSelected:$.length,onDelete:ce,onCreate:function(){var e=Object(w.f)(le.c.FORM_ADD);ae.push(e)}}),Object(M.jsx)(h.a,{children:Object(M.jsxs)(O.a,{className:H.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(M.jsx)(q,{numSelected:$.length,order:Q,orderBy:V,onSelectAllClick:function(e){ne(e.target.checked,z)},onRequestSort:X,rowCount:z.length}),Object(M.jsx)(x.a,{children:je.map((function(e,t){if("number"===typeof e)return null;var n=Object(w.f)(le.c.FORM,{id:e.FormId}),r=ee(e.FormId),a="enhanced-table-checkbox-".concat(t);return Object(M.jsxs)(f.a,{hover:!0,onClick:function(){return te(e.FormId)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(M.jsx)(g.a,{sx:{pl:3},padding:"checkbox",children:Object(M.jsx)(v.a,{color:"primary",checked:r,inputProps:{"aria-labelledby":a}})}),Object(M.jsx)(g.a,{align:"left",children:e.Title}),Object(M.jsxs)(g.a,{align:"left",children:[e.CategoryName||e.CategoryId," "]}),Object(M.jsx)(g.a,{align:"left",children:e.FormTypeName||e.FormTypeId}),Object(M.jsx)(g.a,{align:"left",children:Object(Y.b)(e.CreatedAt)}),Object(M.jsx)(g.a,{align:"left",children:Object(Y.b)(e.UpdatedAt)}),Object(M.jsx)(g.a,{align:"left",sx:{pr:3},children:Object(M.jsx)(I.c,{to:n,children:Object(M.jsx)(y.a,{color:"primary",children:Object(M.jsx)(A.a,{sx:{fontSize:"1.3rem"}})})})})]},e.FormId)}))})]})}),Object(M.jsx)(J.a,{onLoadMore:function(){a({variables:{limit:D.a.pagination.limit,nextToken:W}})},disabled:!W,loading:t})]})},je=n(745),be=n(323),ue=n(747);t.default=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(je.a,{navigation:Object(ue.c)(be.a),icon:!0}),Object(M.jsx)(r.a,{title:"Forms List",children:Object(M.jsx)(de,{})})]})}},745:function(e,t,n){"use strict";var r=n(8),a=n(31),i=n(23),c=n(156),o=n(0),l=n(59),s=n(590),d=n(600),j=n(601),b=n(603),u=n(707),m=n(602),p=n(837),h=n(752),O=n.n(h),x=n(753),f=n.n(x),g=n(746),v=n.n(g),y=n(66),k=n(133),C=n(2),F=["card","divider","icon","icons","maxItems","navigation","rightAlign","title","titleBottom"],N=Object(s.a)((function(e){return{link:{display:"flex",color:e.palette.grey[900],textDecoration:"none",alignContent:"center",alignItems:"center"},activeLink:{display:"flex",textDecoration:"none",alignContent:"center",alignItems:"center",color:e.palette.grey[500]},icon:{marginRight:e.spacing(.75),marginTop:"-".concat(e.spacing(.25)),width:"1rem",height:"1rem",color:e.palette.secondary.main},separator:{width:16,marginLeft:8,marginRight:8},content:{padding:"16px !important"},noPadding:{padding:"16px !important",paddingLeft:"0 !important"},card:{marginBottom:e.spacing(k.b),border:"1px solid",borderColor:"dark"===e.palette.mode?e.palette.background.default:e.palette.primary[200]+75},root:{background:"transparent",boxShadow:"none",border:"none"},titleTop:{marginBottom:e.spacing(1)},titleBottom:{marginTop:e.spacing(1)},divider:{borderColor:e.palette.primary.main,marginBottom:e.spacing(k.b)}}}));t.a=function(e){var t=e.card,n=e.divider,s=e.icon,h=e.icons,x=e.maxItems,g=e.navigation,k=e.rightAlign,S=e.title,w=e.titleBottom,I=Object(c.a)(e,F),T=N(),A=Object(o.useState)([]),D=Object(i.a)(A,2),B=D[0],R=D[1],L=Object(o.useState)(),P=Object(i.a)(L,2),M=P[0],z=P[1];Object(o.useEffect)((function(){var e;B.length||null===g||void 0===g||null===(e=g.items)||void 0===e||e.map((function(e,t){return e.type&&"group"===e.type&&W(e,t),!1}))}),[]);var W=function e(t,n){t.children&&t.children.filter((function(t){return t.type&&"collapse"===t.type?(R((function(e){return[].concat(Object(a.a)(e),[t])})),e(t)):t.type&&"item"===t.type&&document.location.hash.includes("#".concat(t.url))&&z(t),!1}))},q=T.card;!1===t&&(q=T.root);var U,J=T.content;!1===t&&(J=T.noPadding);var E,Y=Object(C.jsx)(d.a,{}),_="",G=B.map((function(e){if("collapse"!==e.type)return Object(C.jsx)(C.Fragment,{});var t=e.icon?e.icon:O.a;return Object(C.jsxs)(d.a,{component:l.c,to:e.url||"#",variant:"subtitle1",className:T.link,children:[h&&Object(C.jsx)(t,{className:T.icon}),e.title]},e.id)}));return M&&"item"===M.type&&(_=M.title,E=M.icon?M.icon:O.a,U=Object(C.jsxs)(d.a,{variant:"subtitle1",className:T.activeLink,children:[h&&Object(C.jsx)(E,{className:T.icon}),_]}),!1!==M.breadcrumbs&&(Y=Object(C.jsxs)(j.a,Object(r.a)(Object(r.a)({className:q},I),{},{children:[Object(C.jsx)(b.a,{className:J,children:Object(C.jsxs)(u.a,{container:!0,direction:k?"row":"column",justifyContent:k?"space-between":"flex-start",alignItems:k?"center":"flex-start",spacing:1,children:[S&&!w&&Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})}),Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(p.a,{classes:{separator:T.separator},"aria-label":"breadcrumb",maxItems:x||8,separator:Object(C.jsx)(y.b,{stroke:1.5,size:"1rem"}),children:[Object(C.jsxs)(d.a,{component:l.c,to:"/",color:"inherit",variant:"subtitle1",className:T.link,children:[h&&Object(C.jsx)(v.a,{className:T.icon}),s&&Object(C.jsx)(f.a,{className:T.icon,style:{marginRight:0}}),!s&&"Dashboard"]}),G,U]})}),S&&w&&Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})})]})}),!1===t&&!1!==n&&Object(C.jsx)(m.a,{className:T.divider})]})))),Y}},747:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var r=n(8),a=n(148),i=n(2),c=function(e,t){var n=e.id,a=e.url,i=t.id,c=t.url;return Object(r.a)(Object(r.a)({},o({title:"property",id:n,url:a})),{},{type:"collapse",children:[o({title:"offer",id:i,url:c})]})},o=function(e){var t=e.url,n=e.id,r=e.title;return{id:n,title:Object(i.jsx)(a.a,{id:r,values:{id:n}}),url:t,type:"item"}},l=function(e,t){return{items:[{type:"group",children:[Object(r.a)(Object(r.a)({},e),{},{children:t?[t]:e.children})]}]}}},767:function(e,t,n){"use strict";var r=n(719),a=n(707),i=n(929),c=n(66),o=n(924),l=n(590),s=n(2),d=Object(o.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(r.a),j=Object(l.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,r=e.loading,o=j();return Object(s.jsx)(a.a,{container:!0,className:o.toolbar,justifyContent:"center",children:Object(s.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||r,children:r?Object(s.jsx)(i.a,{size:24}):Object(s.jsx)(c.a,{})})})}}}]);
//# sourceMappingURL=31.5bc6054f.chunk.js.map