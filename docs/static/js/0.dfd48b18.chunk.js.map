{"version":3,"sources":["../../../../src/react/data/QueryData.ts","../../../../../src/react/hooks/utils/useBaseQuery.ts","../../../../../src/react/hooks/utils/useDeepMemo.ts","../../../../src/react/hooks/useQuery.ts","../../../../src/react/parser/index.ts","../node_modules/lodash.get/index.js","../node_modules/@material-ui/core/FormControl/useFormControl.js","../node_modules/@material-ui/core/FormControl/FormControlContext.js","../node_modules/lodash.isempty/index.js","../../../../src/react/data/OperationData.ts"],"names":["options","context","onNewData","runLazy","previous","Object","create","runLazyQuery","cleanup","lazyOptions","getQueryResult","result","observableQueryFields","getOptions","skip","data","undefined","error","loading","networkStatus","ready","called","currentObservable","currentResult","getCurrentResult","partial","errors","length","graphQLErrors","assign","getLastResult","fetchPolicy","keys","refetch","client","setOptions","previousResult","previousData","resetQueryStoreErrors","obsRefetch","variables","obsFetchMore","fetchMoreOptions","fetchMore","obsUpdateQuery","mapFn","updateQuery","obsStartPolling","pollInterval","startPolling","obsStopPolling","stopPolling","obsSubscribeToMore","subscribeToMore","execute","this","refreshClient","query","removeQuerySubscription","removeObservable","updateObservableQuery","isMounted","startQuerySubscription","getExecuteSsrResult","getExecuteResult","executeLazy","fetchData","ssr","Promise","resolve","afterExecute","lazy","handleErrorOrCompleted","previousOptions","unmount","bind","ssrInitiated","renderPromises","ssrDisabled","fetchDisabled","disableNetworkFetches","ssrLoading","stale","addQueryPromise","prepareObservableQueryOptions","verifyDocumentType","Query","displayName","initializeObservableQuery","getSSRObservable","observableQueryOptions","children","watchQuery","registerSSRObservable","newObservableQueryOptions","catch","currentSubscription","subscribe","next","resubscribeToQuery","hasOwnProperty","lastError","getLastError","lastResult","resetLastResults","onCompleted","onError","unsubscribe","andDelete","useBaseQuery","x","tick","forceUpdate","updatedOptions","queryDataRef","queryData","current","then","memoFn","key","ref","value","useDeepMemo","queryResult","useQuery","DocumentType","cache","Map","operationName","type","name","Mutation","Subscription","parser","document","cached","get","fragments","definitions","filter","kind","queries","operation","mutations","subscriptions","definition","HASH_UNDEFINED","funcTag","genTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","freeGlobal","global","freeSelf","self","root","Function","arrayProto","Array","prototype","funcProto","objectProto","coreJsData","maskSrcKey","uid","exec","IE_PROTO","funcToString","toString","objectToString","reIsNative","RegExp","call","replace","Symbol","splice","getNative","nativeCreate","symbolProto","symbolToString","Hash","entries","index","clear","entry","set","ListCache","MapCache","assocIndexOf","array","other","baseGet","object","path","isArray","isSymbol","test","isKey","stringToPath","toKey","baseIsNative","isObject","func","tag","isFunction","e","isHostObject","toSource","getMapData","map","__data__","isKeyable","getValue","has","pop","push","memoize","string","baseToString","match","number","quote","resolver","TypeError","memoized","args","arguments","apply","Cache","isObjectLike","module","exports","defaultValue","useFormControl","React","FormControlContext","MAX_SAFE_INTEGER","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","freeExports","nodeType","freeModule","moduleExports","transform","Buffer","propertyIsEnumerable","nativeIsBuffer","isBuffer","nativeKeys","arg","DataView","Set","WeakMap","nonEnumShadows","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","isMasked","getTag","isArguments","isArrayLike","isArrayLikeObject","ArrayBuffer","Ctor","constructor","ctorString","isLength","size","isPrototype","newOptions","storePrevious","isNew"],"mappings":"yMA8BA,cAkBE,WAAY,G,IACVA,EAAO,UACPC,EAAO,UACPC,EAAS,YAHX,EASE,YAAMF,EAASC,IAAQ,K,OArBjB,EAAAE,SAAmB,EAEnB,EAAAC,SAQJC,OAAOC,OAAO,MAgGV,EAAAC,aAAe,SAACP,GACtB,EAAKQ,UACL,EAAKL,SAAU,EACf,EAAKM,YAAcT,EACnB,EAAKE,aA2LC,EAAAQ,eAAiB,WACvB,IAAIC,EAAS,EAAKC,wBACZZ,EAAU,EAAKa,aAYrB,GAAIb,EAAQc,KACVH,EAAS,OAAH,WAAG,CAAH,sBACDA,GAAM,CACTI,UAAMC,EACNC,WAAOD,EACPE,SAAS,EACTC,cAAe,IAAcC,MAC7BC,QAAQ,SAEL,GAAI,EAAKC,kBAAmB,CAEjC,IAAMC,EAAgB,EAAKD,kBAAkBE,mBACrCT,EAAkDQ,EAA9C,KAAEL,EAA4CK,EAArC,QAAEE,EAAmCF,EAA5B,QAAEJ,EAA0BI,EAAb,cAAEG,EAAWH,EAAL,OAC/CN,EAAUM,EAAL,MAiBX,GAbIG,GAAUA,EAAOC,OAAS,IAC5BV,EAAQ,IAAI,IAAY,CAAEW,cAAeF,KAG3Cf,EAAS,OAAH,WAAG,CAAH,sBACDA,GAAM,CACTI,KAAI,EACJG,QAAO,EACPC,cAAa,EACbF,MAAK,EACLI,QAAQ,IAGNH,QAEG,GAAID,EACTZ,OAAOwB,OAAOlB,EAAQ,CACpBI,MAAO,EAAKO,kBAAkBQ,iBAAoB,IAC/Cf,WAEA,CACG,IAAAgB,EAAgB,EAAKT,kBAAkBtB,QAA5B,YAEnB,GAD2BA,EAAL,gBAGpByB,KACEV,GAAqC,IAA7BV,OAAO2B,KAAKjB,GAAMY,SACZ,eAAhBI,EAeA,OALA1B,OAAOwB,OAAOlB,EAAQ,CACpBO,SAAS,EACTC,cAAe,IAAcD,UAE/BP,EAAOsB,UACAtB,GAKbA,EAAOuB,OAAS,EAAKA,OAErB,EAAKC,WAAWnC,GAAS,GAEzB,IAAMoC,EAAiB,EAAKhC,SAASO,OAqBrC,OAnBA,EAAKP,SAASc,QACZkB,GAAkBA,EAAelB,UAAW,EAO9CP,EAAO0B,aAAeD,IACnBA,EAAerB,MAAQqB,EAAeC,cAEzC,EAAKjC,SAASO,OAASA,EAMvB,EAAKW,mBAAqB,EAAKA,kBAAkBgB,wBAE1C3B,GAmDD,EAAA4B,WAAa,SAACC,GAA+B,aAC7B,QAD6B,EACnD,EAAKlB,yBAAiB,eAAEW,QAAQO,IAE1B,EAAAC,aAAe,SACrBC,GAEG,SAAKpB,kBAAmBqB,UAAxB,IAEG,EAAAC,eAAiB,SACvBC,GAIG,SAAKvB,kBAAmBwB,YAAxB,IAEG,EAAAC,gBAAkB,SAACC,G,MACH,QAAtB,IAAK1B,yBAAiB,SAAE2B,aAAaD,IAG/B,EAAAE,eAAiB,W,MACD,QAAtB,IAAK5B,yBAAiB,SAAE6B,eAGlB,EAAAC,mBAAqB,SAI3BpD,GAKG,SAAKsB,kBAAmB+B,gBAAxB,IA7cH,EAAKnD,UAAYA,E,EA0drB,OAtfkD,yBA+BzC,YAAAoD,QAAP,WACEC,KAAKC,gBAEC,MAAkBD,KAAK1C,aAArBC,EAAI,OAAE2C,EAAK,QAWnB,OAVI3C,GAAQ2C,IAAUF,KAAKnD,SAASqD,SAClCF,KAAKG,0BACLH,KAAKI,kBAAkB7C,GACvByC,KAAKnD,SAASqD,MAAQA,GAGxBF,KAAKK,wBAEDL,KAAKM,WAAWN,KAAKO,yBAElBP,KAAKQ,uBAAyBR,KAAKS,oBAGrC,YAAAC,YAAP,WACE,OAAQV,KAAKpD,QAUT,CAACoD,KAAKhD,aAAcgD,KAAKD,WATzB,CACEC,KAAKhD,aACL,CACEW,SAAS,EACTC,cAAe,IAAcC,MAC7BC,QAAQ,EACRN,UAAMC,KAOT,YAAAkD,UAAP,sBACQlE,EAAUuD,KAAK1C,aACrB,OAAIb,EAAQc,OAAwB,IAAhBd,EAAQmE,KACrB,IAAIC,SAAQ,SAAAC,GAAW,SAAKP,uBAAL,OAGzB,YAAAQ,aAAP,SAAoB,G,IAAE,cAAqC,GAAE,GAA3B,KAAZC,OAAI,IAAG,GAAK,EAQhC,OAPAhB,KAAKM,WAAY,EAEZU,IAAQhB,KAAKpD,SAChBoD,KAAKiB,yBAGPjB,KAAKkB,gBAAkBlB,KAAK1C,aACrB0C,KAAKmB,QAAQC,KAAKpB,OAGpB,YAAA/C,QAAP,WACE+C,KAAKG,0BACLH,KAAKI,kBAAiB,UACfJ,KAAKnD,SAASO,QAGhB,YAAAE,WAAP,WACE,IAAMb,EAAU,YAAMa,WAAU,WAkBhC,OAhBI0C,KAAK9C,cACPT,EAAQwC,UAAY,yCACfxC,EAAQwC,WACRe,KAAK9C,YAAY+B,WAEtBxC,EAAQC,QAAO,yCACVD,EAAQC,SACRsD,KAAK9C,YAAYR,UAKpBsD,KAAKpD,gBACAH,EAAQc,KAGVd,GAGF,YAAA4E,aAAP,WACE,OAAOrB,KAAKtD,SAAWsD,KAAKtD,QAAQ4E,gBAU9B,YAAAb,iBAAR,WACE,IAAMrD,EAAS4C,KAAK7C,iBAEpB,OADA6C,KAAKO,yBACEnD,GAGD,YAAAoD,oBAAR,WACQ,MAAgBR,KAAK1C,aAAnBsD,EAAG,MAAErD,EAAI,OACXgE,GAAsB,IAARX,EACdY,EAAgBxB,KAAKC,gBAAgBtB,OAAO8C,sBAE5CC,EAAa,oBACjB/D,SAAS,EACTC,cAAe,IAAcD,QAC7BG,QAAQ,EACRN,UAAMC,EACNkE,OAAO,EACPhD,OAAQqB,KAAKrB,QACVqB,KAAK3C,yBAKV,GAAIkE,IAAgBvB,KAAKqB,gBAAkBG,GAEzC,OADAxB,KAAKnD,SAASO,OAASsE,EAChBA,EAGT,GAAI1B,KAAKqB,eAAgB,CACvB,IAAMjE,EAAS4C,KAAK7C,kBAAoBuE,EAIxC,OAHItE,EAAOO,UAAYJ,GACrByC,KAAKtD,QAAQ4E,eAAgBM,gBAAgB5B,MAAM,WAAM,eAEpD5C,IAIH,YAAAyE,8BAAR,WACE,IAAMpF,EAAUuD,KAAK1C,aACrB0C,KAAK8B,mBAAmBrF,EAAQyD,MAAO,IAAa6B,OACpD,IAAMC,EAAcvF,EAAQuF,aAAe,QAY3C,OAPEhC,KAAKqB,gBACoB,iBAAxB5E,EAAQ+B,aACiB,sBAAxB/B,EAAQ+B,cAEV/B,EAAQ+B,YAAc,eAGxB,yCACK/B,GAAO,CACVuF,YAAW,EACXtF,QAASD,EAAQC,WAIb,YAAAuF,0BAAR,WAUE,GANIjC,KAAKqB,iBACPrB,KAAKjC,kBAAoBiC,KAAKtD,QAAS4E,eAAgBY,iBACrDlC,KAAK1C,gBAIJ0C,KAAKjC,kBAAmB,CAC3B,IAAMoE,EAAyBnC,KAAK6B,gCAEpC7B,KAAKnD,SAASsF,uBAAsB,yCAC/BA,GAAsB,CACzBC,SAAU,OAEZpC,KAAKjC,kBAAoBiC,KAAKC,gBAAgBtB,OAAO0D,WAAU,sBAC1DF,IAGDnC,KAAKqB,gBACPrB,KAAKtD,QAAS4E,eAAgBgB,sBAC5BtC,KAAKjC,kBACLoE,KAMA,YAAA9B,sBAAR,WAEE,GAAKL,KAAKjC,mBAKV,IAAIiC,KAAK1C,aAAaC,KAAtB,CAEA,IAAMgF,EAA4B,OAAH,WAAG,CAAH,sBAC1BvC,KAAK6B,iCAA+B,CACvCO,SAAU,OAIT,YACCG,EACAvC,KAAKnD,SAASsF,0BAGhBnC,KAAKnD,SAASsF,uBAAyBI,EACvCvC,KAAKjC,kBACFa,WAAW2D,GAKXC,OAAM,sBAxBTxC,KAAKiC,6BAkCD,YAAA1B,uBAAR,SAA+B5D,GAA/B,gBAA+B,IAAAA,MAAwBqD,KAAKrD,WACtDqD,KAAKyC,qBAAuBzC,KAAK1C,aAAaC,OAElDyC,KAAKyC,oBAAsBzC,KAAKjC,kBAAmB2E,UAAU,CAC3DC,KAAM,SAAC,G,IAAEhF,EAAO,UAAEC,EAAa,gBAAEJ,EAAI,OAC7BqB,EAAiB,EAAKhC,SAASO,OAInCyB,GACAA,EAAelB,UAAYA,GAC3BkB,EAAejB,gBAAkBA,GACjC,YAAMiB,EAAerB,KAAMA,IAK7Bb,KAEFe,MAAO,YAEL,GADA,EAAKkF,sBACA,EAAMC,eAAe,iBAAkB,MAAM,EAElD,IAAMhE,EAAiB,EAAKhC,SAASO,QAElCyB,GAAkBA,EAAelB,UACjC,YAAM,EAAO,EAAKd,SAASa,UAE5B,EAAKb,SAASa,MAAQ,EACtBf,UAMA,YAAAiG,mBAAR,WACE5C,KAAKG,0BASG,IAAApC,EAAsBiC,KAAL,kBACzB,GAAIjC,EAAmB,CACrB,IAAM+E,EAAY/E,EAAkBgF,eAC9BC,EAAajF,EAAkBQ,gBACrCR,EAAkBkF,mBAClBjD,KAAKO,yBACLzD,OAAOwB,OAAOP,EAAmB,CAC/B+E,UAAS,EACTE,WAAU,MA+GR,YAAA/B,uBAAR,WACE,GAAKjB,KAAKjC,mBAAsBiC,KAAKnD,SAASO,OAA9C,CAEM,MAA2B4C,KAAKnD,SAASO,OAAvCI,EAAI,OAAEG,EAAO,UAAED,EAAK,QAE5B,IAAKC,EAAS,CACN,MAMFqC,KAAK1C,aALP4C,EAAK,QACLjB,EAAS,YACTiE,EAAW,cACXC,EAAO,UACP5F,EAAI,OAIN,GACEyC,KAAKkB,kBACJlB,KAAKnD,SAASc,SACf,YAAMqC,KAAKkB,gBAAgBhB,MAAOA,IAClC,YAAMF,KAAKkB,gBAAgBjC,UAAWA,GAEtC,QAGEiE,GAAgBxF,GAAUH,EAEnB4F,GAAWzF,GACpByF,EAAQzF,GAFRwF,EAAY1F,MAOV,YAAA2C,wBAAR,WACMH,KAAKyC,sBACPzC,KAAKyC,oBAAoBW,qBAClBpD,KAAKyC,sBAIR,YAAArC,iBAAR,SAAyBiD,GACnBrD,KAAKjC,oBACPiC,KAAKjC,kBAAL,gBACIsF,UACKrD,KAAKjC,oBAuCV,YAAAV,sBAAR,W,MACE,MAAO,CACL4B,UAAiC,QAAxB,EAAEe,KAAKjC,yBAAiB,eAAEkB,UACnCP,QAASsB,KAAKhB,WACdI,UAAWY,KAAKd,aAChBK,YAAaS,KAAKX,eAClBK,aAAcM,KAAKR,gBACnBI,YAAaI,KAAKL,eAClBG,gBAAiBE,KAAKH,qBAG5B,EAtfA,C,OAAkD,G,aCf5C,SAAUyD,EACdpD,EACAzD,EACAuE,QAAA,IAAAA,OAAA,GAEA,IAAMtE,EAAU,qBAAW,eACrB,EAAsB,sBAAW,SAAA6G,GAAK,OAAAA,EAAA,IAAO,GAA5CC,EAAI,KAAEC,EAAW,KAClBC,EAAiBjH,EAAS,yCAAMA,GAAO,CAAEyD,MAAK,IAAK,CAAEA,MAAK,GAE1DyD,EAAe,mBACfC,EAAYD,EAAaE,UAC7BF,EAAaE,QAAU,IAAI,EAA6B,CACtDpH,QAASiH,EACThH,QAAO,EACPC,UAAS,WACFiH,EAAUvC,eAWboC,IAJA5C,QAAQC,UAAUgD,MAAK,WAAM,OAAAH,EAAaE,SAAWJ,WAU7DG,EAAUhF,WAAW8E,GACrBE,EAAUlH,QAAUA,EAKpB,IAUMU,ECrDF,SACJ2G,EACAC,GAEA,IAAMC,EAAM,mBAMZ,OAJKA,EAAIJ,SAAY,YAAMG,EAAKC,EAAIJ,QAAQG,OAC1CC,EAAIJ,QAAU,CAAEG,IAAG,EAAEE,MAAOH,MAGvBE,EAAIJ,QAAQK,MD2CJC,EACb,WAAM,OAACnD,EAAO4C,EAAUlD,cAAgBkD,EAAlC,YAXK,CACXnH,QAAS,yCACJiH,GAAc,CACjBP,aAAS1F,EACTyF,iBAAazF,IAEff,QAAO,EACP8G,KAAI,IAQAY,EAAcpD,EACf5D,EAAyC,GACzCA,EAaL,OAXA,qBAAU,WACR,OAAO,WAAM,OAAAwG,EAAA,aACZ,IAEH,qBAAU,WAAM,OAAAA,EAAU7C,aAAa,CAAEC,KAAzB,MAAkC,CAChDoD,EAAYzG,QACZyG,EAAYxG,cACZwG,EAAY1G,MACZ0G,EAAY5G,OAGPJ,EE5EH,SAAUiH,EACdnE,EACAzD,GAEA,OAAO6G,EAAgCpD,EAAOzD,GAAS,K,iCCLzD,0GAEY6H,EAFZ,SAEA,SAAYA,GACV,qBACA,2BACA,mCAHF,CAAYA,MAAY,KAYxB,IAAMC,EAAQ,IAAIC,IAEZ,SAAUC,EAAcC,GAC5B,IAAIC,EACJ,OAAQD,GACN,KAAKJ,EAAavC,MAChB4C,EAAO,QACP,MACF,KAAKL,EAAaM,SAChBD,EAAO,WACP,MACF,KAAKL,EAAaO,aAChBF,EAAO,eAGX,OAAOA,EAIH,SAAUG,EAAOC,GACrB,IAGI9F,EAAWyF,EAHTM,EAAST,EAAMU,IAAIF,GACzB,GAAIC,EAAQ,OAAOA,EAKY,cAC7B,KAAuB,WAKzB,IAAME,EAAYH,EAASI,YAAYC,QACrC,SAAC7B,GAAsB,6BAAAA,EAAE8B,QAGrBC,EAAUP,EAASI,YAAYC,QACnC,SAAC7B,GACC,MAAW,wBAAXA,EAAE8B,MAAkD,UAAhB9B,EAAEgC,aAGpCC,EAAYT,EAASI,YAAYC,QACrC,SAAC7B,GACC,MAAW,wBAAXA,EAAE8B,MAAkD,aAAhB9B,EAAEgC,aAGpCE,EAAgBV,EAASI,YAAYC,QACzC,SAAC7B,GACC,MAAW,wBAAXA,EAAE8B,MAAkD,iBAAhB9B,EAAEgC,aAIvB,uBACdD,EAAQlH,QAAUoH,EAAUpH,QAAUqH,EAAcrH,OACvD,IAOmC,cAAa,SAAcA,OAAS,gBAMzE,EAAKkH,EAAQlH,OAAW,EAAU,MAAM,WAAE,EAAO,QAAa,WAExD,IAAc,c,IAClB,EAAS,SACP,EACF,EAAE,OACA,EAGF,EAEuB,YAAgB,iBAKzC,MAAY,EAAW,GAEvB,EAAIsH,EAAmB,qBAAoB,GAO3C,MAAU,MANR,EAAO,MAAsB,SAAX,EAAW,UAC9B,aAEA,OAG2B,KAAC,eAE9B,OADC,MAAO,EAAQ,GAChB,I,qBClHD,YAUA,IAGIC,EAAiB,4BAMjBC,EAAU,oBACVC,EAAS,6BAITC,EAAe,mDACfC,EAAgB,QAChBC,EAAe,MACfC,EAAa,mGASbC,EAAe,WAGfC,EAAe,8BAGfC,EAA8B,iBAAVC,GAAsBA,GAAUA,EAAOvJ,SAAWA,QAAUuJ,EAGhFC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKzJ,SAAWA,QAAUyJ,KAGxEC,EAAOJ,GAAcE,GAAYG,SAAS,cAATA,GAkCrC,IAAIC,EAAaC,MAAMC,UACnBC,EAAYJ,SAASG,UACrBE,EAAchK,OAAO8J,UAGrBG,EAAaP,EAAK,sBAGlBQ,EAAc,WAChB,IAAIC,EAAM,SAASC,KAAKH,GAAcA,EAAWtI,MAAQsI,EAAWtI,KAAK0I,UAAY,IACrF,OAAOF,EAAO,iBAAmBA,EAAO,GAFxB,GAMdG,EAAeP,EAAUQ,SAGzBxE,EAAiBiE,EAAYjE,eAO7ByE,EAAiBR,EAAYO,SAG7BE,EAAaC,OAAO,IACtBJ,EAAaK,KAAK5E,GAAgB6E,QA7EjB,sBA6EuC,QACvDA,QAAQ,yDAA0D,SAAW,KAI5EC,EAASnB,EAAKmB,OACdC,EAASlB,EAAWkB,OAGpBpD,EAAMqD,EAAUrB,EAAM,OACtBsB,EAAeD,EAAU/K,OAAQ,UAGjCiL,EAAcJ,EAASA,EAAOf,eAAYnJ,EAC1CuK,EAAiBD,EAAcA,EAAYV,cAAW5J,EAS1D,SAASwK,EAAKC,GACZ,IAAIC,GAAS,EACT/J,EAAS8J,EAAUA,EAAQ9J,OAAS,EAGxC,IADA4B,KAAKoI,UACID,EAAQ/J,GAAQ,CACvB,IAAIiK,EAAQH,EAAQC,GACpBnI,KAAKsI,IAAID,EAAM,GAAIA,EAAM,KA2F7B,SAASE,EAAUL,GACjB,IAAIC,GAAS,EACT/J,EAAS8J,EAAUA,EAAQ9J,OAAS,EAGxC,IADA4B,KAAKoI,UACID,EAAQ/J,GAAQ,CACvB,IAAIiK,EAAQH,EAAQC,GACpBnI,KAAKsI,IAAID,EAAM,GAAIA,EAAM,KAyG7B,SAASG,EAASN,GAChB,IAAIC,GAAS,EACT/J,EAAS8J,EAAUA,EAAQ9J,OAAS,EAGxC,IADA4B,KAAKoI,UACID,EAAQ/J,GAAQ,CACvB,IAAIiK,EAAQH,EAAQC,GACpBnI,KAAKsI,IAAID,EAAM,GAAIA,EAAM,KAwF7B,SAASI,EAAaC,EAAO1E,GAE3B,IADA,IA+SUE,EAAOyE,EA/SbvK,EAASsK,EAAMtK,OACZA,KACL,IA6SQ8F,EA7SDwE,EAAMtK,GAAQ,OA6SNuK,EA7SU3E,IA8SAE,IAAUA,GAASyE,IAAUA,EA7SpD,OAAOvK,EAGX,OAAQ,EAWV,SAASwK,EAAQC,EAAQC,GAMvB,IAiDF,IAAkB5E,EApDZiE,EAAQ,EACR/J,GAHJ0K,EA8FF,SAAe5E,EAAO2E,GACpB,GAAIE,EAAQ7E,GACV,OAAO,EAET,IAAIQ,SAAcR,EAClB,GAAY,UAARQ,GAA4B,UAARA,GAA4B,WAARA,GAC/B,MAATR,GAAiB8E,EAAS9E,GAC5B,OAAO,EAET,OAAO6B,EAAckD,KAAK/E,KAAW4B,EAAamD,KAAK/E,IAC1C,MAAV2E,GAAkB3E,KAASpH,OAAO+L,GAxG9BK,CAAMJ,EAAMD,GAAU,CAACC,GAuDvBC,EADS7E,EAtD+B4E,GAuDvB5E,EAAQiF,EAAajF,IApD3B9F,OAED,MAAVyK,GAAkBV,EAAQ/J,GAC/ByK,EAASA,EAAOO,EAAMN,EAAKX,OAE7B,OAAQA,GAASA,GAAS/J,EAAUyK,OAASpL,EAW/C,SAAS4L,EAAanF,GACpB,SAAKoF,EAASpF,KA4GEqF,EA5GiBrF,EA6GxB8C,GAAeA,KAAcuC,MA0MxC,SAAoBrF,GAGlB,IAAIsF,EAAMF,EAASpF,GAASoD,EAAeG,KAAKvD,GAAS,GACzD,OAAOsF,GAAO5D,GAAW4D,GAAO3D,EAxTjB4D,CAAWvF,IA3Z5B,SAAsBA,GAGpB,IAAI9G,GAAS,EACb,GAAa,MAAT8G,GAA0C,mBAAlBA,EAAMmD,SAChC,IACEjK,KAAY8G,EAAQ,IACpB,MAAOwF,IAEX,OAAOtM,EAkZ6BuM,CAAazF,GAAUqD,EAAapB,GACzD8C,KAsJjB,SAAkBM,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOnC,EAAaK,KAAK8B,GACzB,MAAOG,IACT,IACE,OAAQH,EAAO,GACf,MAAOG,KAEX,MAAO,GA/JaE,CAAS1F,IAwG/B,IAAkBqF,EA9DlB,SAASM,EAAWC,EAAK9F,GACvB,IAAIxG,EAAOsM,EAAIC,SACf,OA8CF,SAAmB7F,GACjB,IAAIQ,SAAcR,EAClB,MAAgB,UAARQ,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAVR,EACU,OAAVA,EAlDE8F,CAAUhG,GACbxG,EAAmB,iBAAPwG,EAAkB,SAAW,QACzCxG,EAAKsM,IAWX,SAASjC,EAAUgB,EAAQ7E,GACzB,IAAIE,EAjeN,SAAkB2E,EAAQ7E,GACxB,OAAiB,MAAV6E,OAAiBpL,EAAYoL,EAAO7E,GAge/BiG,CAASpB,EAAQ7E,GAC7B,OAAOqF,EAAanF,GAASA,OAAQzG,EAlUvCwK,EAAKrB,UAAUwB,MAnEf,WACEpI,KAAK+J,SAAWjC,EAAeA,EAAa,MAAQ,IAmEtDG,EAAKrB,UAAL,OAtDA,SAAoB5C,GAClB,OAAOhE,KAAKkK,IAAIlG,WAAehE,KAAK+J,SAAS/F,IAsD/CiE,EAAKrB,UAAU3B,IA1Cf,SAAiBjB,GACf,IAAIxG,EAAOwC,KAAK+J,SAChB,GAAIjC,EAAc,CAChB,IAAI1K,EAASI,EAAKwG,GAClB,OAAO5G,IAAWuI,OAAiBlI,EAAYL,EAEjD,OAAOyF,EAAe4E,KAAKjK,EAAMwG,GAAOxG,EAAKwG,QAAOvG,GAqCtDwK,EAAKrB,UAAUsD,IAzBf,SAAiBlG,GACf,IAAIxG,EAAOwC,KAAK+J,SAChB,OAAOjC,OAA6BrK,IAAdD,EAAKwG,GAAqBnB,EAAe4E,KAAKjK,EAAMwG,IAwB5EiE,EAAKrB,UAAU0B,IAXf,SAAiBtE,EAAKE,GAGpB,OAFWlE,KAAK+J,SACX/F,GAAQ8D,QAA0BrK,IAAVyG,EAAuByB,EAAiBzB,EAC9DlE,MAoHTuI,EAAU3B,UAAUwB,MAjFpB,WACEpI,KAAK+J,SAAW,IAiFlBxB,EAAU3B,UAAV,OArEA,SAAyB5C,GACvB,IAAIxG,EAAOwC,KAAK+J,SACZ5B,EAAQM,EAAajL,EAAMwG,GAE/B,QAAImE,EAAQ,KAIRA,GADY3K,EAAKY,OAAS,EAE5BZ,EAAK2M,MAELvC,EAAOH,KAAKjK,EAAM2K,EAAO,IAEpB,IAyDTI,EAAU3B,UAAU3B,IA7CpB,SAAsBjB,GACpB,IAAIxG,EAAOwC,KAAK+J,SACZ5B,EAAQM,EAAajL,EAAMwG,GAE/B,OAAOmE,EAAQ,OAAI1K,EAAYD,EAAK2K,GAAO,IA0C7CI,EAAU3B,UAAUsD,IA9BpB,SAAsBlG,GACpB,OAAOyE,EAAazI,KAAK+J,SAAU/F,IAAQ,GA8B7CuE,EAAU3B,UAAU0B,IAjBpB,SAAsBtE,EAAKE,GACzB,IAAI1G,EAAOwC,KAAK+J,SACZ5B,EAAQM,EAAajL,EAAMwG,GAO/B,OALImE,EAAQ,EACV3K,EAAK4M,KAAK,CAACpG,EAAKE,IAEhB1G,EAAK2K,GAAO,GAAKjE,EAEZlE,MAkGTwI,EAAS5B,UAAUwB,MA/DnB,WACEpI,KAAK+J,SAAW,CACd,KAAQ,IAAI9B,EACZ,IAAO,IAAKzD,GAAO+D,GACnB,OAAU,IAAIN,IA4DlBO,EAAS5B,UAAT,OA/CA,SAAwB5C,GACtB,OAAO6F,EAAW7J,KAAMgE,GAAjB,OAAgCA,IA+CzCwE,EAAS5B,UAAU3B,IAnCnB,SAAqBjB,GACnB,OAAO6F,EAAW7J,KAAMgE,GAAKiB,IAAIjB,IAmCnCwE,EAAS5B,UAAUsD,IAvBnB,SAAqBlG,GACnB,OAAO6F,EAAW7J,KAAMgE,GAAKkG,IAAIlG,IAuBnCwE,EAAS5B,UAAU0B,IAVnB,SAAqBtE,EAAKE,GAExB,OADA2F,EAAW7J,KAAMgE,GAAKsE,IAAItE,EAAKE,GACxBlE,MAgLT,IAAImJ,EAAekB,GAAQ,SAASC,GA4SpC,IAAkBpG,EA3ShBoG,EA4SgB,OADApG,EA3SEoG,GA4SK,GArZzB,SAAsBpG,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAI8E,EAAS9E,GACX,OAAO8D,EAAiBA,EAAeP,KAAKvD,GAAS,GAEvD,IAAI9G,EAAU8G,EAAQ,GACtB,MAAkB,KAAV9G,GAAkB,EAAI8G,IAAU,IAAa,KAAO9G,EA4YhCmN,CAAarG,GA1SzC,IAAI9G,EAAS,GAOb,OANI4I,EAAaiD,KAAKqB,IACpBlN,EAAOgN,KAAK,IAEdE,EAAO5C,QAAQzB,GAAY,SAASuE,EAAOC,EAAQC,EAAOJ,GACxDlN,EAAOgN,KAAKM,EAAQJ,EAAO5C,QAAQxB,EAAc,MAASuE,GAAUD,MAE/DpN,KAUT,SAASgM,EAAMlF,GACb,GAAoB,iBAATA,GAAqB8E,EAAS9E,GACvC,OAAOA,EAET,IAAI9G,EAAU8G,EAAQ,GACtB,MAAkB,KAAV9G,GAAkB,EAAI8G,IAAU,IAAa,KAAO9G,EAkE9D,SAASiN,EAAQd,EAAMoB,GACrB,GAAmB,mBAARpB,GAAuBoB,GAA+B,mBAAZA,EACnD,MAAM,IAAIC,UAvqBQ,uBAyqBpB,IAAIC,EAAW,SAAXA,IACF,IAAIC,EAAOC,UACP/G,EAAM2G,EAAWA,EAASK,MAAMhL,KAAM8K,GAAQA,EAAK,GACnDvG,EAAQsG,EAAStG,MAErB,GAAIA,EAAM2F,IAAIlG,GACZ,OAAOO,EAAMU,IAAIjB,GAEnB,IAAI5G,EAASmM,EAAKyB,MAAMhL,KAAM8K,GAE9B,OADAD,EAAStG,MAAQA,EAAM+D,IAAItE,EAAK5G,GACzBA,GAGT,OADAyN,EAAStG,MAAQ,IAAK8F,EAAQY,OAASzC,GAChCqC,EAITR,EAAQY,MAAQzC,EA6DhB,IAAIO,EAAUpC,MAAMoC,QAmDpB,SAASO,EAASpF,GAChB,IAAIQ,SAAcR,EAClB,QAASA,IAAkB,UAARQ,GAA4B,YAARA,GAgDzC,SAASsE,EAAS9E,GAChB,MAAuB,iBAATA,GAtBhB,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,EAsBtBgH,CAAahH,IAn1BF,mBAm1BYoD,EAAeG,KAAKvD,GA0DhDiH,EAAOC,QALP,SAAavC,EAAQC,EAAMuC,GACzB,IAAIjO,EAAmB,MAAVyL,OAAiBpL,EAAYmL,EAAQC,EAAQC,GAC1D,YAAkBrL,IAAXL,EAAuBiO,EAAejO,K,mDC/5B/C,sDAEe,SAASkO,IACtB,OAAOC,aAAiBC,O,iCCH1B,6CAKMA,EAAkCD,kBAMjC,SAASD,IACd,OAAOC,aAAiBC,GAEXA,O,qBCdf,cAUA,IAAIC,EAAmB,iBAMnBC,EAAS,eAETC,EAAa,mBACbC,EAAS,eACTC,EAAa,mBAEbC,EAAc,oBASd3F,EAAe,8BAGfC,EAA8B,iBAAVC,GAAsBA,GAAUA,EAAOvJ,SAAWA,QAAUuJ,EAGhFC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKzJ,SAAWA,QAAUyJ,KAGxEC,EAAOJ,GAAcE,GAAYG,SAAS,cAATA,GAGjCsF,EAA4CX,IAAYA,EAAQY,UAAYZ,EAG5Ea,EAAaF,GAAgC,iBAAVZ,GAAsBA,IAAWA,EAAOa,UAAYb,EAGvFe,EAAgBD,GAAcA,EAAWb,UAAYW,EAgDzD,IAPiBxC,EAAM4C,EAOnBtF,EAAYJ,SAASG,UACrBE,EAAchK,OAAO8J,UAGrBG,EAAaP,EAAK,sBAGlBQ,EAAc,WAChB,IAAIC,EAAM,SAASC,KAAKH,GAAcA,EAAWtI,MAAQsI,EAAWtI,KAAK0I,UAAY,IACrF,OAAOF,EAAO,iBAAmBA,EAAO,GAFxB,GAMdG,EAAeP,EAAUQ,SAGzBxE,EAAiBiE,EAAYjE,eAO7ByE,EAAiBR,EAAYO,SAG7BE,EAAaC,OAAO,IACtBJ,EAAaK,KAAK5E,GAAgB6E,QAhGjB,sBAgGuC,QACvDA,QAAQ,yDAA0D,SAAW,KAI5E0E,EAASF,EAAgB1F,EAAK4F,YAAS3O,EACvC4O,EAAuBvF,EAAYuF,qBAGnCC,EAAiBF,EAASA,EAAOG,cAAW9O,EAC5C+O,GA5CajD,EA4CQzM,OAAO2B,KA5CT0N,EA4CerP,OA3C7B,SAAS2P,GACd,OAAOlD,EAAK4C,EAAUM,MA6CtBC,EAAW7E,EAAUrB,EAAM,YAC3BhC,EAAMqD,EAAUrB,EAAM,OACtB3F,EAAUgH,EAAUrB,EAAM,WAC1BmG,EAAM9E,EAAUrB,EAAM,OACtBoG,EAAU/E,EAAUrB,EAAM,WAG1BqG,GAAkBR,EAAqB5E,KAAK,CAAE,QAAW,GAAK,WAG9DqF,EAAqBlD,EAAS8C,GAC9BK,EAAgBnD,EAASpF,GACzBwI,EAAoBpD,EAAS/I,GAC7BoM,EAAgBrD,EAAS+C,GACzBO,EAAoBtD,EAASgD,GAqBjC,SAASvD,EAAanF,GACpB,SAAKoF,EAASpF,IA6DhB,SAAkBqF,GAChB,QAASvC,GAAeA,KAAcuC,EA9Dd4D,CAASjJ,MAGlBuF,EAAWvF,IA1G5B,SAAsBA,GAGpB,IAAI9G,GAAS,EACb,GAAa,MAAT8G,GAA0C,mBAAlBA,EAAMmD,SAChC,IACEjK,KAAY8G,EAAQ,IACpB,MAAOwF,IAEX,OAAOtM,EAiG6BuM,CAAazF,GAAUqD,EAAapB,GACzD8C,KAAKW,EAAS1F,IAW/B,SAAS2D,EAAUgB,EAAQ7E,GACzB,IAAIE,EAlIN,SAAkB2E,EAAQ7E,GACxB,OAAiB,MAAV6E,OAAiBpL,EAAYoL,EAAO7E,GAiI/BiG,CAASpB,EAAQ7E,GAC7B,OAAOqF,EAAanF,GAASA,OAAQzG,EAUvC,IAAI2P,EAxCJ,SAAoBlJ,GAClB,OAAOoD,EAAeG,KAAKvD,IAkG7B,SAAS0F,EAASL,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOnC,EAAaK,KAAK8B,GACzB,MAAOG,IACT,IACE,OAAQH,EAAO,GACf,MAAOG,KAEX,MAAO,GAqBT,SAAS2D,EAAYnJ,GAEnB,OAmFF,SAA2BA,GACzB,OAyLF,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,EA1LlBgH,CAAahH,IAAUoJ,EAAYpJ,GApFnCqJ,CAAkBrJ,IAAUrB,EAAe4E,KAAKvD,EAAO,aAC1DmI,EAAqB5E,KAAKvD,EAAO,WAvRzB,sBAuRsCoD,EAAeG,KAAKvD,KAxFnEwI,GAAYU,EAAO,IAAIV,EAAS,IAAIc,YAAY,MAAQ1B,GACxDtH,GAAO4I,EAAO,IAAI5I,IAAQkH,GAC1B7K,GAAWuM,EAAOvM,EAAQC,YAAc6K,GACxCgB,GAAOS,EAAO,IAAIT,IAAQf,GAC1BgB,GAAWQ,EAAO,IAAIR,IAAYf,KACrCuB,EAAS,SAASlJ,GAChB,IAAI9G,EAASkK,EAAeG,KAAKvD,GAC7BuJ,EAlMQ,mBAkMDrQ,EAAsB8G,EAAMwJ,iBAAcjQ,EACjDkQ,EAAaF,EAAO7D,EAAS6D,QAAQhQ,EAEzC,GAAIkQ,EACF,OAAQA,GACN,KAAKb,EAAoB,OAAOhB,EAChC,KAAKiB,EAAe,OAAOrB,EAC3B,KAAKsB,EAAmB,OAAOrB,EAC/B,KAAKsB,EAAe,OAAOrB,EAC3B,KAAKsB,EAAmB,OAAOrB,EAGnC,OAAOzO,IA+FX,IAAI2L,EAAUpC,MAAMoC,QA2BpB,SAASuE,EAAYpJ,GACnB,OAAgB,MAATA,GA2JT,SAAkBA,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GAASuH,EA7JnBmC,CAAS1J,EAAM9F,UAAYqL,EAAWvF,GAiDhE,IAAIqI,EAAWD,GAsLf,WACE,OAAO,GA9GT,SAAS7C,EAAWvF,GAGlB,IAAIsF,EAAMF,EAASpF,GAASoD,EAAeG,KAAKvD,GAAS,GACzD,MA1cY,qBA0cLsF,GAzcI,8BAyccA,EA2D3B,SAASF,EAASpF,GAChB,IAAIQ,SAAcR,EAClB,QAASA,IAAkB,UAARQ,GAA4B,YAARA,GAgDzCyG,EAAOC,QAvJP,SAAiBlH,GACf,GAAIoJ,EAAYpJ,KACX6E,EAAQ7E,IAA0B,iBAATA,GACD,mBAAhBA,EAAM0D,QAAwB2E,EAASrI,IAAUmJ,EAAYnJ,IACxE,OAAQA,EAAM9F,OAEhB,IAAIoL,EAAM4D,EAAOlJ,GACjB,GAAIsF,GAAOkC,GAAUlC,GAAOoC,EAC1B,OAAQ1H,EAAM2J,KAEhB,GAAIhB,GAnMN,SAAqB3I,GACnB,IAAIuJ,EAAOvJ,GAASA,EAAMwJ,YAG1B,OAAOxJ,KAFqB,mBAARuJ,GAAsBA,EAAK7G,WAAcE,GAiMvCgH,CAAY5J,GAChC,OAAQsI,EAAWtI,GAAO9F,OAE5B,IAAK,IAAI4F,KAAOE,EACd,GAAIrB,EAAe4E,KAAKvD,EAAOF,GAC7B,OAAO,EAGX,OAAO,K,6DC/bT,+DAOA,aAUE,WAAYvH,EAAmCC,GATxC,KAAA4D,WAAqB,EACrB,KAAAY,gBAA2C,GAG3C,KAAAxE,QAAe,GAGd,KAAAD,QAAmC,GAGzCuD,KAAKvD,QAAUA,GAAY,GAC3BuD,KAAKtD,QAAUA,GAAW,GA2D9B,OAxDS,YAAAY,WAAP,WACE,OAAO0C,KAAKvD,SAGP,YAAAmC,WAAP,SACEmP,EACAC,QAAA,IAAAA,OAAA,GAEIA,IAAkB,YAAMhO,KAAKvD,QAASsR,KACxC/N,KAAKkB,gBAAkBlB,KAAKvD,SAE9BuD,KAAKvD,QAAUsR,GAOP,YAAA5M,QAAV,WACEnB,KAAKM,WAAY,GAGT,YAAAL,cAAV,WACE,IAAMtB,EACHqB,KAAKvD,SAAWuD,KAAKvD,QAAQkC,QAC7BqB,KAAKtD,SAAWsD,KAAKtD,QAAQiC,OAI9B,oBAKF,IAAIsP,GAAQ,EAMZ,OALItP,IAAWqB,KAAKrB,SAClBsP,GAAQ,EACRjO,KAAKrB,OAASA,EACdqB,KAAK/C,WAEA,CACL0B,OAAQqB,KAAKrB,OACbsP,MAAK,IAIC,YAAAnM,mBAAV,SAA6BiD,EAAwBL,GACnD,IAAMa,EAAY,YAAOR,GACK,YAAcL,GAClB,YAAca,EAAUb,MAGhD,YAAa,WAAqB,KAIxC,EAvEA","file":"static/js/0.dfd48b18.chunk.js","sourcesContent":["import { equal } from '@wry/equality';\n\nimport { ApolloError } from '../../errors';\n\nimport {\n  ApolloClient,\n  NetworkStatus,\n  FetchMoreQueryOptions,\n  SubscribeToMoreOptions,\n  ObservableQuery,\n  FetchMoreOptions,\n  UpdateQueryOptions,\n  DocumentNode,\n  TypedDocumentNode\n} from '../../core';\n\nimport {\n  ObservableSubscription\n} from '../../utilities';\n\nimport { DocumentType } from '../parser';\nimport {\n  QueryResult,\n  QueryDataOptions,\n  QueryTuple,\n  QueryLazyOptions,\n  ObservableQueryFields,\n} from '../types/types';\nimport { OperationData } from './OperationData';\n\nexport class QueryData<TData, TVariables> extends OperationData<\n  QueryDataOptions<TData, TVariables>\n> {\n  public onNewData: () => void;\n  private currentObservable?: ObservableQuery<TData, TVariables>;\n  private currentSubscription?: ObservableSubscription;\n  private runLazy: boolean = false;\n  private lazyOptions?: QueryLazyOptions<TVariables>;\n  private previous: {\n    client?: ApolloClient<object>;\n    query?: DocumentNode | TypedDocumentNode<TData, TVariables>;\n    observableQueryOptions?: {};\n    result?: QueryResult<TData, TVariables>;\n    loading?: boolean;\n    options?: QueryDataOptions<TData, TVariables>;\n    error?: ApolloError;\n  } = Object.create(null);\n\n  constructor({\n    options,\n    context,\n    onNewData\n  }: {\n    options: QueryDataOptions<TData, TVariables>;\n    context: any;\n    onNewData: () => void;\n  }) {\n    super(options, context);\n    this.onNewData = onNewData;\n  }\n\n  public execute(): QueryResult<TData, TVariables> {\n    this.refreshClient();\n\n    const { skip, query } = this.getOptions();\n    if (skip || query !== this.previous.query) {\n      this.removeQuerySubscription();\n      this.removeObservable(!skip);\n      this.previous.query = query;\n    }\n\n    this.updateObservableQuery();\n\n    if (this.isMounted) this.startQuerySubscription();\n\n    return this.getExecuteSsrResult() || this.getExecuteResult();\n  }\n\n  public executeLazy(): QueryTuple<TData, TVariables> {\n    return !this.runLazy\n      ? [\n          this.runLazyQuery,\n          {\n            loading: false,\n            networkStatus: NetworkStatus.ready,\n            called: false,\n            data: undefined\n          }\n        ]\n      : [this.runLazyQuery, this.execute()];\n  }\n\n  // For server-side rendering\n  public fetchData(): Promise<void> | boolean {\n    const options = this.getOptions();\n    if (options.skip || options.ssr === false) return false;\n    return new Promise(resolve => this.startQuerySubscription(resolve));\n  }\n\n  public afterExecute({ lazy = false }: { lazy?: boolean } = {}) {\n    this.isMounted = true;\n\n    if (!lazy || this.runLazy) {\n      this.handleErrorOrCompleted();\n    }\n\n    this.previousOptions = this.getOptions();\n    return this.unmount.bind(this);\n  }\n\n  public cleanup() {\n    this.removeQuerySubscription();\n    this.removeObservable(true);\n    delete this.previous.result;\n  }\n\n  public getOptions() {\n    const options = super.getOptions();\n\n    if (this.lazyOptions) {\n      options.variables = {\n        ...options.variables,\n        ...this.lazyOptions.variables\n      } as TVariables;\n      options.context = {\n        ...options.context,\n        ...this.lazyOptions.context\n      };\n    }\n\n    // skip is not supported when using lazy query execution.\n    if (this.runLazy) {\n      delete options.skip;\n    }\n\n    return options;\n  }\n\n  public ssrInitiated() {\n    return this.context && this.context.renderPromises;\n  }\n\n  private runLazyQuery = (options?: QueryLazyOptions<TVariables>) => {\n    this.cleanup();\n    this.runLazy = true;\n    this.lazyOptions = options;\n    this.onNewData();\n  };\n\n  private getExecuteResult(): QueryResult<TData, TVariables> {\n    const result = this.getQueryResult();\n    this.startQuerySubscription();\n    return result;\n  };\n\n  private getExecuteSsrResult() {\n    const { ssr, skip } = this.getOptions();\n    const ssrDisabled = ssr === false;\n    const fetchDisabled = this.refreshClient().client.disableNetworkFetches;\n\n    const ssrLoading = {\n      loading: true,\n      networkStatus: NetworkStatus.loading,\n      called: true,\n      data: undefined,\n      stale: false,\n      client: this.client,\n      ...this.observableQueryFields(),\n    } as QueryResult<TData, TVariables>;\n\n    // If SSR has been explicitly disabled, and this function has been called\n    // on the server side, return the default loading state.\n    if (ssrDisabled && (this.ssrInitiated() || fetchDisabled)) {\n      this.previous.result = ssrLoading;\n      return ssrLoading;\n    }\n\n    if (this.ssrInitiated()) {\n      const result = this.getQueryResult() || ssrLoading;\n      if (result.loading && !skip) {\n        this.context.renderPromises!.addQueryPromise(this, () => null);\n      }\n      return result;\n    }\n  }\n\n  private prepareObservableQueryOptions() {\n    const options = this.getOptions();\n    this.verifyDocumentType(options.query, DocumentType.Query);\n    const displayName = options.displayName || 'Query';\n\n    // Set the fetchPolicy to cache-first for network-only and cache-and-network\n    // fetches for server side renders.\n    if (\n      this.ssrInitiated() &&\n      (options.fetchPolicy === 'network-only' ||\n        options.fetchPolicy === 'cache-and-network')\n    ) {\n      options.fetchPolicy = 'cache-first';\n    }\n\n    return {\n      ...options,\n      displayName,\n      context: options.context,\n    };\n  }\n\n  private initializeObservableQuery() {\n    // See if there is an existing observable that was used to fetch the same\n    // data and if so, use it instead since it will contain the proper queryId\n    // to fetch the result set. This is used during SSR.\n    if (this.ssrInitiated()) {\n      this.currentObservable = this.context!.renderPromises!.getSSRObservable(\n        this.getOptions()\n      );\n    }\n\n    if (!this.currentObservable) {\n      const observableQueryOptions = this.prepareObservableQueryOptions();\n\n      this.previous.observableQueryOptions = {\n        ...observableQueryOptions,\n        children: null\n      };\n      this.currentObservable = this.refreshClient().client.watchQuery({\n        ...observableQueryOptions\n      });\n\n      if (this.ssrInitiated()) {\n        this.context!.renderPromises!.registerSSRObservable(\n          this.currentObservable,\n          observableQueryOptions\n        );\n      }\n    }\n  }\n\n  private updateObservableQuery() {\n    // If we skipped initially, we may not have yet created the observable\n    if (!this.currentObservable) {\n      this.initializeObservableQuery();\n      return;\n    }\n\n    if (this.getOptions().skip) return;\n\n    const newObservableQueryOptions = {\n      ...this.prepareObservableQueryOptions(),\n      children: null\n    };\n\n    if (\n      !equal(\n        newObservableQueryOptions,\n        this.previous.observableQueryOptions\n      )\n    ) {\n      this.previous.observableQueryOptions = newObservableQueryOptions;\n      this.currentObservable\n        .setOptions(newObservableQueryOptions)\n        // The error will be passed to the child container, so we don't\n        // need to log it here. We could conceivably log something if\n        // an option was set. OTOH we don't log errors w/ the original\n        // query. See https://github.com/apollostack/react-apollo/issues/404\n        .catch(() => {});\n    }\n  }\n\n  // Setup a subscription to watch for Apollo Client `ObservableQuery` changes.\n  // When new data is received, and it doesn't match the data that was used\n  // during the last `QueryData.execute` call (and ultimately the last query\n  // component render), trigger the `onNewData` callback. If not specified,\n  // `onNewData` will fallback to the default `QueryData.onNewData` function\n  // (which usually leads to a query component re-render).\n  private startQuerySubscription(onNewData: () => void = this.onNewData) {\n    if (this.currentSubscription || this.getOptions().skip) return;\n\n    this.currentSubscription = this.currentObservable!.subscribe({\n      next: ({ loading, networkStatus, data }) => {\n        const previousResult = this.previous.result;\n\n        // Make sure we're not attempting to re-render similar results\n        if (\n          previousResult &&\n          previousResult.loading === loading &&\n          previousResult.networkStatus === networkStatus &&\n          equal(previousResult.data, data)\n        ) {\n          return;\n        }\n\n        onNewData();\n      },\n      error: error => {\n        this.resubscribeToQuery();\n        if (!error.hasOwnProperty('graphQLErrors')) throw error;\n\n        const previousResult = this.previous.result;\n        if (\n          (previousResult && previousResult.loading) ||\n          !equal(error, this.previous.error)\n        ) {\n          this.previous.error = error;\n          onNewData();\n        }\n      }\n    });\n  }\n\n  private resubscribeToQuery() {\n    this.removeQuerySubscription();\n\n    // Unfortunately, if `lastError` is set in the current\n    // `observableQuery` when the subscription is re-created,\n    // the subscription will immediately receive the error, which will\n    // cause it to terminate again. To avoid this, we first clear\n    // the last error/result from the `observableQuery` before re-starting\n    // the subscription, and restore it afterwards (so the subscription\n    // has a chance to stay open).\n    const { currentObservable } = this;\n    if (currentObservable) {\n      const lastError = currentObservable.getLastError();\n      const lastResult = currentObservable.getLastResult();\n      currentObservable.resetLastResults();\n      this.startQuerySubscription();\n      Object.assign(currentObservable, {\n        lastError,\n        lastResult\n      });\n    }\n  }\n\n  private getQueryResult = (): QueryResult<TData, TVariables> => {\n    let result = this.observableQueryFields() as QueryResult<TData, TVariables>;\n    const options = this.getOptions();\n\n    // When skipping a query (ie. we're not querying for data but still want\n    // to render children), make sure the `data` is cleared out and\n    // `loading` is set to `false` (since we aren't loading anything).\n    //\n    // NOTE: We no longer think this is the correct behavior. Skipping should\n    // not automatically set `data` to `undefined`, but instead leave the\n    // previous data in place. In other words, skipping should not mandate\n    // that previously received data is all of a sudden removed. Unfortunately,\n    // changing this is breaking, so we'll have to wait until Apollo Client\n    // 4.0 to address this.\n    if (options.skip) {\n      result = {\n        ...result,\n        data: undefined,\n        error: undefined,\n        loading: false,\n        networkStatus: NetworkStatus.ready,\n        called: true,\n      };\n    } else if (this.currentObservable) {\n      // Fetch the current result (if any) from the store.\n      const currentResult = this.currentObservable.getCurrentResult();\n      const { data, loading, partial, networkStatus, errors } = currentResult;\n      let { error } = currentResult;\n\n      // Until a set naming convention for networkError and graphQLErrors is\n      // decided upon, we map errors (graphQLErrors) to the error options.\n      if (errors && errors.length > 0) {\n        error = new ApolloError({ graphQLErrors: errors });\n      }\n\n      result = {\n        ...result,\n        data,\n        loading,\n        networkStatus,\n        error,\n        called: true\n      };\n\n      if (loading) {\n        // Fall through without modifying result...\n      } else if (error) {\n        Object.assign(result, {\n          data: (this.currentObservable.getLastResult() || ({} as any))\n            .data\n        });\n      } else {\n        const { fetchPolicy } = this.currentObservable.options;\n        const { partialRefetch } = options;\n        if (\n          partialRefetch &&\n          partial &&\n          (!data || Object.keys(data).length === 0) &&\n          fetchPolicy !== 'cache-only'\n        ) {\n          // When a `Query` component is mounted, and a mutation is executed\n          // that returns the same ID as the mounted `Query`, but has less\n          // fields in its result, Apollo Client's `QueryManager` returns the\n          // data as `undefined` since a hit can't be found in the cache.\n          // This can lead to application errors when the UI elements rendered by\n          // the original `Query` component are expecting certain data values to\n          // exist, and they're all of a sudden stripped away. To help avoid\n          // this we'll attempt to refetch the `Query` data.\n          Object.assign(result, {\n            loading: true,\n            networkStatus: NetworkStatus.loading\n          });\n          result.refetch();\n          return result;\n        }\n      }\n    }\n\n    result.client = this.client;\n    // Store options as this.previousOptions.\n    this.setOptions(options, true);\n\n    const previousResult = this.previous.result;\n\n    this.previous.loading =\n      previousResult && previousResult.loading || false;\n\n    // Ensure the returned result contains previousData as a separate\n    // property, to give developers the flexibility of leveraging outdated\n    // data while new data is loading from the network. Falling back to\n    // previousResult.previousData when previousResult.data is falsy here\n    // allows result.previousData to persist across multiple results.\n    result.previousData = previousResult &&\n      (previousResult.data || previousResult.previousData);\n\n    this.previous.result = result;\n\n    // Any query errors that exist are now available in `result`, so we'll\n    // remove the original errors from the `ObservableQuery` query store to\n    // make sure they aren't re-displayed on subsequent (potentially error\n    // free) requests/responses.\n    this.currentObservable && this.currentObservable.resetQueryStoreErrors();\n\n    return result;\n  }\n\n  private handleErrorOrCompleted() {\n    if (!this.currentObservable || !this.previous.result) return;\n\n    const { data, loading, error } = this.previous.result;\n\n    if (!loading) {\n      const {\n        query,\n        variables,\n        onCompleted,\n        onError,\n        skip\n      } = this.getOptions();\n\n      // No changes, so we won't call onError/onCompleted.\n      if (\n        this.previousOptions &&\n        !this.previous.loading &&\n        equal(this.previousOptions.query, query) &&\n        equal(this.previousOptions.variables, variables)\n      ) {\n        return;\n      }\n\n      if (onCompleted && !error && !skip) {\n        onCompleted(data as TData);\n      } else if (onError && error) {\n        onError(error);\n      }\n    }\n  }\n\n  private removeQuerySubscription() {\n    if (this.currentSubscription) {\n      this.currentSubscription.unsubscribe();\n      delete this.currentSubscription;\n    }\n  }\n\n  private removeObservable(andDelete: boolean) {\n    if (this.currentObservable) {\n      this.currentObservable[\"tearDownQuery\"]();\n      if (andDelete) {\n        delete this.currentObservable;\n      }\n    }\n  }\n\n  private obsRefetch = (variables?: Partial<TVariables>) =>\n    this.currentObservable?.refetch(variables);\n\n  private obsFetchMore = <K extends keyof TVariables>(\n    fetchMoreOptions: FetchMoreQueryOptions<TVariables, K, TData> &\n      FetchMoreOptions<TData, TVariables>\n  ) => this.currentObservable!.fetchMore(fetchMoreOptions);\n\n  private obsUpdateQuery = <TVars = TVariables>(\n    mapFn: (\n      previousQueryResult: TData,\n      options: UpdateQueryOptions<TVars>\n    ) => TData\n  ) => this.currentObservable!.updateQuery(mapFn);\n\n  private obsStartPolling = (pollInterval: number) => {\n    this.currentObservable?.startPolling(pollInterval);\n  };\n\n  private obsStopPolling = () => {\n    this.currentObservable?.stopPolling();\n  };\n\n  private obsSubscribeToMore = <\n    TSubscriptionData = TData,\n    TSubscriptionVariables = TVariables\n  >(\n    options: SubscribeToMoreOptions<\n      TData,\n      TSubscriptionVariables,\n      TSubscriptionData\n    >\n  ) => this.currentObservable!.subscribeToMore(options);\n\n  private observableQueryFields() {\n    return {\n      variables: this.currentObservable?.variables,\n      refetch: this.obsRefetch,\n      fetchMore: this.obsFetchMore,\n      updateQuery: this.obsUpdateQuery,\n      startPolling: this.obsStartPolling,\n      stopPolling: this.obsStopPolling,\n      subscribeToMore: this.obsSubscribeToMore\n    } as ObservableQueryFields<TData, TVariables>;\n  }\n}\n","import { useContext, useEffect, useReducer, useRef } from 'react';\nimport { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\n\nimport {\n  QueryHookOptions,\n  QueryDataOptions,\n  QueryTuple,\n  QueryResult,\n} from '../../types/types';\nimport { QueryData } from '../../data';\nimport { useDeepMemo } from './useDeepMemo';\nimport { OperationVariables } from '../../../core';\nimport { getApolloContext } from '../../context';\n\nexport function useBaseQuery<TData = any, TVariables = OperationVariables>(\n  query: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: QueryHookOptions<TData, TVariables>,\n  lazy = false\n) {\n  const context = useContext(getApolloContext());\n  const [tick, forceUpdate] = useReducer(x => x + 1, 0);\n  const updatedOptions = options ? { ...options, query } : { query };\n\n  const queryDataRef = useRef<QueryData<TData, TVariables>>();\n  const queryData = queryDataRef.current || (\n    queryDataRef.current = new QueryData<TData, TVariables>({\n      options: updatedOptions as QueryDataOptions<TData, TVariables>,\n      context,\n      onNewData() {\n        if (!queryData.ssrInitiated()) {\n          // When new data is received from the `QueryData` object, we want to\n          // force a re-render to make sure the new data is displayed. We can't\n          // force that re-render if we're already rendering however so to be\n          // safe we'll trigger the re-render in a microtask. In case the\n          // component gets unmounted before this callback fires, we re-check\n          // queryDataRef.current before calling forceUpdate().\n          Promise.resolve().then(() => queryDataRef.current && forceUpdate());\n        } else {\n          // If we're rendering on the server side we can force an update at\n          // any point.\n          forceUpdate();\n        }\n      }\n    })\n  );\n\n  queryData.setOptions(updatedOptions);\n  queryData.context = context;\n\n  // `onError` and `onCompleted` callback functions will not always have a\n  // stable identity, so we'll exclude them from the memoization key to\n  // prevent `afterExecute` from being triggered un-necessarily.\n  const memo = {\n    options: {\n      ...updatedOptions,\n      onError: undefined,\n      onCompleted: undefined\n    } as QueryHookOptions<TData, TVariables>,\n    context,\n    tick\n  };\n\n  const result = useDeepMemo(\n    () => (lazy ? queryData.executeLazy() : queryData.execute()),\n    memo\n  );\n\n  const queryResult = lazy\n    ? (result as QueryTuple<TData, TVariables>)[1]\n    : (result as QueryResult<TData, TVariables>);\n\n  useEffect(() => {\n    return () => queryData.cleanup();\n  }, []);\n\n  useEffect(() => queryData.afterExecute({ lazy }), [\n    queryResult.loading,\n    queryResult.networkStatus,\n    queryResult.error,\n    queryResult.data,\n  ]);\n\n  return result;\n}\n","import { useRef } from 'react';\nimport { equal } from '@wry/equality';\n\n/**\n * Memoize a result using deep equality. This hook has two advantages over\n * React.useMemo: it uses deep equality to compare memo keys, and it guarantees\n * that the memo function will only be called if the keys are unequal.\n * React.useMemo cannot be relied on to do this, since it is only a performance\n * optimization (see https://reactjs.org/docs/hooks-reference.html#usememo).\n */\nexport function useDeepMemo<TKey, TValue>(\n  memoFn: () => TValue,\n  key: TKey\n): TValue {\n  const ref = useRef<{ key: TKey; value: TValue }>();\n\n  if (!ref.current || !equal(key, ref.current.key)) {\n    ref.current = { key, value: memoFn() };\n  }\n\n  return ref.current.value;\n}\n","import { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\n\nimport { QueryHookOptions, QueryResult } from '../types/types';\nimport { useBaseQuery } from './utils/useBaseQuery';\nimport { OperationVariables } from '../../core';\n\nexport function useQuery<TData = any, TVariables = OperationVariables>(\n  query: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: QueryHookOptions<TData, TVariables>\n) {\n  return useBaseQuery<TData, TVariables>(query, options, false) as QueryResult<\n    TData,\n    TVariables\n  >;\n}\n","import {\n  DocumentNode,\n  DefinitionNode,\n  VariableDefinitionNode,\n  OperationDefinitionNode\n} from 'graphql';\nimport { invariant } from 'ts-invariant';\n\nexport enum DocumentType {\n  Query,\n  Mutation,\n  Subscription\n}\n\nexport interface IDocumentDefinition {\n  type: DocumentType;\n  name: string;\n  variables: ReadonlyArray<VariableDefinitionNode>;\n}\n\nconst cache = new Map();\n\nexport function operationName(type: DocumentType) {\n  let name;\n  switch (type) {\n    case DocumentType.Query:\n      name = 'Query';\n      break;\n    case DocumentType.Mutation:\n      name = 'Mutation';\n      break;\n    case DocumentType.Subscription:\n      name = 'Subscription';\n      break;\n  }\n  return name;\n}\n\n// This parser is mostly used to saftey check incoming documents.\nexport function parser(document: DocumentNode): IDocumentDefinition {\n  const cached = cache.get(document);\n  if (cached) return cached;\n\n  let variables, type, name;\n\n  invariant(\n    !!document && !!document.kind,\n    `Argument of ${document} passed to parser was not a valid GraphQL ` +\n      `DocumentNode. You may need to use 'graphql-tag' or another method ` +\n      `to convert your operation into a document`\n  );\n\n  const fragments = document.definitions.filter(\n    (x: DefinitionNode) => x.kind === 'FragmentDefinition'\n  );\n\n  const queries = document.definitions.filter(\n    (x: DefinitionNode) =>\n      x.kind === 'OperationDefinition' && x.operation === 'query'\n  );\n\n  const mutations = document.definitions.filter(\n    (x: DefinitionNode) =>\n      x.kind === 'OperationDefinition' && x.operation === 'mutation'\n  );\n\n  const subscriptions = document.definitions.filter(\n    (x: DefinitionNode) =>\n      x.kind === 'OperationDefinition' && x.operation === 'subscription'\n  );\n\n  invariant(\n    !fragments.length ||\n      (queries.length || mutations.length || subscriptions.length),\n    `Passing only a fragment to 'graphql' is not yet supported. ` +\n      `You must include a query, subscription or mutation as well`\n  );\n\n  invariant(\n    queries.length + mutations.length + subscriptions.length <= 1,\n    `react-apollo only supports a query, subscription, or a mutation per HOC. ` +\n      `${document} had ${queries.length} queries, ${subscriptions.length} ` +\n      `subscriptions and ${mutations.length} mutations. ` +\n      `You can use 'compose' to join multiple operation types to a component`\n  );\n\n  type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n  if (!queries.length && !mutations.length) type = DocumentType.Subscription;\n\n  const definitions = queries.length\n    ? queries\n    : mutations.length\n    ? mutations\n    : subscriptions;\n\n  invariant(\n    definitions.length === 1,\n    `react-apollo only supports one definition per HOC. ${document} had ` +\n      `${definitions.length} definitions. ` +\n      `You can use 'compose' to join multiple operation types to a component`\n  );\n\n  const definition = definitions[0] as OperationDefinitionNode;\n  variables = definition.variableDefinitions || [];\n\n  if (definition.name && definition.name.kind === 'Name') {\n    name = definition.name.value;\n  } else {\n    name = 'data'; // fallback to using data if no name\n  }\n\n  const payload = { name, type, variables };\n  cache.set(document, payload);\n  return payload;\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","import * as React from 'react';\nimport FormControlContext from './FormControlContext';\nexport default function useFormControl() {\n  return React.useContext(FormControlContext);\n}","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\n\nconst FormControlContext = /*#__PURE__*/React.createContext();\n\nif (process.env.NODE_ENV !== 'production') {\n  FormControlContext.displayName = 'FormControlContext';\n}\n\nexport function useFormControl() {\n  return React.useContext(FormControlContext);\n}\nexport default FormControlContext;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap');\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' ||\n        typeof value.splice == 'function' || isBuffer(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (nonEnumShadows || isPrototype(value)) {\n    return !nativeKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEmpty;\n","import { DocumentNode } from 'graphql';\nimport { equal } from '@wry/equality';\nimport { invariant } from 'ts-invariant';\n\nimport { ApolloClient } from '../../core';\nimport { DocumentType, parser, operationName } from '../parser';\nimport { CommonOptions } from '../types/types';\n\nexport abstract class OperationData<TOptions = any> {\n  public isMounted: boolean = false;\n  public previousOptions: CommonOptions<TOptions> = {} as CommonOptions<\n    TOptions\n  >;\n  public context: any = {};\n  public client: ApolloClient<object>;\n\n  private options: CommonOptions<TOptions> = {} as CommonOptions<TOptions>;\n\n  constructor(options?: CommonOptions<TOptions>, context?: any) {\n    this.options = options || ({} as CommonOptions<TOptions>);\n    this.context = context || {};\n  }\n\n  public getOptions(): CommonOptions<TOptions> {\n    return this.options;\n  }\n\n  public setOptions(\n    newOptions: CommonOptions<TOptions>,\n    storePrevious: boolean = false\n  ) {\n    if (storePrevious && !equal(this.options, newOptions)) {\n      this.previousOptions = this.options;\n    }\n    this.options = newOptions;\n  }\n\n  public abstract execute(...args: any): any;\n  public abstract afterExecute(...args: any): void | (() => void);\n  public abstract cleanup(): void;\n\n  protected unmount() {\n    this.isMounted = false;\n  }\n\n  protected refreshClient() {\n    const client =\n      (this.options && this.options.client) ||\n      (this.context && this.context.client);\n\n    invariant(\n      !!client,\n      'Could not find \"client\" in the context or passed in as an option. ' +\n        'Wrap the root component in an <ApolloProvider>, or pass an ' +\n        'ApolloClient instance in via options.'\n    );\n\n    let isNew = false;\n    if (client !== this.client) {\n      isNew = true;\n      this.client = client;\n      this.cleanup();\n    }\n    return {\n      client: this.client as ApolloClient<object>,\n      isNew\n    };\n  }\n\n  protected verifyDocumentType(document: DocumentNode, type: DocumentType) {\n    const operation = parser(document);\n    const requiredOperationName = operationName(type);\n    const usedOperationName = operationName(operation.type);\n    invariant(\n      operation.type === type,\n      `Running a ${requiredOperationName} requires a graphql ` +\n        `${requiredOperationName}, but a ${usedOperationName} was used instead.`\n    );\n  }\n}\n"],"sourceRoot":""}