(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[31],{1186:function(e,t,n){"use strict";n.r(t);var a=n(328),r=n(54),i=n.n(r),c=n(99),o=n(22),l=n(8),s=n(1012),d=n(848),j=n(159),b=n(846),u=n(621),m=n(62),p=n(736),O=n(1199),h=n(1200),x=n(1201),g=n(1196),f=n(1197),v=n(1e3),y=n(755),k=n(895),C=n(75),F=n.n(C),S=n(20),N=n.n(S),w=n(58),I=n(61),T=n(830),A=n.n(T),D=(n(0),n(39)),B=n(165),R=n(230),L=n(1195),P=n(953),M=n(15),z=[{id:"Title",numeric:!1,label:"Title",align:"left",disablePadding:!1},{id:"Category",numeric:!1,label:"Category",align:"left",disablePadding:!1},{id:"FormType",numeric:!1,label:"Form Type",align:"left"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"},{id:"UpdatedAt",numeric:!1,label:"Updated Date",align:"left"}],W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=N()(t,"id"),a=N()(t,"Name",n);return Object(l.a)(Object(l.a)({},e),{},Object(M.a)({},n,a))}),{})},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=N()(t,"id"),a=N()(t,"Title",n);return Object(l.a)(Object(l.a)({},e),{},Object(M.a)({},n,{categoryName:a,formTypes:W(N()(t,"FormTypes",[]))}))}),{})},U=n(197),E=n(2),J=Object(u.a)((function(){return{sortSpan:Object(l.a)({},k.a)}})),Y=function(e){var t=J(),n=e.onSelectAllClick,a=e.order,r=e.orderBy,i=e.numSelected,c=e.rowCount,o=e.onRequestSort,l=void 0===o?function(){}:o,s=function(e){return r&&r.id===e.id};return Object(E.jsx)(L.a,{children:Object(E.jsxs)(g.a,{children:[Object(E.jsx)(f.a,{padding:"checkbox",sx:{pl:3},children:Object(E.jsx)(v.a,{color:"primary",indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),z.map((function(e){return Object(E.jsx)(f.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:s(e)?a:void 0,children:Object(E.jsxs)(P.a,{active:s(e),direction:s(e)?a:U.a.ASC,onClick:function(){return l(e)},children:[e.label,s(e)?Object(E.jsx)("span",{className:t.sortSpan,children:a===U.a.DESC?"sorted descending":"sorted ascending"}):null]})},e.id)})),Object(E.jsx)(f.a,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})},_=n(798),G=n(339),H=n(337),K=n(107),Q=n(30),V=n(18),X=n(751),Z=n(742),$=n(631),ee=n(1003),te=n(885),ne=n(897),ae=n.n(ne),re=n(896),ie=n.n(re),ce=Object(u.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},highlight:{backgroundColor:Object(Q.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),oe=function(e){var t=ce(),n=e.numSelected,a=e.onDelete,r=e.onCreate;return Object(E.jsx)(X.a,{className:Object(V.a)(t.root,Object(M.a)({},t.highlight,n>0)),children:Object(E.jsxs)(Z.a,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[Object(E.jsx)(Z.a,{item:!0,xs:12,sm:6,children:n>0&&Object(E.jsxs)($.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]})}),Object(E.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(E.jsx)(Z.a,{container:!0,justifyContent:"flex-end",alignItems:"center",children:n>0?Object(E.jsx)(ee.a,{title:"Delete",children:Object(E.jsx)(y.a,{onClick:a,children:Object(E.jsx)(ie.a,{})})}):Object(E.jsx)(ee.a,{title:"Create",children:Object(E.jsx)(te.a,{color:"primary","aria-label":"add",sx:{boxShadow:"none",ml:1,width:"48px",height:"48px"},onClick:r,children:Object(E.jsx)(ae.a,{})})})})})]})})},le=n(29),se=Object(u.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},sortSpan:Object(l.a)({},k.a)}})),de=function(){var e=Object(d.a)(Object(j.d)(R.a.listForms),{variables:{limit:D.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),t=e.loading,n=e.error,a=e.data,r=e.fetchMore,u=Object(d.a)(Object(j.d)(R.a.listFormCategories)).data,k=Object(b.a)(Object(j.d)(G.deleteForm),{}),C=Object(o.a)(k,2),S=C[0],T=C[1],L=T.loading,P=T.error,M=N()(a,["listForms","items"],[]),W=N()(a,"listForms.nextToken",void 0),J=Object(m.a)(),Q=se(),V=Object(U.c)("CreatedAt",z),X=Object(K.b)(V),Z=X.order,$=X.orderBy,ee=X.handleRequestSort,te=Object(K.d)("FormId"),ne=te.selected,ae=te.isSelected,re=te.handleSelect,ie=te.handleSelectAll,ce=te.clearSelected,de=Object(w.h)();if((t||L)&&!a)return Object(E.jsx)(B.a,{});if(n||F()(a)||P)return Object(E.jsx)(p.a,{severity:"error",sx:{color:J.palette.error.main},children:"Something went wrong!"});var je=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=2;break}return e.abrupt("return");case 2:t=!1,n=!1,e.prev=4,r=i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.value,e.next=3,S({variables:{FormId:t},update:function(e){e.modify({fields:{listForms:function(e,n){var a=n.readField,r=e.items.filter((function(e){return t!==a("FormId",e)}));return Object(l.a)(Object(l.a)({},e),{},{items:r})}}})}});case 3:case"end":return e.stop()}}),e)})),c=Object(s.a)(ne);case 7:return e.next=9,c.next();case 9:if(!(t=!(o=e.sent).done)){e.next=14;break}return e.delegateYield(r(),"t0",11);case 11:t=!1,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(4),n=!0,a=e.t1;case 20:if(e.prev=20,e.prev=21,!t||null==c.return){e.next=25;break}return e.next=25,c.return();case 25:if(e.prev=25,!n){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(20);case 30:ce();case 31:case"end":return e.stop()}}),e,null,[[4,16,20,30],[21,,25,29]])})));return function(){return e.apply(this,arguments)}}(),be=function(e){var t=q(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return e.map((function(e){var n=N()(e,"CategoryId"),a=N()(e,"FormTypeId");return Object(l.a)(Object(l.a)({},e),{},{CategoryName:N()(t,[n,"categoryName"]),FormTypeName:N()(t,[n,"formTypes",a])})}))}(M,N()(u,["listFormCategories"],[])),ue=Object(U.d)(be,Object(U.b)(Z,$));return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(oe,{numSelected:ne.length,onDelete:je,onCreate:function(){var e=Object(w.f)(le.c.FORM_ADD);de.push(e)}}),Object(E.jsx)(O.a,{children:Object(E.jsxs)(h.a,{className:Q.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(E.jsx)(Y,{numSelected:ne.length,order:Z,orderBy:$,onSelectAllClick:function(e){ie(e.target.checked,M)},onRequestSort:ee,rowCount:M.length}),Object(E.jsx)(x.a,{children:ue.map((function(e,t){if("number"===typeof e)return null;var n=Object(w.f)(le.c.FORM,{id:e.FormId}),a=ae(e.FormId),r="enhanced-table-checkbox-".concat(t);return Object(E.jsxs)(g.a,{hover:!0,onClick:function(){return re(e.FormId)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(E.jsx)(f.a,{sx:{pl:3},padding:"checkbox",children:Object(E.jsx)(v.a,{color:"primary",checked:a,inputProps:{"aria-labelledby":r}})}),Object(E.jsx)(f.a,{align:"left",children:e.Title}),Object(E.jsxs)(f.a,{align:"left",children:[e.CategoryName||e.CategoryId," "]}),Object(E.jsx)(f.a,{align:"left",children:e.FormTypeName||e.FormTypeId}),Object(E.jsx)(f.a,{align:"left",children:Object(H.b)(e.CreatedAt)}),Object(E.jsx)(f.a,{align:"left",children:Object(H.b)(e.UpdatedAt)}),Object(E.jsx)(f.a,{align:"left",sx:{pr:3},children:Object(E.jsx)(I.c,{to:n,children:Object(E.jsx)(y.a,{color:"primary",children:Object(E.jsx)(A.a,{sx:{fontSize:"1.3rem"}})})})})]},e.FormId)}))})]})}),Object(E.jsx)(_.a,{onLoadMore:function(){r({variables:{limit:D.a.pagination.limit,nextToken:W}})},disabled:!W,loading:t})]})},je=n(780),be=n(352),ue=n(782);t.default=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(je.a,{navigation:Object(ue.c)(be.a),icon:!0}),Object(E.jsx)(a.a,{title:"Forms List",children:Object(E.jsx)(de,{})})]})}},780:function(e,t,n){"use strict";var a=n(8),r=n(28),i=n(22),c=n(164),o=n(0),l=n(61),s=n(621),d=n(631),j=n(632),b=n(634),u=n(742),m=n(633),p=n(867),O=n(786),h=n.n(O),x=n(787),g=n.n(x),f=n(781),v=n.n(f),y=n(68),k=n(138),C=n(2),F=["card","divider","icon","icons","maxItems","navigation","rightAlign","title","titleBottom"],S=Object(s.a)((function(e){return{link:{display:"flex",color:e.palette.grey[900],textDecoration:"none",alignContent:"center",alignItems:"center"},activeLink:{display:"flex",textDecoration:"none",alignContent:"center",alignItems:"center",color:e.palette.grey[500]},icon:{marginRight:e.spacing(.75),marginTop:"-".concat(e.spacing(.25)),width:"1rem",height:"1rem",color:e.palette.secondary.main},separator:{width:16,marginLeft:8,marginRight:8},content:{padding:"16px !important"},noPadding:{padding:"16px !important",paddingLeft:"0 !important"},card:{marginBottom:e.spacing(k.b),border:"1px solid",borderColor:"dark"===e.palette.mode?e.palette.background.default:e.palette.primary[200]+75},root:{background:"transparent",boxShadow:"none",border:"none"},titleTop:{marginBottom:e.spacing(1)},titleBottom:{marginTop:e.spacing(1)},divider:{borderColor:e.palette.primary.main,marginBottom:e.spacing(k.b)}}}));t.a=function(e){var t=e.card,n=e.divider,s=e.icon,O=e.icons,x=e.maxItems,f=e.navigation,k=e.rightAlign,N=e.title,w=e.titleBottom,I=Object(c.a)(e,F),T=S(),A=Object(o.useState)([]),D=Object(i.a)(A,2),B=D[0],R=D[1],L=Object(o.useState)(),P=Object(i.a)(L,2),M=P[0],z=P[1];Object(o.useEffect)((function(){var e;B.length||null===f||void 0===f||null===(e=f.items)||void 0===e||e.map((function(e,t){return e.type&&"group"===e.type&&W(e,t),!1}))}),[]);var W=function e(t,n){t.children&&t.children.filter((function(t){return t.type&&"collapse"===t.type?(R((function(e){return[].concat(Object(r.a)(e),[t])})),e(t)):t.type&&"item"===t.type&&document.location.hash.includes("#".concat(t.url))&&z(t),!1}))},q=T.card;!1===t&&(q=T.root);var U,E=T.content;!1===t&&(E=T.noPadding);var J,Y=Object(C.jsx)(d.a,{}),_="",G=B.map((function(e){if("collapse"!==e.type)return Object(C.jsx)(C.Fragment,{});var t=e.icon?e.icon:h.a;return Object(C.jsxs)(d.a,{component:l.c,to:e.url||"#",variant:"subtitle1",className:T.link,children:[O&&Object(C.jsx)(t,{className:T.icon}),e.title]},e.id)}));return M&&"item"===M.type&&(_=M.title,J=M.icon?M.icon:h.a,U=Object(C.jsxs)(d.a,{variant:"subtitle1",className:T.activeLink,children:[O&&Object(C.jsx)(J,{className:T.icon}),_]}),!1!==M.breadcrumbs&&(Y=Object(C.jsxs)(j.a,Object(a.a)(Object(a.a)({className:q},I),{},{children:[Object(C.jsx)(b.a,{className:E,children:Object(C.jsxs)(u.a,{container:!0,direction:k?"row":"column",justifyContent:k?"space-between":"flex-start",alignItems:k?"center":"flex-start",spacing:1,children:[N&&!w&&Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})}),Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(p.a,{classes:{separator:T.separator},"aria-label":"breadcrumb",maxItems:x||8,separator:Object(C.jsx)(y.b,{stroke:1.5,size:"1rem"}),children:[Object(C.jsxs)(d.a,{component:l.c,to:"/",color:"inherit",variant:"subtitle1",className:T.link,children:[O&&Object(C.jsx)(v.a,{className:T.icon}),s&&Object(C.jsx)(g.a,{className:T.icon,style:{marginRight:0}}),!s&&"Dashboard"]}),G,U]})}),N&&w&&Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})})]})}),!1===t&&!1!==n&&Object(C.jsx)(m.a,{className:T.divider})]})))),Y}},782:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var a=n(8),r=n(155),i=n(2),c=function(e,t){var n=e.id,r=e.url,i=t.id,c=t.url;return Object(a.a)(Object(a.a)({},o({title:"property",id:n,url:r})),{},{type:"collapse",children:[o({title:"offer",id:i,url:c})]})},o=function(e){var t=e.url,n=e.id,a=e.title;return{id:n,title:Object(i.jsx)(r.a,{id:a,values:{id:n}}),url:t,type:"item"}},l=function(e,t){return{items:[{type:"group",children:[Object(a.a)(Object(a.a)({},e),{},{children:t?[t]:e.children})]}]}}},798:function(e,t,n){"use strict";var a=n(754),r=n(742),i=n(1198),c=n(68),o=n(952),l=n(621),s=n(2),d=Object(o.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(a.a),j=Object(l.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,a=e.loading,o=j();return Object(s.jsx)(r.a,{container:!0,className:o.toolbar,justifyContent:"center",children:Object(s.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||a,children:a?Object(s.jsx)(i.a,{size:24}):Object(s.jsx)(c.a,{})})})}}}]);
//# sourceMappingURL=31.56547c58.chunk.js.map