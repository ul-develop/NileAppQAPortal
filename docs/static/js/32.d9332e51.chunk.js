(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[32],{1089:function(e,t,n){"use strict";n.r(t);var r=n(285),a=n(51),i=n.n(a),c=n(89),o=n(22),l=n(6),s=n(706),d=n(143),j=n(683),b=n(500),u=n(58),m=n(614),p=n(769),h=n(770),O=n(771),x=n(767),f=n(768),g=n(909),v=n(633),y=n(782),k=n(56),C=n.n(k),w=n(15),S=n.n(w),F=n(54),I=n(57),N=n(707),T=n.n(N),A=(n(0),n(29)),D=n(149),P=n(202),B=n(766),R=n(855),L=n(20),M=[{id:"Title",numeric:!1,label:"Title",align:"left",disablePadding:!1},{id:"Category",numeric:!1,label:"Category",align:"left",disablePadding:!1},{id:"FormType",numeric:!1,label:"Form Type",align:"left"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"},{id:"UpdatedAt",numeric:!1,label:"Updated Date",align:"left"}],z=n(174),E=n(2),W=Object(b.a)((function(){return{sortSpan:Object(l.a)({},y.a)}})),q=function(e){var t=W(),n=e.onSelectAllClick,r=e.order,a=e.orderBy,i=e.numSelected,c=e.rowCount,o=e.onRequestSort,l=void 0===o?function(){}:o,s=function(e){return a&&a.id===e.id};return Object(E.jsx)(B.a,{children:Object(E.jsxs)(x.a,{children:[Object(E.jsx)(f.a,{padding:"checkbox",sx:{pl:3},children:Object(E.jsx)(g.a,{color:"primary",indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),M.map((function(e){return Object(E.jsx)(f.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:s(e)?r:void 0,children:Object(E.jsxs)(R.a,{active:s(e),direction:s(e)?r:z.a.ASC,onClick:function(){return l(e)},children:[e.label,s(e)?Object(E.jsx)("span",{className:t.sortSpan,children:r===z.a.DESC?"sorted descending":"sorted ascending"}):null]})},e.id)})),Object(E.jsx)(f.a,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})},U=n(679),J=n(298),Y=n(98),_=n(14),G=n(30),H=n(18),K=n(629),Q=n(620),V=n(510),X=n(912),Z=n(859),$=n(784),ee=n.n($),te=n(783),ne=n.n(te),re=Object(b.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},highlight:{backgroundColor:Object(G.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),ae=function(e){var t=re(),n=e.numSelected,r=e.onDelete,a=e.onCreate;return Object(E.jsx)(K.a,{className:Object(H.a)(t.root,Object(_.a)({},t.highlight,n>0)),children:Object(E.jsxs)(Q.a,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[Object(E.jsx)(Q.a,{item:!0,xs:12,sm:6,children:n>0&&Object(E.jsxs)(V.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]})}),Object(E.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(E.jsx)(Q.a,{container:!0,justifyContent:"flex-end",alignItems:"center",children:n>0?Object(E.jsx)(X.a,{title:"Delete",children:Object(E.jsx)(v.a,{onClick:r,children:Object(E.jsx)(ne.a,{})})}):Object(E.jsx)(X.a,{title:"Create",children:Object(E.jsx)(Z.a,{color:"primary","aria-label":"add",sx:{boxShadow:"none",ml:1,width:"48px",height:"48px"},onClick:a,children:Object(E.jsx)(ee.a,{})})})})})]})})},ie=n(28);function ce(e){var t,n,r,a=2;for("undefined"!==typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new oe(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function oe(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return oe=function(e){this.s=e,this.n=e.next},oe.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new oe(e)}var le=Object(b.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},sortSpan:Object(l.a)({},y.a)}})),se=function(){var e=Object(s.a)(Object(d.d)(P.a.listForms),{variables:{limit:A.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),t=e.loading,n=e.error,r=e.data,a=e.fetchMore,b=Object(s.a)(Object(d.d)(P.a.listFormCategories)).data,y=Object(j.a)(Object(d.d)(J.deleteForm),{}),k=Object(o.a)(y,2),w=k[0],N=k[1],B=N.loading,R=N.error,W=S()(r,["listForms","items"],[]),_=S()(r,"listForms.nextToken",void 0),G=Object(u.a)(),H=le(),K=Object(z.c)("CreatedAt",M),Q=Object(Y.b)(K),V=Q.order,X=Q.orderBy,Z=Q.handleRequestSort,$=Object(Y.d)("FormId"),ee=$.selected,te=$.isSelected,ne=$.handleSelect,re=$.handleSelectAll,oe=$.clearSelected,se=Object(F.h)();if((t||B)&&!r)return Object(E.jsx)(D.a,{});if(n||C()(r)||R)return Object(E.jsx)(m.a,{severity:"error",sx:{color:G.palette.error.main},children:"Something went wrong!"});var de=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,r,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee){e.next=2;break}return e.abrupt("return");case 2:t=!1,n=!1,e.prev=4,a=i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.value,e.next=3,w({variables:{FormId:t},update:function(e){e.modify({fields:{listForms:function(e,n){var r=n.readField,a=e.items.filter((function(e){return t!==r("FormId",e)}));return Object(l.a)(Object(l.a)({},e),{},{items:a})}}})}});case 3:case"end":return e.stop()}}),e)})),c=ce(ee);case 7:return e.next=9,c.next();case 9:if(!(t=!(o=e.sent).done)){e.next=14;break}return e.delegateYield(a(),"t0",11);case 11:t=!1,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(4),n=!0,r=e.t1;case 20:if(e.prev=20,e.prev=21,!t||null==c.return){e.next=25;break}return e.next=25,c.return();case 25:if(e.prev=25,!n){e.next=28;break}throw r;case 28:return e.finish(25);case 29:return e.finish(20);case 30:oe();case 31:case"end":return e.stop()}}),e,null,[[4,16,20,30],[21,,25,29]])})));return function(){return e.apply(this,arguments)}}(),je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(L.w)(t);return e.map((function(e){var t=S()(e,"CategoryId"),r=S()(e,"FormTypeId");return Object(l.a)(Object(l.a)({},e),{},{CategoryName:S()(n,[t,"categoryName"]),FormTypeName:S()(n,[t,"formTypes",r])})}))}(W,S()(b,["listFormCategories"],[])),be=Object(z.d)(je,Object(z.b)(V,X));return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ae,{numSelected:ee.length,onDelete:de,onCreate:function(){var e=Object(F.f)(ie.c.FORM_ADD);se.push(e)}}),Object(E.jsx)(p.a,{children:Object(E.jsxs)(h.a,{className:H.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(E.jsx)(q,{numSelected:ee.length,order:V,orderBy:X,onSelectAllClick:function(e){re(e.target.checked,W)},onRequestSort:Z,rowCount:W.length}),Object(E.jsx)(O.a,{children:be.map((function(e,t){if("number"===typeof e)return null;var n=Object(F.f)(ie.c.FORM,{id:e.FormId}),r=te(e.FormId),a="enhanced-table-checkbox-".concat(t);return Object(E.jsxs)(x.a,{hover:!0,onClick:function(){return ne(e.FormId)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(E.jsx)(f.a,{sx:{pl:3},padding:"checkbox",children:Object(E.jsx)(g.a,{color:"primary",checked:r,inputProps:{"aria-labelledby":a}})}),Object(E.jsx)(f.a,{align:"left",children:e.Title}),Object(E.jsxs)(f.a,{align:"left",children:[e.CategoryName||e.CategoryId," "]}),Object(E.jsx)(f.a,{align:"left",children:e.FormTypeName||e.FormTypeId}),Object(E.jsx)(f.a,{align:"left",children:Object(L.k)(e.CreatedAt)}),Object(E.jsx)(f.a,{align:"left",children:Object(L.k)(e.UpdatedAt)}),Object(E.jsx)(f.a,{align:"left",sx:{pr:3},children:Object(E.jsx)(I.c,{to:n,children:Object(E.jsx)(v.a,{color:"primary",children:Object(E.jsx)(T.a,{sx:{fontSize:"1.3rem"}})})})})]},e.FormId)}))})]})}),Object(E.jsx)(U.a,{onLoadMore:function(){a({variables:{limit:A.a.pagination.limit,nextToken:_}})},disabled:!_,loading:t})]})},de=n(665),je=n(307),be=n(666);t.default=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(de.a,{navigation:Object(be.c)(je.a),icon:!0}),Object(E.jsx)(r.a,{title:"Forms List",children:Object(E.jsx)(se,{})})]})}},665:function(e,t,n){"use strict";var r=n(6),a=n(27),i=n(22),c=n(148),o=n(0),l=n(57),s=n(500),d=n(510),j=n(511),b=n(513),u=n(620),m=n(512),p=n(750),h=n(671),O=n.n(h),x=n(672),f=n.n(x),g=n(662),v=n.n(g),y=n(65),k=n(124),C=n(2),w=["card","divider","icon","icons","maxItems","navigation","rightAlign","title","titleBottom"],S=Object(s.a)((function(e){return{link:{display:"flex",color:e.palette.grey[900],textDecoration:"none",alignContent:"center",alignItems:"center"},activeLink:{display:"flex",textDecoration:"none",alignContent:"center",alignItems:"center",color:e.palette.grey[500]},icon:{marginRight:e.spacing(.75),marginTop:"-".concat(e.spacing(.25)),width:"1rem",height:"1rem",color:e.palette.secondary.main},separator:{width:16,marginLeft:8,marginRight:8},content:{padding:"16px !important"},noPadding:{padding:"16px !important",paddingLeft:"0 !important"},card:{marginBottom:e.spacing(k.b),border:"1px solid",borderColor:"dark"===e.palette.mode?e.palette.background.default:e.palette.primary[200]+75},root:{background:"transparent",boxShadow:"none",border:"none"},titleTop:{marginBottom:e.spacing(1)},titleBottom:{marginTop:e.spacing(1)},divider:{borderColor:e.palette.primary.main,marginBottom:e.spacing(k.b)}}}));t.a=function(e){var t=e.card,n=e.divider,s=e.icon,h=e.icons,x=e.maxItems,g=e.navigation,k=e.rightAlign,F=e.title,I=e.titleBottom,N=Object(c.a)(e,w),T=S(),A=Object(o.useState)([]),D=Object(i.a)(A,2),P=D[0],B=D[1],R=Object(o.useState)(),L=Object(i.a)(R,2),M=L[0],z=L[1];Object(o.useEffect)((function(){var e;P.length||null===g||void 0===g||null===(e=g.items)||void 0===e||e.map((function(e,t){return e.type&&"group"===e.type&&E(e,t),!1}))}),[]);var E=function e(t,n){t.children&&t.children.filter((function(t){return t.type&&"collapse"===t.type?(B((function(e){return[].concat(Object(a.a)(e),[t])})),e(t)):t.type&&"item"===t.type&&document.location.hash.includes("#".concat(t.url))&&z(t),!1}))},W=T.card;!1===t&&(W=T.root);var q,U=T.content;!1===t&&(U=T.noPadding);var J,Y=Object(C.jsx)(d.a,{}),_="",G=P.map((function(e){if("collapse"!==e.type)return Object(C.jsx)(C.Fragment,{});var t=e.icon?e.icon:O.a;return Object(C.jsxs)(d.a,{component:l.c,to:e.url||"#",variant:"subtitle1",className:T.link,children:[h&&Object(C.jsx)(t,{className:T.icon}),e.title]},e.id)}));return M&&"item"===M.type&&(_=M.title,J=M.icon?M.icon:O.a,q=Object(C.jsxs)(d.a,{variant:"subtitle1",className:T.activeLink,children:[h&&Object(C.jsx)(J,{className:T.icon}),_]}),!1!==M.breadcrumbs&&(Y=Object(C.jsxs)(j.a,Object(r.a)(Object(r.a)({className:W},N),{},{children:[Object(C.jsx)(b.a,{className:U,children:Object(C.jsxs)(u.a,{container:!0,direction:k?"row":"column",justifyContent:k?"space-between":"flex-start",alignItems:k?"center":"flex-start",spacing:1,children:[F&&!I&&Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})}),Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(p.a,{classes:{separator:T.separator},"aria-label":"breadcrumb",maxItems:x||8,separator:Object(C.jsx)(y.b,{stroke:1.5,size:"1rem"}),children:[Object(C.jsxs)(d.a,{component:l.c,to:"/",color:"inherit",variant:"subtitle1",className:T.link,children:[h&&Object(C.jsx)(v.a,{className:T.icon}),s&&Object(C.jsx)(f.a,{className:T.icon,style:{marginRight:0}}),!s&&"Dashboard"]}),G,q]})}),F&&I&&Object(C.jsx)(u.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",M.title," "]})})]})}),!1===t&&!1!==n&&Object(C.jsx)(m.a,{className:T.divider})]})))),Y}},666:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var r=n(6),a=n(138),i=n(2),c=function(e,t){var n=e.id,a=e.url,i=t.id,c=t.url;return Object(r.a)(Object(r.a)({},o({title:"property",id:n,url:a})),{},{type:"collapse",children:[o({title:"offer",id:i,url:c})]})},o=function(e){var t=e.url,n=e.id,r=e.title;return{id:n,title:Object(i.jsx)(a.a,{id:r,values:{id:n}}),url:t,type:"item"}},l=function(e,t){return{items:[{type:"group",children:[Object(r.a)(Object(r.a)({},e),{},{children:t?[t]:e.children})]}]}}},679:function(e,t,n){"use strict";var r=n(632),a=n(620),i=n(858),c=n(65),o=n(854),l=n(500),s=n(2),d=Object(o.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(r.a),j=Object(l.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,r=e.loading,o=j();return Object(s.jsx)(a.a,{container:!0,className:o.toolbar,justifyContent:"center",children:Object(s.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||r,children:r?Object(s.jsx)(i.a,{size:24}):Object(s.jsx)(c.a,{})})})}}}]);
//# sourceMappingURL=32.d9332e51.chunk.js.map