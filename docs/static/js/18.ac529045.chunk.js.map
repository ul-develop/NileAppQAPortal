{"version":3,"sources":["helpers/date.ts","views/application/components/LoadMore/index.tsx","helpers/currency.ts","helpers/offer.ts","helpers/searchFilter.ts","views/application/components/SearchField/index.tsx","views/application/components/StatusSelector/index.tsx","views/application/components/SearchFilter/index.tsx","views/application/offer/ListHeader.tsx","views/application/offer/OfferToolbar.tsx","views/application/offer/OfferList.tsx","views/pages/offer/ListPage.tsx"],"names":["formatDate","date","Intl","DateTimeFormat","config","locate","country","timeZone","timezone","format","Date","LoadMoreButton","withStyles","root","borderRadius","minWidth","padding","Button","useStyles","makeStyles","toolbar","LoadMore","onLoadMore","disabled","loading","classes","container","className","justifyContent","type","onClick","size","formatCurrency","value","NumberFormat","style","currency","offerSteps","getOfferPrice","offer","price","_get","counteredBySeller","isDocumentExits","_isEmpty","getValidSearchQuery","search","validStatues","selectedStatuses","map","status","query","statusIds","undefined","theme","searchControl","paddingRight","paddingLeft","background","breakpoints","down","width","marginLeft","palette","mode","dark","startAdornment","fontSize","color","grey","resetButton","height","formControl","SearchField","setSearch","handleReset","onTriggerSearch","FormControl","variant","OutlinedInput","name","onChange","e","target","placeholder","InputAdornment","position","stroke","endAdornment","IconButton","inputProps","StatusSelector","setSelectedStatuses","statuses","Autocomplete","event","newValues","_uniqBy","fullWidth","multiple","limitTags","options","getOptionLabel","option","defaultValue","renderInput","params","TextField","label","multiline","form","SearchFilter","onSearch","onSubmit","preventDefault","Grid","direction","alignItems","spacing","item","xs","lg","headCells","id","numeric","disablePadding","align","ListHeader","TableHead","TableRow","headCell","TableCell","sx","pr","useToolbarStyles","highlight","backgroundColor","alpha","primary","main","action","activatedOpacity","title","flex","OfferToolbar","props","Toolbar","table","OfferList","history","useHistory","showSnackBar","useSnackBar","useQuery","gql","graphql","getOffers","variables","PageIndex","PageSize","pagination","limit","fetchPolicy","notifyOnNetworkStatusChange","error","data","fetchMore","listOfferSteps","loadingStatuses","statusesError","statusesData","useState","doSearch","setDoSearch","useLazyQuery","executeSearch","isSearching","searchData","rows","setRows","hasMore","setHasMore","page","setPage","useEffect","newData","newCount","newTotal","isLoading","Loader","message","alertSeverity","searchHandler","pageIndex","Query","StepIds","Boolean","Id","Name","TableContainer","Table","TableBody","row","hover","tabIndex","component","OfferNo","Funding","PurchaseType","LoanType","DownPayment","Step","messages","advisor","CreatedAt","OfferId","push","Alert","icon","severity","ListPage","MainCard"],"mappings":"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","file":"static/js/18.ac529045.chunk.js","sourcesContent":["import config from '../config';\n\nexport const formatDate = (date: string | null): string =>\n\t`${\n\t\tdate\n\t\t\t? new Intl.DateTimeFormat(config.locate.country, {\n\t\t\t\t\ttimeZone: config.locate.timezone,\n\t\t\t  }).format(new Date(date))\n\t\t\t: ''\n\t}`;\n","import { Grid, Button, CircularProgress } from '@material-ui/core';\nimport { IconChevronDown } from '@tabler/icons';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nconst LoadMoreButton = withStyles({\n\troot: {\n\t\tborderRadius: '50%',\n\t\tminWidth: '0',\n\t\tpadding: '12px',\n\t},\n})(Button);\n\ntype Props = {\n\tonLoadMore: Function;\n\tloading: boolean;\n\tdisabled?: boolean;\n};\n\nconst useStyles = makeStyles(() => ({\n\ttoolbar: {\n\t\tpadding: '24px 16px 2px',\n\t},\n}));\n\nconst LoadMore = ({ onLoadMore, disabled, loading }: Props) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Grid container className={classes.toolbar} justifyContent='center'>\n\t\t\t<LoadMoreButton\n\t\t\t\ttype='button'\n\t\t\t\tonClick={() => onLoadMore()}\n\t\t\t\tdisabled={disabled || loading}\n\t\t\t>\n\t\t\t\t{loading ? <CircularProgress size={24} /> : <IconChevronDown />}\n\t\t\t</LoadMoreButton>\n\t\t</Grid>\n\t);\n};\n\nexport default LoadMore;\n","import config from '../config';\n\nexport const formatCurrency = (value: number | bigint): string => `${\n    value\n      ? new Intl.NumberFormat(config.locate.country, {\n          style: 'currency',\n          currency: config.locate.currency,\n        }).format(value)\n      : ''\n  }`;\n","import _get from 'lodash.get';\nimport _isEmpty from 'lodash.isempty';\nimport { TOffer } from '../types';\nimport config from '../config';\nimport { formatCurrency } from './currency';\n\nconst { offerSteps } = config;\n\nexport const getOfferPrice = (offer: TOffer): string => {\n\tlet price;\n\n\tif (+_get(offer, ['Step', 'id']) === offerSteps.counteredBySeller)\n\t\tprice = _get(offer, ['CounterOffer', 'SellerCounter', 'OfferPrice']);\n\telse price = _get(offer, ['CounterOffer', 'BuyerCounter', 'OfferPrice']);\n\n\tif (!price) {\n\t\tprice = _get(offer, ['Offer', 'OfferPrice']);\n\t}\n\n\treturn price ? formatCurrency(price) : '';\n};\n\nexport const isOfferActionStep = (offer: TOffer, expectationStep: number) =>\n\t_get(offer, 'step.id') === expectationStep;\n\nexport const isDocumentExits = (offer: TOffer, type: string): boolean =>\n\t!_isEmpty(_get(offer, type));\n","import _get from 'lodash.get';\nimport _isEmpty from 'lodash.isempty';\n\ntype SearchQuery = {\n\tsearch: string;\n\tselectedStatuses: Array<Object>;\n};\n\nexport const getValidSearchQuery = ({\n\tsearch,\n\tselectedStatuses,\n}: SearchQuery) => {\n\tconst validStatues = selectedStatuses.map(status => _get(status, 'Id'));\n\tconst searchText = !_isEmpty(validStatues) && !search ? '*' : search;\n\treturn {\n\t\tquery: searchText,\n\t\tstatusIds: _isEmpty(validStatues) ? undefined : validStatues,\n\t};\n};\n","import { makeStyles } from '@material-ui/core/styles';\nimport {\n\tInputAdornment,\n\tOutlinedInput,\n\tIconButton,\n\tFormControl,\n} from '@material-ui/core';\nimport { IconSearch, IconX } from '@tabler/icons';\n\nconst useStyles = makeStyles(theme => ({\n\tsearchControl: {\n\t\tpaddingRight: '16px',\n\t\tpaddingLeft: '16px',\n\t\t'& input': {\n\t\t\tbackground: 'transparent !important',\n\t\t\tpaddingLeft: '5px !important',\n\t\t},\n\t\t[theme.breakpoints.down('lg')]: {\n\t\t\twidth: '250px',\n\t\t},\n\t\t[theme.breakpoints.down('md')]: {\n\t\t\twidth: '100%',\n\t\t\tmarginLeft: '4px',\n\t\t\tbackground: theme.palette.mode === 'dark' ? theme.palette.dark[800] : '#fff',\n\t\t},\n\t},\n\tstartAdornment: {\n\t\tfontSize: '1rem',\n\t\tcolor: theme.palette.grey[500],\n\t},\n\tresetButton: {\n\t\twidth: '22px',\n\t\theight: '22px',\n\t},\n\tformControl: {\n\t\twidth: '100%',\n\t},\n}));\n\nexport type Props = {\n\tsearch: string;\n\tsetSearch: (t: string) => void;\n\thandleReset: () => void;\n\tonTriggerSearch: (b: boolean) => void;\n};\n\nconst SearchField = ({\n\tsearch,\n\tsetSearch,\n\thandleReset,\n\tonTriggerSearch,\n}: Props) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<FormControl variant='outlined' className={classes.formControl}>\n\t\t\t<OutlinedInput\n\t\t\t\tclassName={classes.searchControl}\n\t\t\t\tname='search'\n\t\t\t\tvalue={search}\n\t\t\t\tonChange={e => {\n\t\t\t\t\tsetSearch(e.target.value);\n\t\t\t\t}}\n\t\t\t\tplaceholder='Search'\n\t\t\t\tstartAdornment={\n\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t<IconSearch stroke={1.5} size='1rem' className={classes.startAdornment} />\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t\tendAdornment={\n\t\t\t\t\tsearch ? (\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tclassName={classes.resetButton}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetSearch('');\n\t\t\t\t\t\t\t\tonTriggerSearch(false);\n\t\t\t\t\t\t\t\thandleReset();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<IconX stroke={1.5} size='1rem' />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\taria-describedby='search-helper-text'\n\t\t\t\tinputProps={{\n\t\t\t\t\t'aria-label': 'weight',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</FormControl>\n\t);\n};\n\nexport default SearchField;\n","import { FormControl, Autocomplete, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _get from 'lodash.get';\nimport _uniqBy from 'lodash.uniqby';\n\nconst TAG_LIMITATION = 1;\n\nexport type Props = {\n\tstatuses: Array<Object>;\n\tselectedStatuses: Array<number | string>;\n\tsetSelectedStatuses: Function;\n};\n\nconst useStyles = makeStyles(() => ({\n\tformControl: {\n\t\twidth: '100%',\n\t},\n}));\n\nconst StatusSelector = ({\n\tselectedStatuses,\n\tsetSelectedStatuses,\n\tstatuses,\n}: Props) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<FormControl variant='outlined' className={classes.formControl}>\n\t\t\t<Autocomplete\n\t\t\t\tvalue={selectedStatuses}\n\t\t\t\tonChange={(event, newValues) => {\n\t\t\t\t\tsetSelectedStatuses(_uniqBy(newValues, 'Id'));\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmultiple\n\t\t\t\tlimitTags={TAG_LIMITATION}\n\t\t\t\toptions={statuses}\n\t\t\t\tgetOptionLabel={option => _get(option, 'Name', '')}\n\t\t\t\tdefaultValue={[]}\n\t\t\t\trenderInput={params => (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t{...params}\n\t\t\t\t\t\tlabel='Status'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tmultiline={false}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</FormControl>\n\t);\n};\n\nexport default StatusSelector;\n","import React from 'react';\nimport { Button, Grid } from '@material-ui/core';\nimport _isEmpty from 'lodash.isempty';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchField from '../SearchField';\nimport type { Props as SearchFieldProps } from '../SearchField';\nimport StatusSelector from '../StatusSelector';\nimport type { Props as StatusSelectorProps } from '../StatusSelector';\n\nexport type Props = Omit<SearchFieldProps, 'handleReset'> &\n\tStatusSelectorProps & { onSearch: Function };\n\nconst useStyles = makeStyles(() => ({\n\tform: {\n\t\twidth: '100%',\n\t},\n}));\n\nconst SearchFilter = ({\n\tonSearch,\n\tonTriggerSearch,\n\tstatuses,\n\tsearch,\n\tsetSearch,\n\tselectedStatuses,\n\tsetSelectedStatuses,\n}: Props) => {\n\tconst classes = useStyles();\n\n\tconst onSubmit = (e: React.SyntheticEvent) => {\n\t\te.preventDefault();\n\t\tonSearch();\n\t};\n\n\treturn (\n\t\t<form onSubmit={onSubmit} className={classes.form}>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tdirection='row'\n\t\t\t\tjustifyContent='flex-start'\n\t\t\t\talignItems='center'\n\t\t\t\tspacing={1}\n\t\t\t>\n\t\t\t\t<Grid item xs={12} lg={4}>\n\t\t\t\t\t<SearchField\n\t\t\t\t\t\tsearch={search}\n\t\t\t\t\t\tsetSearch={setSearch}\n\t\t\t\t\t\thandleReset={() => {\n\t\t\t\t\t\t\tsetSearch('');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonTriggerSearch={onTriggerSearch}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t{!_isEmpty(statuses) && (\n\t\t\t\t\t<Grid item xs={12} lg={7}>\n\t\t\t\t\t\t<StatusSelector\n\t\t\t\t\t\t\tselectedStatuses={selectedStatuses}\n\t\t\t\t\t\t\tsetSelectedStatuses={setSelectedStatuses}\n\t\t\t\t\t\t\tstatuses={statuses}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12} lg={1}>\n\t\t\t\t\t<Button type='submit' variant='contained' color='primary' size='large'>\n\t\t\t\t\t\tSearch\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</form>\n\t);\n};\n\nexport default SearchFilter;\n","import { TableCell, TableHead, TableRow } from '@material-ui/core';\nimport { HeadCell } from '../../../types';\n\nconst headCells: HeadCell[] = [\n\t{\n\t\tid: 'OfferNo',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'No',\n\t},\n\t{\n\t\tid: 'PropertyData.FullAddress',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Property Address',\n\t},\n\t{\n\t\tid: 'PropertyData.OwnerNames',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Sellers',\n\t},\n\t{\n\t\tid: 'CounterOffer.SellerCounter.OfferPrice',\n\t\tnumeric: true,\n\t\tdisablePadding: false,\n\t\tlabel: 'Offer Price',\n\t},\n\t{\n\t\tid: 'Funding.PurchaseType',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Funding',\n\t},\n\t{\n\t\tid: 'Funding.LoanType',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Loan Type',\n\t},\n\t{\n\t\tid: 'Funding.DownPayment',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Down Payment',\n\t},\n\t{\n\t\tid: 'Step.messages.advisor',\n\t\tnumeric: false,\n\t\tdisablePadding: false,\n\t\tlabel: 'Status',\n\t},\n\t{\n\t\tid: 'CreatedAt',\n\t\tnumeric: false,\n\t\tlabel: 'Created Date',\n\t\talign: 'left',\n\t},\n];\n\nconst ListHeader = () => (\n\t<TableHead>\n\t\t<TableRow>\n\t\t\t{headCells.map(headCell => (\n\t\t\t\t<TableCell\n\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\talign='left'\n\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'normal'}\n\t\t\t\t>\n\t\t\t\t\t{headCell.label}\n\t\t\t\t</TableCell>\n\t\t\t))}\n\t\t\t<TableCell align='center' sx={{ pr: 3 }}>\n\t\t\t\tAction\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t</TableHead>\n);\n\nexport default ListHeader;\n","import { alpha, makeStyles } from '@material-ui/core/styles';\nimport { Toolbar } from '@material-ui/core';\nimport SearchFilter from '../components/SearchFilter';\nimport type { Props } from '../components/SearchFilter';\n\nconst useToolbarStyles = makeStyles(theme => ({\n\troot: {\n\t\tpaddingLeft: theme.spacing(2),\n\t\tpaddingRight: theme.spacing(1),\n\t\theight: '83px',\n\t},\n\thighlight: {\n\t\tbackgroundColor: alpha(\n\t\t\ttheme.palette.primary.main,\n\t\t\ttheme.palette.action.activatedOpacity\n\t\t),\n\t},\n\ttitle: {\n\t\tflex: '1 1 100%',\n\t},\n}));\n\nconst OfferToolbar = (props: Props) => {\n\tconst classes = useToolbarStyles();\n\tconst {\n\t\tonSearch,\n\t\tonTriggerSearch,\n\t\tstatuses,\n\t\tsearch,\n\t\tsetSearch,\n\t\tselectedStatuses,\n\t\tsetSelectedStatuses,\n\t} = props;\n\n\treturn (\n\t\t<Toolbar className={classes.root}>\n\t\t\t<SearchFilter\n\t\t\t\tonSearch={onSearch}\n\t\t\t\tonTriggerSearch={onTriggerSearch}\n\t\t\t\tstatuses={statuses}\n\t\t\t\tsearch={search}\n\t\t\t\tsetSearch={setSearch}\n\t\t\t\tselectedStatuses={selectedStatuses}\n\t\t\t\tsetSelectedStatuses={setSelectedStatuses}\n\t\t\t/>\n\t\t</Toolbar>\n\t);\n};\n\nexport default OfferToolbar;\n","import { useEffect, useState } from 'react';\nimport _get from 'lodash.get';\nimport _isEmpty from 'lodash.isempty';\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableRow,\n\tAlert,\n\tIconButton,\n\tGrid,\n} from '@material-ui/core';\nimport EditTwoToneIcon from '@material-ui/icons/EditTwoTone';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useQuery, useLazyQuery, gql } from '@apollo/client';\nimport { useHistory } from 'react-router';\nimport { TOffer } from '../../../types';\nimport graphql from '../../../graphql';\n\nimport Loader from '../../../ui-component/Loader';\nimport Header from './ListHeader';\nimport LoadMore from '../components/LoadMore';\nimport config from '../../../config';\nimport { getOfferPrice } from '../../../helpers/offer';\nimport { formatCurrency } from '../../../helpers/currency';\nimport OfferToolbar from './OfferToolbar';\nimport { formatDate } from '../../../helpers/date';\nimport { getValidSearchQuery } from '../../../helpers/searchFilter';\nimport { useSnackBar } from '../../../hooks';\n\nconst useStyles = makeStyles(() => ({\n\ttable: {\n\t\tminWidth: '750px',\n\t},\n}));\n\nconst OfferList = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst showSnackBar = useSnackBar();\n\n\tconst { loading, error, data, fetchMore } = useQuery(gql(graphql.getOffers), {\n\t\tvariables: { PageIndex: 0, PageSize: config.pagination.limit },\n\t\tfetchPolicy: 'cache-first',\n\t\tnotifyOnNetworkStatusChange: true,\n\t});\n\n\tconst {\n\t\tloading: loadingStatuses,\n\t\terror: statusesError,\n\t\tdata: statusesData,\n\t} = useQuery(gql(graphql.listOfferSteps));\n\n\tconst [doSearch, setDoSearch] = useState(false);\n\tconst [search, setSearch] = useState('');\n\tconst [selectedStatuses, setSelectedStatuses] = useState([]);\n\tconst [executeSearch, { loading: isSearching, data: searchData }] =\n\t\tuseLazyQuery(gql(graphql.getOffers));\n\n\tconst [rows, setRows] = useState<TOffer[]>([]);\n\tconst [hasMore, setHasMore] = useState<boolean>(false);\n\tconst [page, setPage] = useState<number>(0);\n\n\tconst getData = () => {\n\t\tif (isSearching) return {};\n\t\tif (doSearch) return searchData;\n\t\treturn data;\n\t};\n\n\tuseEffect(() => {\n\t\tconst newData = getData();\n\t\tconst newCount = _get(newData, 'getOffers.Count', 0);\n\t\tconst newTotal = _get(newData, 'getOffers.Total', 0);\n\t\tsetHasMore(newCount < newTotal);\n\t\tsetPage(_get(newData, 'getOffers.PageIndex') || 0);\n\t\tsetRows(_get(newData, 'getOffers.Items') || []);\n\t}, [data, searchData, doSearch, isSearching]);\n\n\tconst isLoading = loading || isSearching;\n\n\tif ((isLoading || loadingStatuses) && !data) return <Loader />;\n\n\tif (error || statusesError) {\n\t\tshowSnackBar({\n\t\t\tmessage: _get(error, 'message', 'Something went wrong'),\n\t\t\talertSeverity: 'error',\n\t\t});\n\t}\n\n\tconst editOffer = (id: string) => {\n\t\thistory.push(`/offer/${id}`);\n\t};\n\n\tconst searchHandler = (pageIndex = 0) => {\n\t\tconst { query, statusIds } = getValidSearchQuery({\n\t\t\tsearch,\n\t\t\tselectedStatuses,\n\t\t});\n\t\tif (query) {\n\t\t\texecuteSearch({\n\t\t\t\tvariables: {\n\t\t\t\t\tPageIndex: pageIndex,\n\t\t\t\t\tPageSize: config.pagination.limit,\n\t\t\t\t\tQuery: query,\n\t\t\t\t\tStepIds: statusIds,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tsetDoSearch(Boolean(query));\n\t};\n\n\tconst loadMore = () => {\n\t\tif (doSearch) {\n\t\t\tsearchHandler(page + 1);\n\t\t\treturn;\n\t\t}\n\t\tfetchMore({\n\t\t\tvariables: { PageIndex: page + 1, PageSize: config.pagination.limit },\n\t\t});\n\t};\n\n\tconst statuses = _get(statusesData, ['listOfferSteps'], []).map(\n\t\t(status: Object) => ({\n\t\t\tId: _get(status, 'id'),\n\t\t\tName: _get(status, 'messages.advisor'),\n\t\t})\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{isSearching && <Loader />}\n\t\t\t<OfferToolbar\n\t\t\t\tonSearch={searchHandler}\n\t\t\t\tonTriggerSearch={setDoSearch}\n\t\t\t\tstatuses={statuses}\n\t\t\t\tsearch={search}\n\t\t\t\tsetSearch={setSearch}\n\t\t\t\tselectedStatuses={selectedStatuses}\n\t\t\t\tsetSelectedStatuses={setSelectedStatuses}\n\t\t\t/>\n\t\t\t<TableContainer>\n\t\t\t\t<Table className={classes.table} aria-labelledby='tableTitle' size='small'>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{rows.map(row => {\n\t\t\t\t\t\t\tif (typeof row === 'number') return null;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow hover tabIndex={-1} key={row.OfferId}>\n\t\t\t\t\t\t\t\t\t<TableCell component='th'>{row.OfferNo}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>\n\t\t\t\t\t\t\t\t\t\t{_get(row, 'PropertyData.FullAddress', '')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>\n\t\t\t\t\t\t\t\t\t\t{_get(row, 'PropertyData.OwnerNames', '')}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>{getOfferPrice(row)}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>{row.Funding?.PurchaseType}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>{row.Funding?.LoanType}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>\n\t\t\t\t\t\t\t\t\t\t{formatCurrency(row.Funding?.DownPayment)}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell sx={{ pr: 3 }} align='left'>\n\t\t\t\t\t\t\t\t\t\t{row.Step?.messages?.advisor}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='left'>{formatDate(row.CreatedAt)}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align='center' sx={{ pr: 3 }}>\n\t\t\t\t\t\t\t\t\t\t<IconButton color='primary' onClick={() => editOffer(row.OfferId)}>\n\t\t\t\t\t\t\t\t\t\t\t<EditTwoToneIcon sx={{ fontSize: '1.3rem' }} />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t{_isEmpty(rows) && !isLoading && (\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Alert icon={false} severity='info'>\n\t\t\t\t\t\tNo Records found\n\t\t\t\t\t</Alert>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{hasMore && <LoadMore onLoadMore={loadMore} loading={isLoading} />}\n\t\t</>\n\t);\n};\n\nexport default OfferList;\n","// material-ui\nimport MainCard from '../../../ui-component/cards/MainCard';\n\n// project imports\nimport OfferList from '../../application/offer/OfferList';\n\nconst ListPage = () => (\n\t<MainCard title='Offers List'>\n\t\t<OfferList />\n\t</MainCard>\n);\n\nexport default ListPage;\n"],"sourceRoot":""}