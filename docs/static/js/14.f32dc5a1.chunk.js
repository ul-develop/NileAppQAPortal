(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[14],{1053:function(e,t,r){"use strict";r.r(t);var a,n,i,c=r(75),o=r.n(c),l=r(28),s=r(114),d=r(87),m=r(53),j=r(821),p=r(1078),u=r(1059),b=r(1038),h=r(835),O=r(861),g=r(862),x=r(52),f=r(1062),v=r(149),y=r(843),T=r.n(y),I=r(837),S=r.n(I),F=r(302),w=r(846),C=r(42),k=r(911),q=r(194),B=r(844),J=r(852),V=r(102),z=r(305),N=r(910),U=r(1);t.default=function(){var e=Object(m.b)();function t(){sessionStorage.setItem("template",this.text)}var r=Object(x.j)().id,c=Object(f.a)(Object(v.a)(a||(a=Object(d.a)(["\n\t\t\t","\n\t\t"])),B.a),{variables:{FormId:r}}),y=c.loading,I=c.error,W=c.data,A=Object(f.a)(Object(v.a)(n||(n=Object(d.a)(["\n\t\t\t","\n\t\t"])),B.b),{}),D=A.loading,E=A.error,G=A.data;if(y||D)return Object(U.jsx)(q.a,{});if(I||E)return e({type:C.i,open:!0,message:"Something went wrong",variant:"alert",alertSeverity:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),Object(U.jsx)(U.Fragment,{});if(T()(W)||T()(G))return Object(U.jsx)(U.Fragment,{});var H=S()(W,["getForm"]),K=H.Title,L=H.FormTypeId,M=H.CategoryId,P=H.FormId,Q=H.Template,R="".concat(M,",").concat(L),X=S()(G,"listFormCategories"),Y=JSON.parse(Q),Z=function(){var t=Object(s.a)(o.a.mark((function t(r,a){var n,c,s,m,j,p,u,b,h,O;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.setStatus,c=a.setSubmitting,s=r.formTypeId,m=r.title,j=s.split(","),p=Object(l.a)(j,2),u=p[0],b=p[1],h=JSON.stringify(sessionStorage.getItem("template")),t.prev=4,t.next=7,z.a.mutate({mutation:Object(v.a)(i||(i=Object(d.a)(["\n\t\t\t\t\t","\n\t\t\t\t"])),J.c),variables:{FormId:P,Form:{CategoryId:u,FormTypeId:b,Title:m,Template:h}}});case 7:e({type:C.i,open:!0,message:"Form has Updated",variant:"alert",alertSeverity:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(4),O=S()(t.t0,"message","Something went wrong"),n({success:!1}),c(!1),e({type:C.i,open:!0,message:O,variant:"alert",alertSeverity:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 16:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,r){return t.apply(this,arguments)}}();return Object(U.jsx)(j.a,{container:!0,spacing:V.b,children:Object(U.jsx)(j.a,{item:!0,xs:12,children:Object(U.jsx)(F.a,{title:K,children:Object(U.jsx)(O.a,{initialValues:{title:K,formTypeId:R},validationSchema:g.a().shape({title:g.c().required("Title is require"),formTypeId:g.c().required("Form Type is require")}),onSubmit:Z,children:function(e){var r=e.errors,a=e.handleChange,n=e.handleBlur,i=e.handleSubmit,c=e.touched,o=e.values,l=e.isSubmitting;return Object(U.jsx)("form",{noValidate:!0,onSubmit:i,children:Object(U.jsxs)(j.a,{container:!0,spacing:2,alignItems:"center",children:[Object(U.jsxs)(j.a,{item:!0,xs:12,lg:6,children:[Object(U.jsx)(N.a,{children:"Title"}),Object(U.jsx)(p.a,{defaultValue:o.title,fullWidth:!0,placeholder:"Title",onChange:a,onBlur:n,error:c.title&&Boolean(r.title),helperText:c.title&&r.title,name:"title"})]}),Object(U.jsxs)(j.a,{item:!0,xs:12,lg:6,children:[Object(U.jsx)(N.a,{htmlFor:"formTypeId",children:"Form Type"}),Object(U.jsx)(u.a,{native:!0,id:"formTypeId",defaultValue:o.formTypeId,onChange:a,error:c.formTypeId&&Boolean(r.formTypeId),name:"formTypeId",children:X.map((function(e){var t=e.Title,r=e.FormTypes,a=e.id;return Object(U.jsx)("optgroup",{label:t,children:r.map((function(e){var t=e.Name,r=e.id,n="".concat(a,",").concat(r);return Object(U.jsx)("option",{value:n,children:t},n)}))},a)}))})]}),Object(U.jsx)(j.a,{item:!0,xs:12,lg:12,children:Object(U.jsx)(k.a,{value:Y,name:"Template",saveSurveyFunc:t})}),Object(U.jsx)(j.a,{item:!0,xs:12,children:Object(U.jsx)(b.a,{direction:"row",justifyContent:"flex-end",children:Object(U.jsx)(w.a,{children:Object(U.jsx)(h.a,{color:"primary",variant:"contained",type:"submit",disabled:l,children:"Update"})})})})]})})}})})})})}}}]);
//# sourceMappingURL=14.f32dc5a1.chunk.js.map