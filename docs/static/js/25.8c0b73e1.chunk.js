(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[25],{1082:function(e,t,r){"use strict";r.r(t);var a=r(53),n=r.n(a),o=r(92),i=r(21),s=(r(0),r(18)),c=r.n(s),l=r(738),u=r(147),d=r(701),p=r(661),b=r(74),h=r.n(b),j=r(308),m=r(217),f=r(153),v=r(787),O=r(788),x=r(101),g=r(22),y=r(2);t.default=function(){var e=Object(x.e)(),t=Object(l.a)(Object(u.d)(m.a.getMyProfile),{}),r=t.loading,a=t.data,s=t.error,b=Object(l.a)(Object(u.d)(m.a.users_UserGroups)),w=b.loading,N=b.error,R=b.data,M=Object(d.a)(Object(u.d)(m.a.users_UpdateMyUserProfile)),P=Object(i.a)(M,1)[0],C=c()(a,["users_GetMyUserProfile"])||{},F=c()(R,"users_UserGroups"),S=c()(C,"FirstName")||"",I=c()(C,"LastName")||"",k=c()(C,"Phone")||"",G=c()(C,"Email")||"",T=c()(C,["UserGroups","0","GroupName"]),B=!c()(C,"Enabled",!1),E="".concat(S," ").concat(I," ").concat(B?" - Disabled":""),q={firstName:S,lastName:I,email:G,phone:k,userGroup:T};if(r||w)return Object(y.jsx)(f.a,{});if(N||s){var L=c()(s,"message")||c()(N,"message","Something went wrong");return e({message:L}),Object(y.jsx)(y.Fragment,{})}var W=function(){var t=Object(o.a)(n.a.mark((function t(r,a){var o,i,s,l,u,d,p;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.setStatus,i=a.setSubmitting,t.prev=1,s=r.firstName,l=r.lastName,u=r.phone,d={FirstName:s,LastName:l,Phone:h()(u)?void 0:Object(g.c)(u)},t.next=6,P({variables:d});case 6:e({message:"Profile has updated",alertSeverity:"success"}),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(1),p=c()(t.t0,"message","Something went wrong"),o({success:!1}),i(!1),e({message:p});case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}();return Object(y.jsx)(j.a,{title:E,sx:{mb:3},children:Object(y.jsx)(p.b,{initialValues:q,onSubmit:W,validationSchema:O.a,children:function(e){var t=e.handleSubmit;return Object(y.jsx)("form",{noValidate:!0,onSubmit:t,children:Object(y.jsx)(v.a,{isGroupDisable:!0,groups:F})})}})})}},662:function(e,t,r){"use strict";var a=r(6),n=r(152),o=r(59),i=r(535),s=r(407),c=r(534),l=r(536),u=r(537),d=r(2),p=["children","content","contentClass","darkTitle","secondary","sx","title"],b=function(e){var t=e.children,r=e.content,b=e.contentClass,h=e.darkTitle,j=e.secondary,m=e.sx,f=void 0===m?{}:m,v=e.title,O=Object(n.a)(e,p),x=Object(o.a)();return Object(d.jsxs)(i.a,Object(a.a)(Object(a.a)({sx:Object(a.a)({border:"1px solid",borderColor:"dark"===x.palette.mode?x.palette.dark.light+15:x.palette.primary.light,":hover":{boxShadow:"dark"===x.palette.mode?"0 2px 14px 0 rgb(33 150 243 / 10%)":"0 2px 14px 0 rgb(32 40 45 / 8%)"}},f)},O),{},{children:[!h&&v&&Object(d.jsx)(s.a,{sx:{p:2.5},title:Object(d.jsx)(c.a,{variant:"h5",children:v}),action:j}),h&&v&&Object(d.jsx)(s.a,{sx:{p:2.5},title:Object(d.jsx)(c.a,{variant:"h4",children:v}),action:j}),v&&Object(d.jsx)(l.a,{sx:{opacity:1,borderColor:"dark"===x.palette.mode?x.palette.dark.light+15:x.palette.primary.light}}),r&&Object(d.jsx)(u.a,{sx:{p:2.5},className:b||"",children:t}),!r&&t]}))};b.defaultProps={content:!0},t.a=b},664:function(e,t,r){"use strict";var a=r(21),n=r(0),o=r.n(n),i=r(885),s=r(634),c=r(2),l=o.a.forwardRef((function(e,t){var r,n,o=e.children,l=e.type,u=e.direction,d=e.offset,p=e.scale;switch(u){case"up":case"left":r=d,n=0;break;default:r=0,n=d}var b=Object(i.a)(r,n),h=Object(a.a)(b,2),j=h[0],m=h[1],f=Object(i.a)(r,n),v=Object(a.a)(f,2),O=v[0],x=v[1];switch(l){case"rotate":return Object(c.jsx)(s.a.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:o});case"slide":return"up"===u||"down"===u?Object(c.jsx)(s.a.div,{ref:t,animate:{y:void 0!==O?O:""},onHoverEnd:function(){return x()},onHoverStart:function(){return x()},children:o}):Object(c.jsx)(s.a.div,{ref:t,animate:{x:void 0!==j?j:""},onHoverEnd:function(){return m()},onHoverStart:function(){return m()},children:o});default:return Object(c.jsx)(s.a.div,{ref:t,whileHover:{scale:null===p||void 0===p?void 0:p.hover},whileTap:{scale:null===p||void 0===p?void 0:p.tap},children:o})}}));l.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.a=l},666:function(e,t,r){"use strict";var a=r(152),n=r(6),o=r(15),i=r(925),s=r(2),c=["children","horizontal"],l=Object(o.a)((function(e){return Object(s.jsx)(i.a,Object(n.a)({},e))}),{shouldForwardProp:function(e){return"horizontal"!==e}})((function(e){var t=e.theme,r=e.horizontal;return{color:t.palette.text.primary,fontWeight:500,marginBottom:r?0:8}})),u=function(e){var t=e.children,r=e.horizontal,o=Object(a.a)(e,c);return Object(s.jsx)(l,Object(n.a)(Object(n.a)({horizontal:r},o),{},{children:t}))};u.defaultProps={horizontal:!1},t.a=u},691:function(e,t,r){"use strict";var a=r(14),n=r(13),o=r(3),i=r(0),s=(r(8),r(89)),c=r(100),l=r(527),u=r(401),d=r(15),p=r(20),b=r(2);function h(e,t){var r=i.Children.toArray(e).filter(Boolean);return r.reduce((function(e,a,n){return e.push(a),n<r.length-1&&e.push(i.cloneElement(t,{key:"separator-".concat(n)})),e}),[])}function j(e){var t,r=e.values,a=e.base,n=Object.keys(a);return 0===n.length?r:n.reduce((function(e,a){return e[a]="object"===typeof r?null!=r[a]?r[a]:r[t]:r,t=a,e}),{})}var m=Object(d.a)("div",{},{name:"Stack"})((function(e){var t=e.styleProps,r=e.theme,n=Object(o.a)({display:"flex"},Object(s.b)({theme:r},t.direction,(function(e){return{flexDirection:e}})));if(t.spacing){var i=Object(c.a)(r),l=Object.keys(r.breakpoints.values).reduce((function(e,r){return null==t.spacing[r]&&null==t.direction[r]||(e[r]=!0),e}),{}),d=j({values:t.direction,base:l}),p=j({values:t.spacing,base:l});n=Object(u.a)(n,Object(s.b)({theme:r},p,(function(e,r){return{"& > :not(style) + :not(style)":Object(a.a)({margin:0},"margin".concat((n=r?d[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[n])),Object(c.d)(i,e))};var n})))}return n})),f=i.forwardRef((function(e,t){var r=Object(p.a)({props:e,name:"MuiStack"}),a=Object(l.a)(r),i=a.component,s=void 0===i?"div":i,c=a.direction,u=void 0===c?"column":c,d=a.spacing,j=void 0===d?0:d,f=a.divider,v=a.children,O=Object(n.a)(a,["component","direction","spacing","divider","children"]),x={direction:u,spacing:j};return Object(b.jsx)(m,Object(o.a)({as:s,styleProps:x,ref:t},O,{children:f?h(v,f):v}))}));t.a=f},701:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var a=r(1),n=r(0),o=r(37),i=r(155),s=r(93),c=r(314),l=r(294),u=function(e){function t(t){var r=t.options,a=t.context,n=t.result,o=t.setResult,s=e.call(this,r,a)||this;return s.runMutation=function(e){void 0===e&&(e={}),s.onMutationStart();var t=s.generateNewMutationId();return s.mutate(e).then((function(e){return s.onMutationCompleted(e,t),e})).catch((function(e){var r=s.getOptions().onError;if(s.onMutationError(e,t),r)return r(e),{data:void 0,errors:e};throw e}))},s.verifyDocumentType(r.mutation,i.a.Mutation),s.result=n,s.setResult=o,s.mostRecentMutationId=0,s}return Object(a.c)(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,i.a.Mutation),[this.runMutation,Object(a.a)(Object(a.a)({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){return this.refreshClient().client.mutate(Object(l.b)(this.getOptions(),e))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var r=this.getOptions(),a=r.onCompleted,n=r.ignoreResults,o=e.data,i=e.errors,c=i&&i.length>0?new s.a({graphQLErrors:i}):void 0;this.isMostRecentMutation(t)&&!n&&this.updateResult({called:!0,loading:!1,data:o,error:c}),a&&a(o)},t.prototype.onMutationError=function(e,t){this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0})},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){if(this.isMounted&&(!this.previousResult||!Object(o.a)(this.previousResult,e)))return this.setResult(e),this.previousResult=e,e},t}(c.a),d=r(389);function p(e,t){var r=Object(n.useContext)(Object(d.a)()),o=Object(n.useState)({called:!1,loading:!1}),i=o[0],s=o[1],c=t?Object(a.a)(Object(a.a)({},t),{mutation:e}):{mutation:e},l=Object(n.useRef)();var p=(l.current||(l.current=new u({options:c,context:r,result:i,setResult:s})),l.current);return p.setOptions(c),p.context=r,Object(n.useEffect)((function(){return p.afterExecute()})),p.execute(i)}},721:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r(14),n=r(1051),o=r(533),i=r(17),s=r(731),c=r.n(s),l=(r(732),r(2)),u=Object(o.a)((function(e){return{wrapper:{background:e.palette.grey[50],borderRadius:"12px",border:"1px solid rgba(0, 0, 0, 0.23)","&& .selected-flag, &&& .selected-flag.open":{width:"40px",borderRadius:"12px 0 0 12px",borderWidth:"0 1px 0 0"},"&& .flag-dropdown, && .flag-dropdown.open":{borderRadius:"12px 0 0 12px",borderWidth:"0 1px 0 0"}},phoneInput:{"&&&":{padding:"14.5px 14px 14.5px 48px",height:"auto",width:"100%",outline:"none",border:0,background:"transparent",fontSize:"0.875rem",lineHeight:"20px",color:e.palette.grey[900],fontWeight:500,fontFamily:e.typography.fontFamily}},error:{borderColor:e.palette.error.main},helper:{fontSize:"0.75rem",margin:"3px 14px 0"}}})),d=function(e){var t=u(),r=e.name,o=e.value,s=e.onChange,d=e.onBlur,p=e.error,b=e.country,h=void 0===b?"":b,j=e.placeholder,m=void 0===j?"":j;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{tabIndex:-1,className:Object(i.a)("MuiOutlinedInput-input",t.wrapper,Object(a.a)({},t.error,p)),children:Object(l.jsx)(c.a,{country:h.toLowerCase(),placeholder:m,value:o,onChange:s,inputProps:{className:Object(i.a)("form-control",t.phoneInput),onBlur:d,name:r}})}),p?Object(l.jsx)(n.a,{className:t.helper,error:!0,children:p}):null]})}},723:function(e,t,r){"use strict";var a=r(3),n=r(13),o=r(0),i=(r(8),r(17)),s=r(616),c=r(15),l=r(20),u=r(1110),d=r(1111),p=r(1105),b=r(925),h=r(1112),j=r(1051),m=r(1097),f=r(525),v=r(617);function O(e){return Object(f.a)("MuiTextField",e)}Object(v.a)("MuiTextField",["root"]);var x=r(2),g={standard:u.a,filled:d.a,outlined:p.a},y=Object(c.a)(h.a,{},{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),w=o.forwardRef((function(e,t){var r=Object(l.a)({props:e,name:"MuiTextField"}),c=r.autoComplete,u=r.autoFocus,d=void 0!==u&&u,p=r.children,h=r.className,f=r.color,v=void 0===f?"primary":f,w=r.defaultValue,N=r.disabled,R=void 0!==N&&N,M=r.error,P=void 0!==M&&M,C=r.FormHelperTextProps,F=r.fullWidth,S=void 0!==F&&F,I=r.helperText,k=r.id,G=r.InputLabelProps,T=r.inputProps,B=r.InputProps,E=r.inputRef,q=r.label,L=r.maxRows,W=r.minRows,H=r.multiline,D=void 0!==H&&H,U=r.name,z=r.onBlur,V=r.onChange,A=r.onFocus,_=r.placeholder,J=r.required,Q=void 0!==J&&J,K=r.rows,X=r.select,Y=void 0!==X&&X,Z=r.SelectProps,$=r.type,ee=r.value,te=r.variant,re=void 0===te?"outlined":te,ae=Object(n.a)(r,["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"]),ne=Object(a.a)({},r,{autoFocus:d,color:v,disabled:R,error:P,fullWidth:S,multiline:D,required:Q,select:Y,variant:re}),oe=function(e){var t=e.classes;return Object(s.a)({root:["root"]},O,t)}(ne);var ie={};if("outlined"===re&&(G&&"undefined"!==typeof G.shrink&&(ie.notched=G.shrink),q)){var se,ce=null!==(se=null===G||void 0===G?void 0:G.required)&&void 0!==se?se:Q;ie.label=Object(x.jsxs)(o.Fragment,{children:[q,ce&&"\xa0*"]})}Y&&(Z&&Z.native||(ie.id=void 0),ie["aria-describedby"]=void 0);var le=I&&k?"".concat(k,"-helper-text"):void 0,ue=q&&k?"".concat(k,"-label"):void 0,de=g[re],pe=Object(x.jsx)(de,Object(a.a)({"aria-describedby":le,autoComplete:c,autoFocus:d,defaultValue:w,fullWidth:S,multiline:D,name:U,rows:K,maxRows:L,minRows:W,type:$,value:ee,id:k,inputRef:E,onBlur:z,onChange:V,onFocus:A,placeholder:_,inputProps:T},ie,B));return Object(x.jsxs)(y,Object(a.a)({className:Object(i.a)(oe.root,h),disabled:R,error:P,fullWidth:S,ref:t,required:Q,color:v,variant:re,styleProps:ne},ae,{children:[q&&Object(x.jsx)(b.a,Object(a.a)({htmlFor:k,id:ue},G,{children:q})),Y?Object(x.jsx)(m.a,Object(a.a)({"aria-describedby":le,id:k,labelId:ue,value:ee,input:pe},Z,{children:p})):pe,I&&Object(x.jsx)(j.a,Object(a.a)({id:le},C,{children:I}))]}))}));t.a=w},738:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(319);function n(e,t){return Object(a.a)(e,t,!1)}},756:function(e,t,r){"use strict";var a=r(14),n=r(13),o=r(3),i=r(0),s=(r(8),r(17)),c=r(616),l=r(15),u=r(20),d=r(525),p=r(617);function b(e){return Object(d.a)("MuiMenuItem",e)}Object(p.a)("MuiMenuItem",["root","gutters","selected","dense"]);var h=r(547),j=r(2),m=Object(l.a)(h.a,{shouldForwardProp:function(e){return Object(l.b)(e)||"classes"===e}},{name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var r=e.styleProps;return Object(o.a)({},Object(h.c)(e,t),r.dense&&t.dense)}})((function(e){var t=e.theme,r=e.styleProps;return Object(o.a)({},t.typography.body1,Object(a.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",whiteSpace:"nowrap"},t.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&Object(o.a)({},t.typography.body2,{minHeight:"auto"}))})),f=i.forwardRef((function(e,t){var r,a=Object(u.a)({props:e,name:"MuiMenuItem"}),i=a.className,l=a.component,d=void 0===l?"li":l,p=a.dense,f=void 0!==p&&p,v=a.disableGutters,O=void 0!==v&&v,x=a.ListItemClasses,g=a.role,y=void 0===g?"menuitem":g,w=a.selected,N=a.tabIndex,R=Object(n.a)(a,["className","component","dense","disableGutters","ListItemClasses","role","selected","tabIndex"]),M={dense:f},P=function(e){var t=e.selected,r=e.dense,a=e.classes,n={root:["root",t&&"selected",r&&"dense"]};return Object(c.a)(n,b,a)}(a);return a.disabled||(r=void 0!==N?N:-1),Object(j.jsx)(h.b,Object(o.a)({components:{Root:m},componentsProps:{root:{styleProps:M}},button:!0,role:y,tabIndex:r,component:d,selected:w,disableGutters:O,className:Object(s.a)(P.root,i),ref:t},R,{classes:x}))}));t.a=f},787:function(e,t,r){"use strict";r(0);var a=r(645),n=r(723),o=r(1097),i=r(756),s=r(691),c=r(657),l=r(661),u=r(18),d=r.n(u),p=r(664),b=r(128),h=r(33),j=r(721),m=r(666),f=r(662),v=r(2);t.a=function(e){var t=e.isGroupDisable,r=e.groups,u=e.isAddNew,O=e.isDisableEmail,x=void 0===O||O,g=Object(l.d)(),y=g.values,w=g.handleChange,N=g.handleBlur,R=g.touched,M=g.errors,P=g.setFieldValue,C=g.isSubmitting,F=u?"Add New User":"Edit Account Details",S=u?"Save":"Update";return Object(v.jsx)(a.a,{container:!0,spacing:b.b,children:Object(v.jsx)(a.a,{item:!0,sm:6,md:8,children:Object(v.jsxs)(f.a,{title:F,children:[Object(v.jsxs)(a.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"First Name"}),Object(v.jsx)(n.a,{value:y.firstName,fullWidth:!0,placeholder:"First Name",onChange:w,onBlur:N,error:R.firstName&&Boolean(M.firstName),helperText:R.firstName&&M.firstName,name:"firstName",variant:"outlined"})]}),Object(v.jsxs)(a.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"Last Name"}),Object(v.jsx)(n.a,{id:"lastName",value:y.lastName,fullWidth:!0,placeholder:"Last Name",onChange:w,onBlur:N,error:R.lastName&&Boolean(M.lastName),helperText:R.lastName&&M.lastName,name:"lastName"})]}),Object(v.jsxs)(a.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"Email"}),Object(v.jsx)(n.a,{id:"email",value:y.email,fullWidth:!0,placeholder:"Email",onChange:w,onBlur:N,error:R.email&&Boolean(M.email),helperText:R.email&&M.email,name:"email",disabled:x})]}),Object(v.jsxs)(a.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"Phone"}),Object(v.jsx)(j.a,{country:h.a.locate.countryCode,placeholder:"",value:y.phone,onChange:function(e){return P("phone",e)},onBlur:N,name:"phone",error:R.phone&&M.phone})]}),Object(v.jsxs)(a.a,{item:!0,xs:12,lg:6,sx:{mb:2},children:[Object(v.jsx)(m.a,{children:"User Group"}),Object(v.jsxs)(o.a,{value:y.userGroup,labelId:"userGroup",id:"userGroup",onChange:w,disabled:t,onBlur:N,name:"userGroup",displayEmpty:!0,error:R.userGroup&&Boolean(M.userGroup),children:[Object(v.jsx)(i.a,{value:"",disabled:!0,children:Object(v.jsx)("em",{children:"None"})}),r.map((function(e){var t=d()(e,"GroupName"),r=d()(e,"Description");return Object(v.jsx)(i.a,{value:t,children:r},t)}))]})]}),Object(v.jsx)(a.a,{item:!0,xs:12,children:Object(v.jsx)(s.a,{direction:"row",justifyContent:"flex-end",children:Object(v.jsx)(p.a,{children:Object(v.jsx)(c.a,{color:"primary",variant:"contained",type:"submit",disabled:C,children:S})})})})]})})})}},788:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r(675),n=r(74),o=r.n(n),i=r(316),s=r(22),c="First Name is required",l="Last Name is required",u="User Group is required",d=a.c().shape({email:a.e().required("Email is required").email("Please enter a valid email address."),firstName:a.e().required(c),lastName:a.e().required(l),userGroup:a.e().required(u),phone:a.e().test("Phone Number Test","Please enter a valid phone number",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(s.c)(e);return o()(e)||Object(i.a)(t||"")}))})}}]);
//# sourceMappingURL=25.8c0b73e1.chunk.js.map