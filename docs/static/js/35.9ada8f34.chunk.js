(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[35],{1100:function(e,t,a){"use strict";a.r(t);var r=a(55),n=a(26),o=a(52),s=a.n(o),c=a(91),i=a(20),u=a(0),d=a.n(u),m=a(11),f=a.n(m),l=a(43),p=a.n(l),b=a(710),v=a(146),O=a(140),j=a(312),S=a(718),g=a(768),x=a(98),h=a(153),I=a(288),F=a(2),D=function(e){var t=e.formId,a=e.itemId,r=e.onCompleteHandler,n=e.onSaveExitHandler,o=e.onPageChangedHandler,s=e.onFilesUploadHandler,c=e.onAfterRenderSurveyHandler,i=e.isProcessing,d=Object(x.f)(),m=Object(b.a)(Object(v.d)(O.a.getFormTemplateAndData),{variables:{FormId:t,ItemId:a}}),l=m.data,D=m.error,y=m.loading;Object(u.useEffect)((function(){if(D){var e=f()(D,"message")||S.a.COMMON;d({message:e})}}),[D]);var H=f()(l,"formdata_GetFormData",{}),C=f()(H,"Form",{}),A=f()(C,"Title",{}),E=f()(C,["FormTypeId"],""),w=f()(C,["Template"],""),T=f()(H,["FormData","DataValue"],""),k=Object(j.c)(f()(H,["FormData","DataStatus"],"")),P=f()(H,"FormProperty","");return Object(F.jsxs)(F.Fragment,{children:[(y||i)&&Object(F.jsx)(h.a,{}),!p()(w)&&!y&&Object(F.jsx)(I.a,{title:A,sx:{mb:3},children:Object(F.jsx)(g.a,{formType:E,formProperty:P,mode:k,formTemplate:w,onCompleteHandler:r,onSaveExitHandler:n,onPageChangedHandler:o,onFilesUploadHandler:s,formData:T,onAfterRenderSurveyHandler:c})})]})},y=a(21),H=[],C=function(e){var t=Object(x.f)(),a=d.a.useState(!1),r=Object(i.a)(a,2),o=r[0],u=r[1],m=d.a.useState(!1),l=Object(i.a)(m,2),b=l[0],v=l[1],O=e.formId,j=e.itemId,g=e.saveExitAction,h=e.onAfterRenderSurveyHandler,I=Object(x.b)(),C=I.doSave,A=I.savedData,E=I.isSaving,w=I.doSubmit,T=I.submittedData,k=I.isSubmitting;d.a.useEffect((function(){var e=f()(T,["formdata_SubmitFormData","urls"])||f()(A,["formdata_SaveFormData","urls"])||!1,t=function(){var t=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p()(e)){t.next=6;break}return v(!0),t.next=4,Object(y.F)(H,e);case 4:v(!1),H=[];case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),o&&g()}),[T,A,H,o]);var P=function(){var e=Object(c.a)(s.a.mark((function e(t,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify(Object(y.n)(t,a)),e.abrupt("return",C({variables:{FormData:r,FormId:O,ItemId:j}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(s.a.mark((function e(a,r){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(a,r);case 3:u(!0),t({alertSeverity:"success",message:S.b.DATA_SAVED_SUCCESS}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n=f()(e.t0,"message")||S.a.COMMON,t({message:n});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(s.a.mark((function e(a,r){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify(Object(y.n)(a,r)),e.next=4,w({variables:{FormData:n,FormId:O,ItemId:j}});case 4:u(!0),t({alertSeverity:"success",message:S.b.DATA_SAVED_SUCCESS}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),o=f()(e.t0,"message")||S.a.COMMON,t({message:o});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),R=function(e){e.push.apply(e,Object(n.a)(e))},N=E||k||b;return Object(F.jsx)(D,{onSaveExitHandler:_,onPageChangedHandler:function(e,t){return P(e,t)},onFilesUploadHandler:function(e){var t=e.options;return Object(y.C)(t,R)},onCompleteHandler:M,itemId:j,formId:O,isProcessing:N,onAfterRenderSurveyHandler:h})},A=a(28);t.default=function(){var e=Object(r.j)(),t=e.itemId,a=e.formId,n=Object(r.h)();return Object(F.jsx)(C,{itemId:t,formId:a,saveExitAction:function(){var e=Object(r.f)(A.c.PROPERTY_EDIT,{id:t});n.push(e)}})}}}]);
//# sourceMappingURL=35.9ada8f34.chunk.js.map