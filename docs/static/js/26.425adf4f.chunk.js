(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[26],{1101:function(e,t,n){"use strict";n.r(t);var a=n(308),i=n(21),r=n(0),c=n(15),s=n.n(c),o=n(727),l=n(147),d=n(528),u=n(216),j=n(153),b=n(31),g=n(522),f=n(29),O=n(652),m=n(643),p=n(616),h=n(919),x=n(656),y=n(757),v=n.n(y),S=n(873),C=n(2),N=Object(g.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:{backgroundColor:Object(f.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),P=function(e){var t=N(),n=e.onSearch,a=e.onTriggerSearch,c=e.statuses,s=e.search,o=e.setSearch,l=e.selectedStatuses,d=e.setSelectedStatuses,u=Object(r.useState)(!1),j=Object(i.a)(u,2),b=j[0],g=j[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{className:t.root,children:Object(C.jsx)(S.a,{onSearch:n,onTriggerSearch:a,statuses:c,search:s,setSearch:o,selectedStatuses:l,setSelectedStatuses:d,openFilter:b})}),Object(C.jsx)(m.a,{container:!0,alignItems:"center",justifyContent:"flex-end",children:Object(C.jsx)(p.a,{sx:{display:{xs:"block",lg:"none"}},children:Object(C.jsx)(h.a,{title:"Filter",children:Object(C.jsx)(x.a,{sx:{width:"48px",height:"48px"},onClick:function(){return g(!b)},children:Object(C.jsx)(v.a,{})})})})})]})},I=n(823),F=n(101),k=n(771),A=function(){var e=Object(F.e)(),t=Object(o.a)(Object(l.d)(u.a.getOffers),{variables:{PageIndex:0,PageSize:b.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),n=t.loading,a=t.error,c=t.data,g=t.fetchMore,f=Object(o.a)(Object(l.d)(u.a.listOfferSteps)),O=f.loading,m=f.error,p=f.data,h=Object(r.useState)(!1),x=Object(i.a)(h,2),y=x[0],v=x[1],S=Object(r.useState)(""),N=Object(i.a)(S,2),A=N[0],w=N[1],T=Object(r.useState)([]),L=Object(i.a)(T,2),B=L[0],D=L[1],R=Object(d.a)(Object(l.d)(u.a.getOffers)),z=Object(i.a)(R,2),M=z[0],W=z[1],H=W.loading,Y=W.data,q=Object(r.useState)([]),E=Object(i.a)(q,2),J=E[0],V=E[1],Q=Object(r.useState)(!1),_=Object(i.a)(Q,2),G=_[0],K=_[1],U=Object(r.useState)(0),X=Object(i.a)(U,2),Z=X[0],$=X[1];Object(r.useEffect)((function(){var e=y?Y:c,t=s()(e,"getOffers.Count",0),n=s()(e,"getOffers.Total",0);K(t<n),$(s()(e,"getOffers.PageIndex")||0),V(s()(e,"getOffers.Items")||[])}),[c,Y,y]);var ee=n||H;if((ee||O)&&!c)return Object(C.jsx)(j.a,{});(a||m)&&e({message:s()(a,"message","Something went wrong"),alertSeverity:"error"});var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(I.a)({search:A,selectedStatuses:B}),n=t.query,a=t.statusIds;n&&M({variables:{PageIndex:e,PageSize:b.a.pagination.limit,Query:n.trim(),StepIds:a}}),v(Boolean(n))},ne=s()(p,["listOfferSteps"],[]).map((function(e){return{Id:s()(e,"id"),Name:s()(e,"messages.advisor")}}));return Object(C.jsxs)(C.Fragment,{children:[H&&Object(C.jsx)(j.a,{}),Object(C.jsx)(P,{onSearch:te,onTriggerSearch:v,statuses:ne,search:A,setSearch:w,selectedStatuses:B,setSelectedStatuses:D}),Object(C.jsx)(k.a,{offers:J,isLoading:ee,hasMore:G,loadMore:function(){y?te(Z+1):g({variables:{PageIndex:Z+1,PageSize:b.a.pagination.limit}})}})]})},w=n(686),T=n(371),L=n(687);t.default=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(w.a,{navigation:Object(L.c)(T.a),icon:!0}),Object(C.jsx)(a.a,{title:"Offers List",children:Object(C.jsx)(A,{})})]})}},685:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return y})),n.d(t,"c",(function(){return v}));n(14);var a=n(15),i=n.n(a),r=n(42),c=n.n(r),s=n(22),o=n(31),l="Done",d="Yes",u="No",j="Cash",b={saleOfHomeContingency:"SaleOfHomeContingency",financeContingency:"FinanceContingency",inspectionContingency:"InspectionContingency",appraisalContingency:"AppraisalContingency"},g=function(e,t){var n=i()(e,"Contingencies.".concat(t));if(!n||n===u)return{dueDate:"N/A",status:"N/A"};var a=i()(e,"Contingencies.SignedPAConfirmedAt"),r=i()(e,"Contingencies.".concat(t,"Days"));return{status:i()(e,["Contingencies","".concat(t,"Removed")])===d?l:d,dueDate:r?c()(a).add(r,"days").format("MM/DD/YYYY"):"N/A"}},f=[{id:"OfferNo",numeric:!1,disablePadding:!1,label:"Offer No"},{id:"BuyerInfo.FirstName",numeric:!1,disablePadding:!1,label:"Buyer Name"},{id:"AgentInfo.FirstName",numeric:!1,disablePadding:!1,label:"Buyer Agent Name"},{id:"OfferPrice",numeric:!1,disablePadding:!1,label:"Offer Price"},{id:"Funding.PurchaseType",numeric:!1,disablePadding:!1,label:"Funding \nType"},{id:"Funding.LoanType",numeric:!1,disablePadding:!1,label:"Loan \nType"},{id:"Funding.DownPayment",numeric:!1,disablePadding:!1,label:"Down \nPayment"},{id:"FinanceContingency",numeric:!1,disablePadding:!1,label:"Financing"},{id:"InspectionContingency",numeric:!1,disablePadding:!1,label:"Inspection"},{id:"AppraisalContingency",numeric:!1,disablePadding:!1,label:"Appraisal"},{id:"SaleOfHomeContingency",numeric:!1,disablePadding:!1,label:"Home Sale"},{id:"ClosingPeriod",numeric:!1,disablePadding:!1,label:"Closing \n Period"},{id:"Step.messages.seller",numeric:!1,disablePadding:!0,label:"Status"}];var O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Funding.PurchaseType";if(t.includes(b.saleOfHomeContingency))return i()(e,"".concat(t))||"N/A";if(t.includes(b.financeContingency)&&i()(e,n,"")===j)return"N/A";var a=i()(e,"".concat(t));if(!a)return"N/A";var r=i()(e,"".concat(t,"Days"));return+r?"".concat(r," days"):"No"},m="Cash",p=function(e){var t=i()(e,"Funding")||{},n=t.PurchaseType,a=t.CashProofOfFundsAmount,r=t.FinancingProofOfFundsAmount;if(!n)return"";var c=n===m?a:r;return Object(s.h)(c||0)},h=function(e){return i()(e,["Closing","ListingAgent"])},x=function(e){return i()(e,["OnMarket","ListingAgent"])},y=function(e){return i()(e,"FirstName")?"".concat(i()(e,"FirstName")," ").concat(i()(e,"LastName")):o.a.defaultText.noValue},v=function(e){return i()(e,"Funding.PurchaseType","")===j?"N/A":i()(e,"Funding.LoanType","")}},686:function(e,t,n){"use strict";var a=n(6),i=n(27),r=n(21),c=n(152),s=n(0),o=n(58),l=n(522),d=n(532),u=n(533),j=n(535),b=n(643),g=n(534),f=n(770),O=n(692),m=n.n(O),p=n(693),h=n.n(p),x=n(684),y=n.n(x),v=n(67),S=n(128),C=n(2),N=["card","divider","icon","icons","maxItems","navigation","rightAlign","title","titleBottom"],P=Object(l.a)((function(e){return{link:{display:"flex",color:e.palette.grey[900],textDecoration:"none",alignContent:"center",alignItems:"center"},activeLink:{display:"flex",textDecoration:"none",alignContent:"center",alignItems:"center",color:e.palette.grey[500]},icon:{marginRight:e.spacing(.75),marginTop:"-".concat(e.spacing(.25)),width:"1rem",height:"1rem",color:e.palette.secondary.main},separator:{width:16,marginLeft:8,marginRight:8},content:{padding:"16px !important"},noPadding:{padding:"16px !important",paddingLeft:"0 !important"},card:{marginBottom:e.spacing(S.b),border:"1px solid",borderColor:"dark"===e.palette.mode?e.palette.background.default:e.palette.primary[200]+75},root:{background:"transparent",boxShadow:"none",border:"none"},titleTop:{marginBottom:e.spacing(1)},titleBottom:{marginTop:e.spacing(1)},divider:{borderColor:e.palette.primary.main,marginBottom:e.spacing(S.b)}}}));t.a=function(e){var t=e.card,n=e.divider,l=e.icon,O=e.icons,p=e.maxItems,x=e.navigation,S=e.rightAlign,I=e.title,F=e.titleBottom,k=Object(c.a)(e,N),A=P(),w=Object(s.useState)([]),T=Object(r.a)(w,2),L=T[0],B=T[1],D=Object(s.useState)(),R=Object(r.a)(D,2),z=R[0],M=R[1];Object(s.useEffect)((function(){var e;L.length||null===x||void 0===x||null===(e=x.items)||void 0===e||e.map((function(e,t){return e.type&&"group"===e.type&&W(e,t),!1}))}),[]);var W=function e(t,n){t.children&&t.children.filter((function(t){return t.type&&"collapse"===t.type?(B((function(e){return[].concat(Object(i.a)(e),[t])})),e(t)):t.type&&"item"===t.type&&document.location.hash.includes("#".concat(t.url))&&M(t),!1}))},H=A.card;!1===t&&(H=A.root);var Y,q=A.content;!1===t&&(q=A.noPadding);var E,J=Object(C.jsx)(d.a,{}),V="",Q=L.map((function(e){if("collapse"!==e.type)return Object(C.jsx)(C.Fragment,{});var t=e.icon?e.icon:m.a;return Object(C.jsxs)(d.a,{component:o.c,to:e.url||"#",variant:"subtitle1",className:A.link,children:[O&&Object(C.jsx)(t,{className:A.icon}),e.title]},e.id)}));return z&&"item"===z.type&&(V=z.title,E=z.icon?z.icon:m.a,Y=Object(C.jsxs)(d.a,{variant:"subtitle1",className:A.activeLink,children:[O&&Object(C.jsx)(E,{className:A.icon}),V]}),!1!==z.breadcrumbs&&(J=Object(C.jsxs)(u.a,Object(a.a)(Object(a.a)({className:H},k),{},{children:[Object(C.jsx)(j.a,{className:q,children:Object(C.jsxs)(b.a,{container:!0,direction:S?"row":"column",justifyContent:S?"space-between":"flex-start",alignItems:S?"center":"flex-start",spacing:1,children:[I&&!F&&Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",z.title," "]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(f.a,{classes:{separator:A.separator},"aria-label":"breadcrumb",maxItems:p||8,separator:Object(C.jsx)(v.b,{stroke:1.5,size:"1rem"}),children:[Object(C.jsxs)(d.a,{component:o.c,to:"/",color:"inherit",variant:"subtitle1",className:A.link,children:[O&&Object(C.jsx)(y.a,{className:A.icon}),l&&Object(C.jsx)(h.a,{className:A.icon,style:{marginRight:0}}),!l&&"Dashboard"]}),Q,Y]})}),I&&F&&Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",z.title," "]})})]})}),!1===t&&!1!==n&&Object(C.jsx)(g.a,{className:A.divider})]})))),J}},687:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var a=n(6),i=n(143),r=n(2),c=function(e,t){var n=e.id,i=e.url,r=t.id,c=t.url;return Object(a.a)(Object(a.a)({},s({title:"property",id:n,url:i})),{},{type:"collapse",children:[s({title:"offer",id:r,url:c})]})},s=function(e){var t=e.url,n=e.id,a=e.title;return{id:n,title:Object(r.jsx)(i.a,{id:a,values:{id:n}}),url:t,type:"item"}},o=function(e,t){return{items:[{type:"group",children:[Object(a.a)(Object(a.a)({},e),{},{children:t?[t]:e.children})]}]}}},698:function(e,t,n){"use strict";var a=n(655),i=n(643),r=n(866),c=n(67),s=n(863),o=n(522),l=n(2),d=Object(s.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(a.a),u=Object(o.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,a=e.loading,s=u();return Object(l.jsx)(i.a,{container:!0,className:s.toolbar,justifyContent:"center",children:Object(l.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||a,children:a?Object(l.jsx)(r.a,{size:24}):Object(l.jsx)(c.a,{})})})}},719:function(e,t,n){"use strict";var a=n(522),i=n(1107),r=n(1100),c=n(739),s=n(656),o=n(67),l=n(2),d=Object(a.a)((function(e){return{searchControl:{paddingRight:"16px",paddingLeft:"16px","& input":{background:"transparent !important",paddingLeft:"5px !important"}},startAdornment:{fontSize:"1rem",color:e.palette.grey[500]},resetButton:{width:"22px",height:"22px"},formControl:{width:"100%"}}}));t.a=function(e){var t=e.search,n=e.setSearch,a=d();return Object(l.jsx)(i.a,{variant:"outlined",className:a.formControl,children:Object(l.jsx)(r.a,{className:a.searchControl,name:"search",value:t,onChange:function(e){n(e.target.value)},placeholder:"Search",startAdornment:Object(l.jsx)(c.a,{position:"start",children:Object(l.jsx)(o.j,{stroke:1.5,size:"1rem",className:a.startAdornment})}),endAdornment:t?Object(l.jsx)(s.a,{type:"button",size:"small",className:a.resetButton,onClick:function(){n("")},children:Object(l.jsx)(o.m,{stroke:1.5,size:"1rem"})}):Object(l.jsx)(l.Fragment,{}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})}},771:function(e,t,n){"use strict";n(0);var a=n(66),i=n.n(a),r=n(788),c=n(789),s=n(790),o=n(786),l=n(787),d=n(656),u=n(643),j=n(637),b=n(728),g=n.n(b),f=n(522),O=n(56),m=n(6),p=n(785),h=n(864),x=n(801),y=n(685),v=n(183),S=n(2),C=Object(f.a)((function(){return{sortSpan:Object(m.a)({},x.a),cell:{whiteSpace:"pre"}}})),N=function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,i=C(),r=function(e){return n&&n.id===e.id};return Object(S.jsx)(p.a,{children:Object(S.jsxs)(o.a,{children:[y.i.map((function(e){return Object(S.jsx)(l.a,{align:"left",padding:e.disablePadding?"none":"normal",sortDirection:r(e)?t:void 0,className:i.cell,children:a?Object(S.jsxs)(h.a,{active:r(e),direction:r(e)?t:v.a.ASC,onClick:function(){return a&&a(e)},children:[e.label,r(e)?Object(S.jsx)("span",{className:i.sortSpan,children:t===v.a.DESC?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)})),Object(S.jsx)(l.a,{align:"center",sx:{pr:3},children:"Action"})]})})},P=n(698),I=n(22),F=n(28),k=Object(f.a)((function(){return{table:{minWidth:"750px"}}}));t.a=function(e){var t=e.offers,n=e.isLoading,a=e.hasMore,b=e.loadMore,f=e.propertyId,m=e.order,p=e.orderBy,h=e.onRequestSort,x=k(),y=Object(O.h)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(r.a,{children:Object(S.jsxs)(c.a,{className:x.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(S.jsx)(N,{order:m,orderBy:p,onRequestSort:h}),Object(S.jsx)(s.a,{children:t.map((function(e){if("number"===typeof e)return null;var t=Object(I.m)(e),n=t.offerId,a=t.offerNo,i=t.buyerName,r=t.agentName,c=t.price,s=t.funding,u=t.loanType,j=t.downPayment,b=t.inspectionContingency,m=t.saleOfHomeContingency,p=t.financeContingency,h=t.appraisalContingency,x=t.closingPeriod,v=t.status;return Object(S.jsxs)(o.a,{hover:!0,tabIndex:-1,children:[Object(S.jsx)(l.a,{align:"left",children:a}),Object(S.jsx)(l.a,{align:"left",children:i}),Object(S.jsx)(l.a,{align:"left",children:r}),Object(S.jsx)(l.a,{align:"left",children:c}),Object(S.jsx)(l.a,{align:"left",children:s}),Object(S.jsx)(l.a,{align:"left",children:u}),Object(S.jsx)(l.a,{align:"left",children:j}),Object(S.jsx)(l.a,{align:"left",children:p}),Object(S.jsx)(l.a,{align:"left",children:b}),Object(S.jsx)(l.a,{align:"left",children:h}),Object(S.jsx)(l.a,{align:"left",children:m}),Object(S.jsx)(l.a,{align:"left",children:x}),Object(S.jsx)(l.a,{align:"left",children:v}),Object(S.jsx)(l.a,{align:"center",sx:{pr:3},children:Object(S.jsx)(d.a,{color:"primary",onClick:function(){return function(e,t){var n=null!==f&&void 0!==f?f:t,a=Object(O.f)(F.c.PROPERTY_OFFER,{propertyId:n,offerId:e});y.push(a)}(e.OfferId,e.PropertyId)},children:Object(S.jsx)(g.a,{sx:{fontSize:"1.3rem"}})})})]},n)}))})]})}),i()(t)&&!n&&Object(S.jsx)(u.a,{item:!0,xs:12,children:Object(S.jsx)(j.a,{icon:!1,severity:"info",children:"No Records found"})}),a&&b&&Object(S.jsx)(P.a,{onLoadMore:b,loading:n})]})}},823:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(15),i=n.n(a),r=n(66),c=n.n(r),s=function(e){var t=e.search,n=e.selectedStatuses.map((function(e){return i()(e,"Id")}));return{query:c()(n)||t?t:"*",statusIds:c()(n)?void 0:n}}},873:function(e,t,n){"use strict";n(0);var a=n(643),i=n(655),r=n(66),c=n.n(r),s=n(522),o=n(719),l=n(6),d=n(1107),u=n(917),j=n(714),b=n(15),g=n.n(b),f=n(157),O=n.n(f),m=n(2),p=Object(s.a)((function(){return{formControl:{width:"100%"}}})),h=function(e){var t=e.selectedStatuses,n=e.setSelectedStatuses,a=e.statuses,i=p();return Object(m.jsx)(d.a,{variant:"outlined",className:i.formControl,children:Object(m.jsx)(u.a,{value:t,onChange:function(e,t){n(O()(t,"Id"))},fullWidth:!0,multiple:!0,limitTags:1,options:a,getOptionLabel:function(e){return g()(e,"Name","")},defaultValue:[],renderInput:function(e){return Object(m.jsx)(j.a,Object(l.a)(Object(l.a)({},e),{},{label:"Status",variant:"outlined",multiline:!1}))}})})},x=Object(s.a)((function(){return{form:{width:"100%"}}}));t.a=function(e){var t=e.onSearch,n=e.onTriggerSearch,r=e.statuses,s=e.search,l=e.setSearch,d=e.selectedStatuses,u=e.setSelectedStatuses,j=e.openFilter,b=void 0===j||j,g=x(),f={display:{xs:b?"block":"none",lg:"block"}};return Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),t()},className:g.form,children:Object(m.jsxs)(a.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(m.jsx)(a.a,{item:!0,xs:12,lg:4,children:Object(m.jsx)(o.a,{search:s,setSearch:l})}),!c()(r)&&Object(m.jsx)(a.a,{item:!0,xs:12,lg:6,sx:f,children:Object(m.jsx)(h,{selectedStatuses:d,setSelectedStatuses:u,statuses:r})}),Object(m.jsx)(a.a,{item:!0,xs:12,lg:1,sx:f,children:Object(m.jsx)(i.a,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,children:"Search"})}),Object(m.jsx)(a.a,{item:!0,xs:12,lg:1,sx:f,children:Object(m.jsx)(i.a,{type:"button",variant:"outlined",size:"large",fullWidth:!0,onClick:function(){l(""),u([]),n(!1)},children:"Reset"})})]})})}}}]);
//# sourceMappingURL=26.425adf4f.chunk.js.map