(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[26],{1104:function(e,t,n){"use strict";n.r(t);var a=n(308),r=n(21),i=n(0),c=n(18),s=n.n(c),o=n(729),l=n(147),d=n(530),u=n(217),j=n(153),b=n(33),f=n(524),g=n(29),O=n(654),p=n(645),h=n(618),m=n(921),x=n(658),v=n(759),y=n.n(v),S=n(875),C=n(2),N=Object(f.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:{backgroundColor:Object(g.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),P=function(e){var t=N(),n=e.onSearch,a=e.onTriggerSearch,c=e.statuses,s=e.search,o=e.setSearch,l=e.selectedStatuses,d=e.setSelectedStatuses,u=Object(i.useState)(!1),j=Object(r.a)(u,2),b=j[0],f=j[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{className:t.root,children:Object(C.jsx)(S.a,{onSearch:n,onTriggerSearch:a,statuses:c,search:s,setSearch:o,selectedStatuses:l,setSelectedStatuses:d,openFilter:b})}),Object(C.jsx)(p.a,{container:!0,alignItems:"center",justifyContent:"flex-end",children:Object(C.jsx)(h.a,{sx:{display:{xs:"block",lg:"none"}},children:Object(C.jsx)(m.a,{title:"Filter",children:Object(C.jsx)(x.a,{sx:{width:"48px",height:"48px"},onClick:function(){return f(!b)},children:Object(C.jsx)(y.a,{})})})})})]})},A=n(825),I=n(101),F=n(773),k=function(){var e=Object(I.e)(),t=Object(o.a)(Object(l.d)(u.a.getOffers),{variables:{PageIndex:0,PageSize:b.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),n=t.loading,a=t.error,c=t.data,f=t.fetchMore,g=Object(o.a)(Object(l.d)(u.a.listOfferSteps)),O=g.loading,p=g.error,h=g.data,m=Object(i.useState)(!1),x=Object(r.a)(m,2),v=x[0],y=x[1],S=Object(i.useState)(""),N=Object(r.a)(S,2),k=N[0],w=N[1],D=Object(i.useState)([]),T=Object(r.a)(D,2),L=T[0],R=T[1],z=Object(d.a)(Object(l.d)(u.a.getOffers)),B=Object(r.a)(z,2),M=B[0],W=B[1],Y=W.loading,q=W.data,E=Object(i.useState)([]),H=Object(r.a)(E,2),J=H[0],Q=H[1],V=Object(i.useState)(!1),_=Object(r.a)(V,2),G=_[0],K=_[1],U=Object(i.useState)(0),X=Object(r.a)(U,2),Z=X[0],$=X[1];Object(i.useEffect)((function(){var e=v?q:c,t=s()(e,"getOffers.Count",0),n=s()(e,"getOffers.Total",0);K(t<n),$(s()(e,"getOffers.PageIndex")||0),Q(s()(e,"getOffers.Items")||[])}),[c,q,v]);var ee=n||Y;if((ee||O)&&!c)return Object(C.jsx)(j.a,{});(a||p)&&e({message:s()(a,"message","Something went wrong"),alertSeverity:"error"});var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(A.a)({search:k,selectedStatuses:L}),n=t.query,a=t.statusIds;n&&M({variables:{PageIndex:e,PageSize:b.a.pagination.limit,Query:n.trim(),StepIds:a}}),y(Boolean(n))},ne=s()(h,["listOfferSteps"],[]).map((function(e){return{Id:s()(e,"id"),Name:s()(e,"messages.advisor")}}));return Object(C.jsxs)(C.Fragment,{children:[Y&&Object(C.jsx)(j.a,{}),Object(C.jsx)(P,{onSearch:te,onTriggerSearch:y,statuses:ne,search:k,setSearch:w,selectedStatuses:L,setSelectedStatuses:R}),Object(C.jsx)(F.a,{offers:J,isLoading:ee,hasMore:G,loadMore:function(){v?te(Z+1):f({variables:{PageIndex:Z+1,PageSize:b.a.pagination.limit}})}})]})},w=n(687),D=n(373),T=n(688);t.default=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(w.a,{navigation:Object(T.c)(D.a),icon:!0}),Object(C.jsx)(a.a,{title:"Offers List",children:Object(C.jsx)(k,{})})]})}},687:function(e,t,n){"use strict";var a=n(6),r=n(27),i=n(21),c=n(152),s=n(0),o=n(58),l=n(524),d=n(534),u=n(535),j=n(537),b=n(645),f=n(536),g=n(772),O=n(693),p=n.n(O),h=n(694),m=n.n(h),x=n(685),v=n.n(x),y=n(66),S=n(128),C=n(2),N=["card","divider","icon","icons","maxItems","navigation","rightAlign","title","titleBottom"],P=Object(l.a)((function(e){return{link:{display:"flex",color:e.palette.grey[900],textDecoration:"none",alignContent:"center",alignItems:"center"},activeLink:{display:"flex",textDecoration:"none",alignContent:"center",alignItems:"center",color:e.palette.grey[500]},icon:{marginRight:e.spacing(.75),marginTop:"-".concat(e.spacing(.25)),width:"1rem",height:"1rem",color:e.palette.secondary.main},separator:{width:16,marginLeft:8,marginRight:8},content:{padding:"16px !important"},noPadding:{padding:"16px !important",paddingLeft:"0 !important"},card:{marginBottom:e.spacing(S.b),border:"1px solid",borderColor:"dark"===e.palette.mode?e.palette.background.default:e.palette.primary[200]+75},root:{background:"transparent",boxShadow:"none",border:"none"},titleTop:{marginBottom:e.spacing(1)},titleBottom:{marginTop:e.spacing(1)},divider:{borderColor:e.palette.primary.main,marginBottom:e.spacing(S.b)}}}));t.a=function(e){var t=e.card,n=e.divider,l=e.icon,O=e.icons,h=e.maxItems,x=e.navigation,S=e.rightAlign,A=e.title,I=e.titleBottom,F=Object(c.a)(e,N),k=P(),w=Object(s.useState)([]),D=Object(i.a)(w,2),T=D[0],L=D[1],R=Object(s.useState)(),z=Object(i.a)(R,2),B=z[0],M=z[1];Object(s.useEffect)((function(){var e;T.length||null===x||void 0===x||null===(e=x.items)||void 0===e||e.map((function(e,t){return e.type&&"group"===e.type&&W(e,t),!1}))}),[]);var W=function e(t,n){t.children&&t.children.filter((function(t){return t.type&&"collapse"===t.type?(L((function(e){return[].concat(Object(r.a)(e),[t])})),e(t)):t.type&&"item"===t.type&&document.location.hash.includes("#".concat(t.url))&&M(t),!1}))},Y=k.card;!1===t&&(Y=k.root);var q,E=k.content;!1===t&&(E=k.noPadding);var H,J=Object(C.jsx)(d.a,{}),Q="",V=T.map((function(e){if("collapse"!==e.type)return Object(C.jsx)(C.Fragment,{});var t=e.icon?e.icon:p.a;return Object(C.jsxs)(d.a,{component:o.c,to:e.url||"#",variant:"subtitle1",className:k.link,children:[O&&Object(C.jsx)(t,{className:k.icon}),e.title]},e.id)}));return B&&"item"===B.type&&(Q=B.title,H=B.icon?B.icon:p.a,q=Object(C.jsxs)(d.a,{variant:"subtitle1",className:k.activeLink,children:[O&&Object(C.jsx)(H,{className:k.icon}),Q]}),!1!==B.breadcrumbs&&(J=Object(C.jsxs)(u.a,Object(a.a)(Object(a.a)({className:Y},F),{},{children:[Object(C.jsx)(j.a,{className:E,children:Object(C.jsxs)(b.a,{container:!0,direction:S?"row":"column",justifyContent:S?"space-between":"flex-start",alignItems:S?"center":"flex-start",spacing:1,children:[A&&!I&&Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",B.title," "]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(g.a,{classes:{separator:k.separator},"aria-label":"breadcrumb",maxItems:h||8,separator:Object(C.jsx)(y.b,{stroke:1.5,size:"1rem"}),children:[Object(C.jsxs)(d.a,{component:o.c,to:"/",color:"inherit",variant:"subtitle1",className:k.link,children:[O&&Object(C.jsx)(v.a,{className:k.icon}),l&&Object(C.jsx)(m.a,{className:k.icon,style:{marginRight:0}}),!l&&"Dashboard"]}),V,q]})}),A&&I&&Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(d.a,{variant:"h3",sx:{fontWeight:500},children:[" ",B.title," "]})})]})}),!1===t&&!1!==n&&Object(C.jsx)(f.a,{className:k.divider})]})))),J}},688:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var a=n(6),r=n(143),i=n(2),c=function(e,t){var n=e.id,r=e.url,i=t.id,c=t.url;return Object(a.a)(Object(a.a)({},s({title:"property",id:n,url:r})),{},{type:"collapse",children:[s({title:"offer",id:i,url:c})]})},s=function(e){var t=e.url,n=e.id,a=e.title;return{id:n,title:Object(i.jsx)(r.a,{id:a,values:{id:n}}),url:t,type:"item"}},o=function(e,t){return{items:[{type:"group",children:[Object(a.a)(Object(a.a)({},e),{},{children:t?[t]:e.children})]}]}}},695:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return p}));n(14);var a=n(18),r=n.n(a),i=n(42),c=n.n(i),s=n(22),o="Done",l="Yes",d="No",u="Cash",j={saleOfHomeContingency:"SaleOfHomeContingency",financeContingency:"FinanceContingency",inspectionContingency:"InspectionContingency",appraisalContingency:"AppraisalContingency"},b=function(e,t){var n=r()(e,"Contingencies.".concat(t));if(!n||n===d)return{dueDate:"N/A",status:"N/A"};var a=r()(e,"Contingencies.SignedPAConfirmedAt"),i=r()(e,"Contingencies.".concat(t,"Days"));return{status:r()(e,["Contingencies","".concat(t,"Removed")])===l?o:l,dueDate:i?c()(a).add(i,"days").format("MM/DD/YYYY"):"N/A"}},f=[{id:"OfferNo",numeric:!1,disablePadding:!1,label:"No"},{id:"PropertyData.FullAddress",numeric:!1,disablePadding:!1,label:"Property Address"},{id:"PropertyData.OwnerNames",numeric:!1,disablePadding:!1,label:"Sellers"},{id:"CounterOffer.SellerCounter.OfferPrice",numeric:!0,disablePadding:!1,label:"Offer Price",pathFn:s.n},{id:"Funding.PurchaseType",numeric:!1,disablePadding:!1,label:"Funding"},{id:"Funding.LoanType",numeric:!1,disablePadding:!1,label:"Loan Type"},{id:"Funding.DownPayment",numeric:!1,disablePadding:!1,label:"Down Payment"},{id:"Step.messages.advisor",numeric:!1,disablePadding:!1,label:"Status"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"}];var g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Funding.PurchaseType";if(t.includes(j.saleOfHomeContingency))return r()(e,"".concat(t))||"N/A";if(t.includes(j.financeContingency)&&r()(e,n,"")===u)return"N/A";var a=r()(e,"".concat(t));if(!a)return"N/A";var i=r()(e,"".concat(t,"Days"));return+i?"".concat(i," days"):"No"},O="Cash",p=function(e){var t=r()(e,"Funding")||{},n=t.PurchaseType,a=t.CashProofOfFundsAmount,i=t.FinancingProofOfFundsAmount;if(!n)return"";var c=n===O?a:i;return Object(s.h)(c||0)}},700:function(e,t,n){"use strict";var a=n(657),r=n(645),i=n(868),c=n(66),s=n(865),o=n(524),l=n(2),d=Object(s.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(a.a),u=Object(o.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,a=e.loading,s=u();return Object(l.jsx)(r.a,{container:!0,className:s.toolbar,justifyContent:"center",children:Object(l.jsx)(d,{type:"button",onClick:function(){return t()},disabled:n||a,children:a?Object(l.jsx)(i.a,{size:24}):Object(l.jsx)(c.a,{})})})}},721:function(e,t,n){"use strict";var a=n(524),r=n(1110),i=n(1103),c=n(741),s=n(658),o=n(66),l=n(2),d=Object(a.a)((function(e){return{searchControl:{paddingRight:"16px",paddingLeft:"16px","& input":{background:"transparent !important",paddingLeft:"5px !important"}},startAdornment:{fontSize:"1rem",color:e.palette.grey[500]},resetButton:{width:"22px",height:"22px"},formControl:{width:"100%"}}}));t.a=function(e){var t=e.search,n=e.setSearch,a=d();return Object(l.jsx)(r.a,{variant:"outlined",className:a.formControl,children:Object(l.jsx)(i.a,{className:a.searchControl,name:"search",value:t,onChange:function(e){n(e.target.value)},placeholder:"Search",startAdornment:Object(l.jsx)(c.a,{position:"start",children:Object(l.jsx)(o.j,{stroke:1.5,size:"1rem",className:a.startAdornment})}),endAdornment:t?Object(l.jsx)(s.a,{type:"button",size:"small",className:a.resetButton,onClick:function(){n("")},children:Object(l.jsx)(o.m,{stroke:1.5,size:"1rem"})}):Object(l.jsx)(l.Fragment,{}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})}},773:function(e,t,n){"use strict";n(0);var a=n(18),r=n.n(a),i=n(74),c=n.n(i),s=n(790),o=n(791),l=n(792),d=n(788),u=n(789),j=n(658),b=n(645),f=n(639),g=n(730),O=n.n(g),p=n(524),h=n(56),m=n(6),x=n(787),v=n(866),y=n(803),S=n(695),C=n(184),N=n(2),P=Object(p.a)((function(){return{sortSpan:Object(m.a)({},y.a)}})),A=function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,r=P(),i=function(e){return n&&n.id===e.id};return Object(N.jsx)(x.a,{children:Object(N.jsxs)(d.a,{children:[S.e.map((function(e){return Object(N.jsx)(u.a,{align:"left",padding:e.disablePadding?"none":"normal",sortDirection:i(e)?t:void 0,children:a?Object(N.jsxs)(v.a,{active:i(e),direction:i(e)?t:C.a.ASC,onClick:function(){return a&&a(e)},children:[e.label,i(e)?Object(N.jsx)("span",{className:r.sortSpan,children:t===C.a.DESC?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)})),Object(N.jsx)(u.a,{align:"center",sx:{pr:3},children:"Action"})]})})},I=n(700),F=n(323),k=n(161),w=n(320),D=n(28),T=Object(p.a)((function(){return{table:{minWidth:"750px"}}}));t.a=function(e){var t=e.offers,n=e.isLoading,a=e.hasMore,i=e.loadMore,g=e.propertyId,p=e.order,m=e.orderBy,x=e.onRequestSort,v=T(),y=Object(h.h)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(s.a,{children:Object(N.jsxs)(o.a,{className:v.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(N.jsx)(A,{order:p,orderBy:m,onRequestSort:x}),Object(N.jsx)(l.a,{children:t.map((function(e){var t,n,a,i,c;return"number"===typeof e?null:Object(N.jsxs)(d.a,{hover:!0,tabIndex:-1,children:[Object(N.jsx)(u.a,{component:"th",children:e.OfferNo}),Object(N.jsx)(u.a,{align:"left",children:r()(e,"PropertyData.FullAddress")||"N/A"}),Object(N.jsx)(u.a,{align:"left",children:r()(e,"PropertyData.OwnerNames")||"N/A"}),Object(N.jsx)(u.a,{align:"left",children:Object(F.f)(e)||"N/A"}),Object(N.jsx)(u.a,{align:"left",children:(null===(t=e.Funding)||void 0===t?void 0:t.PurchaseType)||"N/A"}),Object(N.jsx)(u.a,{align:"left",children:(null===(n=e.Funding)||void 0===n?void 0:n.LoanType)||"N/A"}),Object(N.jsx)(u.a,{align:"left",children:Object(k.b)(null===(a=e.Funding)||void 0===a?void 0:a.DownPayment)||"N/A"}),Object(N.jsx)(u.a,{sx:{pr:3},align:"left",children:(null===(i=e.Step)||void 0===i||null===(c=i.messages)||void 0===c?void 0:c.advisor)||"N/A"}),Object(N.jsx)(u.a,{align:"left",children:Object(w.b)(e.CreatedAt)}),Object(N.jsx)(u.a,{align:"center",sx:{pr:3},children:Object(N.jsx)(j.a,{color:"primary",onClick:function(){return function(e,t){var n=null!==g&&void 0!==g?g:t,a=Object(h.f)(D.c.PROPERTY_OFFER,{propertyId:n,offerId:e});y.push(a)}(e.OfferId,e.PropertyId)},children:Object(N.jsx)(O.a,{sx:{fontSize:"1.3rem"}})})})]},e.OfferId)}))})]})}),c()(t)&&!n&&Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(f.a,{icon:!1,severity:"info",children:"No Records found"})}),a&&i&&Object(N.jsx)(I.a,{onLoadMore:i,loading:n})]})}},825:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(18),r=n.n(a),i=n(74),c=n.n(i),s=function(e){var t=e.search,n=e.selectedStatuses.map((function(e){return r()(e,"Id")}));return{query:c()(n)||t?t:"*",statusIds:c()(n)?void 0:n}}},875:function(e,t,n){"use strict";n(0);var a=n(645),r=n(657),i=n(74),c=n.n(i),s=n(524),o=n(721),l=n(6),d=n(1110),u=n(919),j=n(716),b=n(18),f=n.n(b),g=n(157),O=n.n(g),p=n(2),h=Object(s.a)((function(){return{formControl:{width:"100%"}}})),m=function(e){var t=e.selectedStatuses,n=e.setSelectedStatuses,a=e.statuses,r=h();return Object(p.jsx)(d.a,{variant:"outlined",className:r.formControl,children:Object(p.jsx)(u.a,{value:t,onChange:function(e,t){n(O()(t,"Id"))},fullWidth:!0,multiple:!0,limitTags:1,options:a,getOptionLabel:function(e){return f()(e,"Name","")},defaultValue:[],renderInput:function(e){return Object(p.jsx)(j.a,Object(l.a)(Object(l.a)({},e),{},{label:"Status",variant:"outlined",multiline:!1}))}})})},x=Object(s.a)((function(){return{form:{width:"100%"}}}));t.a=function(e){var t=e.onSearch,n=e.onTriggerSearch,i=e.statuses,s=e.search,l=e.setSearch,d=e.selectedStatuses,u=e.setSelectedStatuses,j=e.openFilter,b=void 0===j||j,f=x(),g={display:{xs:b?"block":"none",lg:"block"}};return Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault(),t()},className:f.form,children:Object(p.jsxs)(a.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(p.jsx)(a.a,{item:!0,xs:12,lg:4,children:Object(p.jsx)(o.a,{search:s,setSearch:l})}),!c()(i)&&Object(p.jsx)(a.a,{item:!0,xs:12,lg:6,sx:g,children:Object(p.jsx)(m,{selectedStatuses:d,setSelectedStatuses:u,statuses:i})}),Object(p.jsx)(a.a,{item:!0,xs:12,lg:1,sx:g,children:Object(p.jsx)(r.a,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,children:"Search"})}),Object(p.jsx)(a.a,{item:!0,xs:12,lg:1,sx:g,children:Object(p.jsx)(r.a,{type:"button",variant:"outlined",size:"large",fullWidth:!0,onClick:function(){l(""),u([]),n(!1)},children:"Reset"})})]})})}}}]);
//# sourceMappingURL=26.51b29150.chunk.js.map