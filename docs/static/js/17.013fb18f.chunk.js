(this["webpackJsonpnile-portal"]=this["webpackJsonpnile-portal"]||[]).push([[17],{1100:function(e,t,n){"use strict";n.r(t);var r=n(308),a=n(64),i=n.n(a),o=n(102),c=n(22),s=n(13);function l(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}var u=n(955),d=n(155),p=n(943),b=n(723),f=n(57),j=n(828),m=n(1112),h=n(1113),O=n(1114),x=n(1108),g=n(1109),y=n(1099),v=n(845),T=n(1090),C=n(122),k=n.n(C),S=n(96),I=n.n(S),R=n(55),F=n(60),w=n(883),M=n.n(w),P=(n(0),n(47)),A=n(196),N=n(857),D=n(1070),$=n(1105),_=n(1),U=[{id:"Title",numeric:!1,label:"Title",align:"left",disablePadding:!1},{id:"Category",numeric:!1,label:"Category",align:"left",disablePadding:!1},{id:"FormType",numeric:!1,label:"Form Type",align:"left"},{id:"CreatedAt",numeric:!1,label:"Created Date",align:"left"},{id:"UpdatedAt",numeric:!1,label:"Updated Date",align:"left"}],L=Object(b.a)((function(){return{sortSpan:Object(s.a)({},T.a)}})),E=function(e){var t=L(),n=e.onSelectAllClick,r=e.order,a=e.orderBy,i=e.numSelected,o=e.rowCount,c=e.onRequestSort;return Object(_.jsx)(D.a,{children:Object(_.jsxs)(x.a,{children:[Object(_.jsx)(g.a,{padding:"checkbox",sx:{pl:3},children:Object(_.jsx)(y.a,{color:"primary",indeterminate:i>0&&i<o,checked:o>0&&i===o,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),U.map((function(e){return Object(_.jsx)(g.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id?r:void 0,children:Object(_.jsxs)($.a,{active:a===e.id,direction:a===e.id?r:"asc",onClick:(n=e.id,function(e){c(e,n)}),children:[e.label,a===e.id?Object(_.jsx)("span",{className:t.sortSpan,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),Object(_.jsx)(g.a,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})},q=n(863),z=n(864),B=n(847),V=n(865),H=n(145),J=n(12),W=n(29),Z=n(16),Q=n(840),Y=n(831),G=n(731),K=n(1111),X=n(942),ee=n(909),te=n.n(ee),ne=n(954),re=n.n(ne),ae=Object(b.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},highlight:{backgroundColor:Object(W.a)(e.palette.primary.main,e.palette.action.activatedOpacity)},title:{flex:"1 1 100%"}}})),ie=function(e){var t=ae(),n=e.numSelected,r=e.onDelete,a=e.onCreate;return Object(_.jsx)(Q.a,{className:Object(Z.a)(t.root,Object(J.a)({},t.highlight,n>0)),children:Object(_.jsxs)(Y.a,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[Object(_.jsx)(Y.a,{item:!0,xs:12,sm:6,children:n>0&&Object(_.jsxs)(G.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]})}),Object(_.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(_.jsx)(Y.a,{container:!0,justifyContent:"flex-end",alignItems:"center",children:n>0?Object(_.jsx)(K.a,{title:"Delete",children:Object(_.jsx)(v.a,{onClick:r,children:Object(_.jsx)(re.a,{})})}):Object(_.jsx)(K.a,{title:"Create",children:Object(_.jsx)(X.a,{color:"primary","aria-label":"add",sx:{boxShadow:"none",ml:1,width:"48px",height:"48px"},onClick:a,children:Object(_.jsx)(te.a,{})})})})})]})})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=I()(t,"id"),r=I()(t,"Name",n);return Object(s.a)(Object(s.a)({},e),{},Object(J.a)({},n,r))}),{})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=I()(t,"id"),r=I()(t,"Title",n);return Object(s.a)(Object(s.a)({},e),{},Object(J.a)({},n,{categoryName:r,formTypes:oe(I()(t,"FormTypes",[]))}))}),{})},se=Object(b.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},sortSpan:Object(s.a)({},T.a)}})),le=function(){var e=Object(u.a)(Object(d.a)(N.a.listForms),{variables:{limit:P.a.pagination.limit},fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),t=e.loading,n=e.error,r=e.data,a=e.fetchMore,b=Object(u.a)(Object(d.a)(N.a.listFormCategories)).data,T=Object(p.a)(Object(d.a)(B.deleteForm),{}),C=Object(c.a)(T,2),S=C[0],w=C[1],D=w.loading,$=w.error,U=I()(r,["listForms","items"],[]),L=I()(r,"listForms.nextToken",void 0),J=Object(f.a)(),W=se(),Z=Object(H.b)("CreatedAt"),Q=Z.order,Y=Z.orderBy,G=Z.handleRequestSort,K=Object(H.c)("FormId"),X=K.selected,ee=K.isSelected,te=K.handleSelect,ne=K.handleSelectAll,re=K.clearSelected,ae=Object(R.h)();if((t||D)&&!r)return Object(_.jsx)(A.a,{});if(n||k()(r)||$)return Object(_.jsx)(j.a,{severity:"error",sx:{color:J.palette.error.main},children:"Something went wrong!"});var oe=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,r,a,o,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X){e.next=2;break}return e.abrupt("return");case 2:t=!0,n=!1,e.prev=4,a=i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u,e.next=3,S({variables:{FormId:t},update:function(e){e.modify({fields:{listForms:function(e,n){var r=n.readField,a=e.items.filter((function(e){return t!==r("FormId",e)}));return Object(s.a)(Object(s.a)({},e),{},{items:a})}}})}});case 3:case"end":return e.stop()}}),e)})),o=l(X);case 7:return e.next=9,o.next();case 9:return c=e.sent,t=c.done,e.next=13,c.value;case 13:if(u=e.sent,t){e.next=19;break}return e.delegateYield(a(),"t0",16);case 16:t=!0,e.next=7;break;case 19:e.next=25;break;case 21:e.prev=21,e.t1=e.catch(4),n=!0,r=e.t1;case 25:if(e.prev=25,e.prev=26,t||null==o.return){e.next=30;break}return e.next=30,o.return();case 30:if(e.prev=30,!n){e.next=33;break}throw r;case 33:return e.finish(30);case 34:return e.finish(25);case 35:re();case 36:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})));return function(){return e.apply(this,arguments)}}(),le=function(e){var t=ce(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return e.map((function(e){var n=I()(e,"CategoryId"),r=I()(e,"FormTypeId");return Object(s.a)(Object(s.a)({},e),{},{CategoryName:I()(t,[n,"categoryName"]),FormTypeName:I()(t,[n,"formTypes",r])})}))}(U,I()(b,["listFormCategories"],[])),ue=Object(q.b)(le,Object(q.a)(Q,Y));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ie,{numSelected:X.length,onDelete:oe,onCreate:function(){var e=Object(R.f)("/form-add");ae.push(e)}}),Object(_.jsx)(m.a,{children:Object(_.jsxs)(h.a,{className:W.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(_.jsx)(E,{numSelected:X.length,order:Q,orderBy:Y,onSelectAllClick:function(e){ne(e.target.checked,U)},onRequestSort:G,rowCount:U.length}),Object(_.jsx)(O.a,{children:ue.map((function(e,t){if("number"===typeof e)return null;var n=Object(R.f)("/form/:id",{id:e.FormId}),r=ee(e.FormId),a="enhanced-table-checkbox-".concat(t);return Object(_.jsxs)(x.a,{hover:!0,onClick:function(){return te(e.FormId)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(_.jsx)(g.a,{sx:{pl:3},padding:"checkbox",children:Object(_.jsx)(y.a,{color:"primary",checked:r,inputProps:{"aria-labelledby":a}})}),Object(_.jsx)(g.a,{align:"left",children:e.Title}),Object(_.jsxs)(g.a,{align:"left",children:[e.CategoryName||e.CategoryId," "]}),Object(_.jsx)(g.a,{align:"left",children:e.FormTypeName||e.FormTypeId}),Object(_.jsx)(g.a,{align:"left",children:Object(V.a)(e.CreatedAt)}),Object(_.jsx)(g.a,{align:"left",children:Object(V.a)(e.UpdatedAt)}),Object(_.jsx)(g.a,{align:"left",sx:{pr:3},children:Object(_.jsx)(F.c,{to:n,children:Object(_.jsx)(v.a,{color:"primary",children:Object(_.jsx)(M.a,{sx:{fontSize:"1.3rem"}})})})})]},e.FormId)}))})]})}),Object(_.jsx)(z.a,{onLoadMore:function(){a({variables:{limit:P.a.pagination.limit,nextToken:L}})},disabled:!L,loading:t})]})};t.default=function(){return Object(_.jsx)(r.a,{title:"Forms List",children:Object(_.jsx)(le,{})})}},857:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"onUpdatePropertyReportStatus",(function(){return s}));var a={};n.r(a),n.d(a,"listOffers",(function(){return l})),n.d(a,"listProperties",(function(){return u})),n.d(a,"listForms",(function(){return d}));var i=n(13),o=n(846),c=n(847),s="\n  subscription OnUpdatePropertyReportStatus($PropertyId: ID!) {\n    onUpdatePropertyReportStatus(PropertyId: $PropertyId) {\n      DTPropertyId\n      PropertyId\n      TaxReportTaxResourceMessage\n      TaxReportTaxResourceStatus\n      TaxReportTaxResourceUpdatedAt\n      TaxReportTotalViewMessage\n      TaxReportTotalViewStatus\n      TaxReportTotalViewUpdatedAt\n    }\n  }\n",l="\n  query ListOffers($limit: Int, $nextToken: String) {\n    listOffers(limit: $limit, nextToken: $nextToken) {\n      items {\n        Funding {\n          PurchaseType\n          LoanType\n          DownPayment\n        }\n        OfferNo\n        OfferId\n        PropertyData {\n          FullAddress\n          OwnerNames\n        }\n        CounterOffer {\n          SellerCounter {\n            OfferPrice\n          }\n          BuyerCounter {\n            OfferPrice\n          }\n        }\n        Step {\n          messages {\n            advisor\n            buyer\n            seller\n          },\n          id\n          name\n        }\n        CreatedAt\n        UpdatedAt\n      }\n      nextToken\n    }\n  }\n",u="\n  query ListProperties($limit: Int, $nextToken: String) {\n    listProperties(limit: $limit, nextToken: $nextToken) {\n      items {\n        CreatedAt\n        DTPropertyId\n        PropertyData {\n          City\n          County\n          FullAddress\n          OwnerNames\n          State\n          StreetAddress\n          Zip\n        }\n        PropertyId\n        PropertyNo\n      }\n      nextToken\n    }\n  }\n",d="\n  query ListForms($limit: Int, $nextToken: String) {\n    listForms(limit: $limit, nextToken: $nextToken) {\n      items {\n        CategoryId\n        CreatedAt\n        FormId\n        FormStatus\n        FormTypeId\n        Title\n        UpdatedAt\n      }\n      nextToken\n    }\n  }\n",p=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},o),c),r),a);t.a=p},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(96),a=n.n(r),i=function(e,t,n){return a()(t,n)<a()(e,n)?-1:a()(t,n)>a()(e,n)?1:0},o=function(e,t){return"desc"===e?function(e,n){return i(e,n,t)}:function(e,n){return-i(e,n,t)}},c=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}},864:function(e,t,n){"use strict";var r=n(844),a=n(831),i=n(1110),o=n(69),c=n(1104),s=n(723),l=n(1),u=Object(c.a)({root:{borderRadius:"50%",minWidth:"0",padding:"12px"}})(r.a),d=Object(s.a)((function(){return{toolbar:{padding:"24px 16px 2px"}}}));t.a=function(e){var t=e.onLoadMore,n=e.disabled,r=e.loading,c=d();return Object(l.jsx)(a.a,{container:!0,className:c.toolbar,justifyContent:"center",children:Object(l.jsx)(u,{type:"button",onClick:function(){return t()},disabled:n||r,children:r?Object(l.jsx)(i.a,{size:24}):Object(l.jsx)(o.a,{})})})}},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),a=function(e){return"".concat(e?new Intl.DateTimeFormat(r.a.locate.country,{timeZone:r.a.locate.timezone}).format(new Date(e)):"")}},943:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(2),a=n(0),i=n(44),o=n(109),c=n(91),s=n(311),l=n(289),u=function(e){function t(t){var n=t.options,r=t.context,a=t.result,i=t.setResult,c=e.call(this,n,r)||this;return c.runMutation=function(e){void 0===e&&(e={}),c.onMutationStart();var t=c.generateNewMutationId();return c.mutate(e).then((function(e){return c.onMutationCompleted(e,t),e})).catch((function(e){var n=c.getOptions().onError;if(c.onMutationError(e,t),n)return n(e),{data:void 0,errors:e};throw e}))},c.verifyDocumentType(n.mutation,o.a.Mutation),c.result=a,c.setResult=i,c.mostRecentMutationId=0,c}return Object(r.__extends)(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,o.a.Mutation),[this.runMutation,Object(r.__assign)(Object(r.__assign)({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){return this.refreshClient().client.mutate(Object(l.b)(this.getOptions(),e))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),r=n.onCompleted,a=n.ignoreResults,i=e.data,o=e.errors,s=o&&o.length>0?new c.a({graphQLErrors:o}):void 0;this.isMostRecentMutation(t)&&!a&&this.updateResult({called:!0,loading:!1,data:i,error:s}),r&&r(i)},t.prototype.onMutationError=function(e,t){this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0})},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){if(this.isMounted&&(!this.previousResult||!Object(i.a)(this.previousResult,e)))return this.setResult(e),this.previousResult=e,e},t}(s.a),d=n(224);function p(e,t){var n=Object(a.useContext)(Object(d.a)()),i=Object(a.useState)({called:!1,loading:!1}),o=i[0],c=i[1],s=t?Object(r.__assign)(Object(r.__assign)({},t),{mutation:e}):{mutation:e},l=Object(a.useRef)();var p=(l.current||(l.current=new u({options:s,context:n,result:o,setResult:c})),l.current);return p.setOptions(s),p.context=n,Object(a.useEffect)((function(){return p.afterExecute()})),p.execute(o)}},954:function(e,t,n){"use strict";var r=n(134),a=n(135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(0));var i=r(n(136)),o=n(1),c=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=c}}]);
//# sourceMappingURL=17.013fb18f.chunk.js.map